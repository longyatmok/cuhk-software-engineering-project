function sa(F){throw F;}var r=void 0,t=!0,u=null,y=!1;function mb(){return function(F){return F}}function Xb(){return function(){}}function Yd(F){return function(){return F}}function me(F,V){var s=me.Nb(F,V||"/"),T=me.Lb[s];T||sa(Error("Failed to resolve module "+F+", tried "+s));return(s=me.Va[s])?s.mc:T()}me.ut=[];me.Lb={};me.Va={};me.ps=[".js",".coffee",".json"];me.Wr={assert:t,events:t,fs:t,path:t,vm:t};
me.Nb=function(F,V){function s(A){A=b.normalize(A);if(me.Lb[A])return A;for(var B=0;B<me.ps.length;B++){var a=me.ps[B];if(me.Lb[A+a])return A+a}}function T(A){A=A.replace(/\/+$/,"");var B=b.normalize(A+"/package.json");if(me.Lb[B]){var B=me.Lb[B](),a=B.vC;if("object"===typeof a&&a.rh){if(B=s(b.Nb(A,a.rh)))return B}else if("string"===typeof a){if(B=s(b.Nb(A,a)))return B}else if(B.rh&&(B=s(b.Nb(A,B.rh))))return B}return s(A+"/index")}V||(V="/");if(me.Wr[F])return F;var b=me.Lb.path(),L=(V=b.Nb("/",
V))||"/";if(F.match(/^(?:\.\.?\/|\/)/)){var X=s(b.Nb(L,F))||T(b.Nb(L,F));if(X)return X}a:{for(var X="/"===L?[""]:b.normalize(L).split("/"),L=[],P=X.length-1;0<=P;P--)if("node_modules"!==X[P]){var ja=X.slice(0,P+1).join("/")+"/node_modules";L.push(ja)}for(X=0;X<L.length;X++){P=L[X];if(ja=s(P+"/"+F)){L=ja;break a}if(P=T(P+"/"+F)){L=P;break a}}L=(ja=s(F))?ja:r}if(L)return L;sa(Error("Cannot find module '"+F+"'"))};
me.WB=function(F,V){var s=me.Lb.path(),T=u;try{T=me.Nb(F+"/package.json","/")}catch(b){T=me.Nb(F,"/")}for(var s=s.dirname(T),T=(Object.keys||function(b){var s=[],A;for(A in b)s.push(A);return s})(me.Lb),L=0;L<T.length;L++){var X=T[L];X.slice(0,s.length+1)===s+"/"?(X=X.slice(s.length),me.Lb[V+X]=me.Lb[s+X]):X===s&&(me.Lb[V]=me.Lb[s])}};var Ue={},Ve="undefined"!==typeof window?window:{},hf=y;
me.Jb=function(F,V){function s(s){var F=me(s,T);if((s=me.Va[me.Nb(s,T)])&&s.parent===u)s.parent=b;return F}!hf&&me.Lb.Cv&&(Ue=me.Lb.Cv(),hf=t);var T=me.Wr[F]?"":me.Lb.path().dirname(F);s.Nb=function(b){return me.Nb(b,T)};s.Lb=me.Lb;s.Jb=me.Jb;s.Va=me.Va;var b={id:F,filename:F,mc:{},loaded:y,parent:u};me.Lb[F]=function(){me.Va[F]=b;V.call(b.mc,s,b,b.mc,T,F,Ue,Ve);b.loaded=t;return b.mc}};
me.Jb("path",function(F,V,s,T,b,L){function X(b,s){for(var a=[],c=0;c<b.length;c++)s(b[c],c,b)&&a.push(b[c]);return a}function P(b,s){for(var a=0,c=b.length;0<=c;c--){var d=b[c];"."==d?b.splice(c,1):".."===d?(b.splice(c,1),a++):a&&(b.splice(c,1),a--)}if(s)for(;a--;a)b.unshift("..");return b}var ja=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;s.Nb=function(){for(var b="",s=y,a=arguments.length;-1<=a&&!s;a--){var c=0<=a?arguments[a]:L.Ww();"string"===typeof c&&c&&(b=c+"/"+b,s="/"===c.charAt(0))}b=P(X(b.split("/"),
function(a){return!!a}),!s).join("/");return(s?"/":"")+b||"."};s.normalize=function(b){var s="/"===b.charAt(0),a="/"===b.slice(-1);b=P(X(b.split("/"),function(a){return!!a}),!s).join("/");!b&&!s&&(b=".");b&&a&&(b+="/");return(s?"/":"")+b};s.join=function(){var b=Array.prototype.slice.call(arguments,0);return s.normalize(X(b,function(b){return b&&"string"===typeof b}).join("/"))};s.dirname=function(b){return(b=ja.exec(b)[1]||"")?1===b.length?b:b.substring(0,b.length-1):"."};s.iC=function(b,s){var a=
ja.exec(b)[2]||"";s&&a.substr(-1*s.length)===s&&(a=a.substr(0,a.length-s.length));return a};s.wD=function(b){return ja.exec(b)[3]||""};s.Ne=function(b,B){function a(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;0<=c&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}b=s.Nb(b).substr(1);B=s.Nb(B).substr(1);for(var c=a(b.split("/")),d=a(B.split("/")),f=Math.min(c.length,d.length),g=f,h=0;h<f;h++)if(c[h]!==d[h]){g=h;break}f=[];for(h=g;h<c.length;h++)f.push("..");f=f.concat(d.slice(g));return f.join("/")}});
me.Jb("__browserify_process",function(F,V,s,T,b,L){L=V.mc={};L.pF=function(){if("undefined"!==typeof window&&window.kA)return function(b){return window.kA(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var b=[];window.addEventListener("message",function(s){s.source===window&&"browserify-tick"===s.data&&(s.stopPropagation(),0<b.length&&b.shift()())},t);return function(s){b.push(s);window.postMessage("browserify-tick","*")}}return function(b){setTimeout(b,0)}}();L.title=
"browser";L.Uf=t;L.vD={};L.bC=[];L.lC=function(b){if("evals"===b)return F("vm");sa(Error("No such module. (Possibly not yet loaded)"))};var X="/",P;L.Ww=function(){return X};L.DC=function(b){P||(P=F("path"));X=P.Nb(b,X)}});
me.Jb("/framework/Game.js",function(F,V){function s(A){var B=this;this.la=s.extend({width:window.innerWidth,height:window.innerHeight,container:document.body,allowFullScreen:y,fullScreenOpts:{}},A);this.vd=new X;this.dC=new P;this.gm=new ja;this.gg=new b.yv;this.gg.xk(this.la.width,this.la.height);this.gg.Il=y;this.la.JC.append(this.gg.ee);A.YB&&(console.log("fullscreen : on"),L.Pc.vw(s.extend({element:this.gg.ee},this.la.ED)));if(A.width==this.la.width&&A.height==this.la.height||!A.width&&!A.height)console.log("resize handler : on"),
window.addEventListener("resize",function(){B.mz()},y);this.gb=this.Sj=y}var T=F("../client/vendor/jQuery"),b=F("../client/vendor/Three"),L=L||{};L.Pc=F("../client/vendor/THREEx/FullScreen");b.rn=F("../client/vendor/THREE/TrackballControls");L.Cr=F("../client/vendor/THREEx/WindowResize");var X=F("./SceneManager"),P=F("./AssetManager"),ja=F("./GameObjectManager");F("util");s.Ha=function(b){window.addEventListener("load",function a(){window.removeEventListener("load",a,y);b()},y)};s.extend=T.extend;
s.prototype.ij=function(){this.vd.ij();this.gm.ij();console.log(this.vd.gb);this.vd.gb.se.add(this.gm.get("__boilerplate_cube"));controls=new b.rn(this.vd.gb.Ng.rh);controls.Ct=4;controls.ru=3.6;controls.tt=2;controls.yi=y;controls.xi=y;controls.Sm=t;controls.Wl=0.3;controls.keys=[65,83,68];return this};s.prototype.dy=function(){this.Sj=t};s.prototype.start=function(){function b(){s.gb&&(requestAnimationFrame(b),controls.update(),s.t())}this.Sj==y&&sa(Error("Game NOT INITIALIEZD"));this.gb=t;var s=
this;b()};s.prototype.pause=function(){this.Sj==y&&sa(Error("Game NOT INITIALIEZD"));this.gb=y;return this};s.prototype.stop=function(){this.pause();return this};s.prototype.t=function(){this.gm.t();this.vd.t();this.gg.clear();this.gg.Kt(window.innerWidth,window.innerHeight);this.gg.t(this.vd.gb.se,this.vd.gb.Ng.rh)};s.prototype.mz=function(){this.vd.gb.Ng.rh.di=window.innerWidth/window.innerHeight;this.vd.gb.Ng.rh.Cf();this.gg.xk(window.innerWidth,window.innerHeight);this.controls.Hs();this.t()};
V.mc=s});
me.Jb("/client/vendor/jQuery.js",function(F,V,s){function T(){function b(H){var a=Tb.createElement("div");try{return H(a)}catch(b){return y}finally{}}function s(){var H={},a=[];return F(function(b,c){a.push(b)>da.bo&&delete H[a.shift()];return H[b]=c},H)}function F(H,a){H[jb]=a||t;return H}function P(H,b,c,e,d){H=H.replace(cd,"$1");var f,h,j,k,E,l;E=a(H,b,d);l=b.nodeType;if(mc.POS.test(H)){f=E;var m,p,n,x,q,v,w;E=0;l=f.length;for(var pa=mc.POS,na=RegExp("^"+pa.source+"(?!"+Na+")","i"),ib=function(){for(var H=
1,a=arguments.length-2;H<a;H++)arguments[H]===r&&(x[H]=r)};E<l;E++){H=f[E];m="";n=e;d=0;for(j=H.length;d<j;d++){p=H[d];k=p.we;if("PSEUDO"===p.dc){pa.exec("");for(p=0;x=pa.exec(k);){h=t;q=pa.lastIndex=x.index+x[0].length;if(q>p){m+=k.slice(p,x.index);p=q;v=[b];dd.test(m)&&(n&&(v=n),n=e);if(w=oe.test(m))m=m.slice(0,-5).replace(dd,"$&*"),p++;1<x.length&&x[0].replace(na,ib);q=x[1];var z=x[2],C=r,G=da.Dh[q.toLowerCase()];G||g.error(q);if(m||!(C=n))T(m||"*",v,C=[],n);n=0<C.length?G(C,z,w):[]}m=""}}h||(m+=
k);h=y}m?dd.test(m)?T(m,n||[b],c,e):g(m,b,c,e?e.concat(n):n):Cc.apply(c,n)}return 1===l?c:g.Tk(c)}if(e)f=Nb.call(e,0);else if(1===E.length){if(2<(j=Nb.call(E[0],0)).length&&"ID"===(k=j[0]).dc&&9===l&&!d&&da.Ne[j[1].dc]){b=da.find.ID(k.hf[0].replace(Y,""),b,d)[0];if(!b)return c;H=H.slice(j.shift().we.length)}h=(E=td.exec(j[0].we))&&!E.index&&b.parentNode||b;E="";for(e=j.length-1;0<=e;e--){k=j[e];l=k.dc;E=k.we+E;if(da.Ne[l])break;if(da.Hp.test(l)&&(f=da.find[l](k.hf[0].replace(Y,""),h,d),f!=u)){(H=
H.slice(0,H.length-E.length)+E.replace(mc[l],""))||Cc.apply(c,Nb.call(f,0));break}}}if(H){h=ud(H,b,d);bc=h.wo++;f==u&&(f=da.find.TAG("*",td.test(H)&&b.parentNode||b));for(e=0;b=f[e];e++)Yc=h.hq++,h(b)&&c.push(b)}return c}function T(H,a,b,c){for(var e=0,d=a.length;e<d;e++)g(H,a[e],b,c)}function A(H,a){return H?function(b){var c=a(b);return c&&H(c===t?b:c)}:a}function B(H,a,b,c){var e=a.dir,d=Gd++;H||(H=function(H){return H===b});return a.$g?function(a){for(;a=a[e];)if(1===a.nodeType)return H(a)&&a}:
c?function(a){for(;a=a[e];)if(1===a.nodeType&&H(a))return a}:function(a){for(var b,Qa=d+"."+bc,c=Qa+"."+Yc;a=a[e];)if(1===a.nodeType){if((b=a[jb])===c)return a.wd;if("string"===typeof b&&0===b.indexOf(Qa)){if(a.wd)return a}else{a[jb]=c;if(H(a))return a.wd=t,a;a.wd=y}}}}function a(H,a,b,c){var e,d,f,h,j,k,E,l,m,p=!b&&a!==Tb,n=(p?"<s>":"")+H.replace(cd,"$1<s>");if(j=Hd[jb][n])return c?0:Nb.call(j,0);j=H;k=[];l=da.Op;for(m=da.filter;j;){if(!e||(d=pe.exec(j)))d&&(j=j.slice(d[0].length),f.P=E),k.push(f=
[]),E="",p&&(j=" "+j);e=y;if(d=dd.exec(j))E+=d[0],j=j.slice(d[0].length),e=f.push({dc:d.pop().replace(cd," "),we:d[0],hf:d});for(h in m)if((d=mc[h].exec(j))&&(!l[h]||(d=l[h](d,a,b))))E+=d[0],j=j.slice(d[0].length),e=f.push({dc:h,we:d.shift(),hf:d});if(!e)break}E&&(f.P=E);return c?j.length:j?g.error(H):Nb.call(Hd(n,k),0)}function c(H,a,b){if(H===a)return b;for(H=H.nextSibling;H;){if(H===a)return-1;H=H.nextSibling}return 1}function d(H){return function(a){var b=a.nodeName.toLowerCase();return("input"===
b||"button"===b)&&a.type===H}}function f(H){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===H}}function g(H,a,b,c){b=b||[];a=a||Tb;var e,d,f,g,h=a.nodeType;if(1!==h&&9!==h)return[];if(!H||"string"!==typeof H)return b;f=ed(a);if(!f&&!c&&(e=qe.exec(H)))if(g=e[1])if(9===h)if((d=a.getElementById(g))&&d.parentNode){if(d.id===g)return b.push(d),b}else return b;else{if(a.ownerDocument&&(d=a.ownerDocument.getElementById(g))&&Id(a,d)&&d.id===g)return b.push(d),b}else{if(e[2])return Cc.apply(b,
Nb.call(a.getElementsByTagName(H),0)),b;if((g=e[3])&&Jd&&a.getElementsByClassName)return Cc.apply(b,Nb.call(a.getElementsByClassName(g),0)),b}return P(H,a,b,c,f)}function h(H){return e.event.Qa.Ro?H:H.replace(pa,"mouseenter$1 mouseleave$1")}function j(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",j,y),e.Ha()):"complete"===R.readyState&&(R.detachEvent("onreadystatechange",j),e.Ha())}function l(H,a){return(a+"").toUpperCase()}function e(H,a){return new e.m.Ca(H,a,lb)}function m(H){return e.Gc(H)?
H:9===H.nodeType?H.defaultView||H.parentWindow:y}function n(H,a){var b,c={height:H},e=0;for(a=a?1:0;4>e;e+=2-a)b=Pb[e],c["margin"+b]=c["padding"+b]=H;a&&(c.opacity=c.width=H);return c}function q(H,a,b,c,e){return new q.prototype.Ca(H,a,b,c,e)}function w(H,a,b){function c(){for(var a=Dc||x(),a=Math.max(0,j.startTime+j.duration-a),b=1-(a/j.duration||0),e=0,Qa=j.ye.length;e<Qa;e++)j.ye[e].tk(b);h.Bp(H,[j,b,a]);if(1>b&&Qa)return a;h.ud(H,[j]);return y}var d,f=0,g=Rc.length,h=e.Zc().zc(function(){delete c.I}),
j=h.qa({I:H,ec:e.extend({},a),la:e.extend(t,{Ok:{}},b),rz:a,qz:b,startTime:Dc||x(),duration:b.duration,ye:[],uj:function(a,b){var c=e.sn(H,j.la,a,b,j.la.Ok[a]||j.la.fe);j.ye.push(c);return c},stop:function(a){for(var b=0,c=a?j.ye.length:0;b<c;b++)j.ye[b].tk(1);a?h.ud(H,[j,a]):h.Xp(H,[j,a]);return this}});a=j.ec;b=j.la.Ok;var k,E,l,m;for(d in a)if(k=e.Dc(d),E=b[k],l=a[d],e.isArray(l)&&(E=l[1],l=a[d]=l[0]),d!==k&&(a[k]=l,delete a[d]),(m=e.La[k])&&"expand"in m)for(d in l=m.expand(l),delete a[k],l)d in
a||(a[d]=l[d],b[d]=E);else b[k]=E;for(;f<g;f++)if(d=Rc[f].call(j,H,a,j.la))return d;var p=j;e.k(a,function(H,a){for(var b=(xc[H]||[]).concat(xc["*"]),c=0,e=b.length;c<e&&!b[c].call(p,H,a);c++);});e.r(j.la.start)&&j.la.start.call(H,j);e.da.Eq(e.extend(c,{On:j,U:j.la.U,I:H}));return j.Ah(j.la.Ah).jb(j.la.jb,j.la.complete).he(j.la.he).zc(j.la.zc)}function x(){setTimeout(function(){Dc=I},0);return Dc=e.now()}function p(){try{return new J.XMLHttpRequest}catch(H){}}function v(H,a){var b,c,d=e.yc.Fo||{};
for(b in a)a[b]!==I&&((d[b]?H:c||(c={}))[b]=a[b]);c&&e.extend(t,H,c)}function z(H,a,b,c,e,d){e=e||a.ib[0];d=d||{};d[e]=t;var f;e=H[e];for(var g=0,h=e?e.length:0,j=H===G;g<h&&(j||!f);g++)f=e[g](a,b,c),"string"===typeof f&&(!j||d[f]?f=I:(a.ib.unshift(f),f=z(H,a,b,c,f,d)));if((j||!f)&&!d["*"])f=z(H,a,b,c,"*",d);return f}function Q(H){return function(a,b){"string"!==typeof a&&(b=a,a="*");var c,d,f=a.toLowerCase().split(za),g=0,h=f.length;if(e.r(b))for(;g<h;g++)c=f[g],(d=/^\+/.test(c))&&(c=c.substr(1)||
"*"),c=H[c]=H[c]||[],c[d?"unshift":"push"](b)}}function Jb(H,a,b,c){var d;if(e.isArray(a))e.k(a,function(a,e){b||Db.test(H)?c(H,e):Jb(H+"["+("object"===typeof e?a:"")+"]",e,b,c)});else if(!b&&"object"===e.type(a))for(d in a)Jb(H+"["+d+"]",a[d],b,c);else c(H,a)}function Vb(H){if(Ia[H])return Ia[H];var a=e("<"+H+">").Rn(R.body),b=a.J("display");a.remove();if("none"===b||""===b){Kb=R.body.appendChild(Kb||e.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!cc||!Kb.createElement)cc=
(Kb.contentWindow||Kb.contentDocument).document,cc.write("<!doctype html><html><body>"),cc.close();a=cc.body.appendChild(cc.createElement(H));b=Ja(a,"display");R.body.removeChild(Kb)}return Ia[H]=b}function W(H,a,b){var c="width"===a?H.offsetWidth:H.offsetHeight,d=t,f=e.n.boxSizing&&"border-box"===e.J(H,"boxSizing");if(0>=c||c==u){c=Ja(H,a);if(0>c||c==u)c=H.style[a];if(Zb.test(c))return c;d=f&&(e.n.kj||c===H.style[a]);c=parseFloat(c)||0}return c+fd(H,a,b||(f?"border":"content"),d)+"px"}function fd(H,
a,b,c){a=b===(c?"border":"content")?4:"width"===a?1:0;for(var d=0;4>a;a+=2)"margin"===b&&(d+=e.J(H,b+Pb[a],t)),c?("content"===b&&(d-=parseFloat(Ja(H,"padding"+Pb[a]))||0),"margin"!==b&&(d-=parseFloat(Ja(H,"border"+Pb[a]+"Width"))||0)):(d+=parseFloat(Ja(H,"padding"+Pb[a]))||0,"padding"!==b&&(d+=parseFloat(Ja(H,"border"+Pb[a]+"Width"))||0));return d}function K(H,a,b){return(H=re.exec(a))?Math.max(0,H[1]-(b||0))+(H[2]||"px"):a}function ma(H,a){for(var b,c,d=[],f=0,g=H.length;f<g;f++)b=H[f],b.style&&
(d[f]=e.F(b,"olddisplay"),a?(!d[f]&&"none"===b.style.display&&(b.style.display=""),""===b.style.display&&N(b)&&(d[f]=e.F(b,"olddisplay",Vb(b.nodeName)))):(c=Ja(b,"display"),!d[f]&&"none"!==c&&e.F(b,"olddisplay",c)));for(f=0;f<g;f++)if(b=H[f],b.style&&(!a||"none"===b.style.display||""===b.style.display))b.style.display=a?d[f]||"":"none";return H}function N(H,a){H=a||H;return"none"===e.J(H,"display")||!e.contains(H.ownerDocument,H)}function M(H,a){if(a in H)return a;for(var b=a.charAt(0).toUpperCase()+
a.slice(1),c=a,e=Kd.length;e--;)if(a=Kd[e]+b,a in H)return a;return c}function Sa(a){Ld.test(a.type)&&(a.defaultChecked=a.checked)}function D(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function Jc(a,b){var c;1===b.nodeType&&(b.jo&&b.jo(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),e.n.jh&&(a.innerHTML&&!e.trim(b.innerHTML))&&
(b.innerHTML=a.innerHTML)):"input"===c&&Ld.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(e.expando))}function S(a,b){if(1===b.nodeType&&e.Pj(a)){var c,d,f;d=e.F(a);var g=e.F(b,d),h=d.Ub;if(h)for(c in delete g.handle,g.Ub={},h){d=0;for(f=h[c].length;d<f;d++)e.event.add(b,c,h[c][d])}g.data&&(g.data=
e.extend({},g.data))}}function qc(a){var b=Md.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function U(a,b,c){b=b||0;if(e.r(b))return e.Fc(a,function(a,H){return!!b.call(a,H,a)===c});if(b.nodeType)return e.Fc(a,function(a){return a===b===c});if("string"===typeof b){var d=e.Fc(a,function(a){return 1===a.nodeType});if(se.test(b))return e.filter(b,d,!c);b=e.filter(b,d)}return e.Fc(a,function(a){return 0<=e.Yb(a,b)===c})}function ga(a,b){do a=
a[b];while(a&&1!==a.nodeType);return a}function nb(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function Ea(){return t}function Aa(){return y}function Ra(a){for(var b in a)if(!("data"===b&&e.nf(a[b]))&&"toJSON"!==b)return y;return t}function Va(a,b,c){if(c===I&&1===a.nodeType)if(c="data-"+b.replace(k,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?t:"false"===c?y:"null"===c?u:+c+""===c?+c:pd.test(c)?e.kk(c):c}catch(d){}e.data(a,b,c)}else c=I;return c}var J=
window,I=r,lb,db,R=J.document,va=J.location,Wa=J.navigator,Da=J.sf,$a=J.qg,Z=Array.prototype.push,wa=Array.prototype.slice,Ka=Array.prototype.indexOf,ic=Object.prototype.toString,Xa=Object.prototype.hasOwnProperty,V=String.prototype.trim,ia=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,xa=/\S/,za=/\s+/,Oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ca=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ab=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,$b=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
dc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,pb=/^-ms-/,eb=/-([\da-z])/gi,fb={};e.m=e.prototype={constructor:e,Ca:function(a,b,c){var d;if(!a)return this;if(a.nodeType)return this.na=this[0]=a,this.length=1,this;if("string"===typeof a){if((d="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[u,a,u]:Ca.exec(a))&&(d[1]||!b)){if(d[1])return a=(b=b instanceof e?b[0]:b)&&b.nodeType?b.ownerDocument||b:R,a=e.Kp(d[1],a,t),ab.test(d[1])&&e.pf(b)&&this.zb.call(a,b,t),e.ta(this,
a);if((b=R.getElementById(d[2]))&&b.parentNode){if(b.id!==d[2])return c.find(a);this.length=1;this[0]=b}this.na=R;this.P=a;return this}return!b||b.tf?(b||c).find(a):this.constructor(b).find(a)}if(e.r(a))return c.Ha(a);a.P!==I&&(this.P=a.P,this.na=a.na);return e.qd(a,this)},P:"",tf:"1.8.1",length:0,size:function(){return this.length},Fq:function(){return wa.call(this)},get:function(a){return a==u?this.Fq():0>a?this[this.length+a]:this[a]},Oa:function(a,b,c){a=e.ta(this.constructor(),a);a.zh=this;a.na=
this.na;"find"===b?a.P=this.P+(this.P?" ":"")+c:b&&(a.P=this.P+"."+b+"("+c+")");return a},k:function(a,b){return e.k(this,a,b)},Ha:function(a){e.Ha.qa().jb(a);return this},Bj:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},$g:function(){return this.Bj(0)},slice:function(){return this.Oa(wa.apply(this,arguments),"slice",wa.call(arguments).join(","))},map:function(a){return this.Oa(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.zh||this.constructor(u)},push:Z,
sort:[].sort,splice:[].splice};e.m.Ca.prototype=e.m;e.extend=e.m.extend=function(){var a,b,c,d,f,g=arguments[0]||{},h=1,j=arguments.length,k=y;"boolean"===typeof g&&(k=g,g=arguments[1]||{},h=2);"object"!==typeof g&&!e.r(g)&&(g={});j===h&&(g=this,--h);for(;h<j;h++)if((a=arguments[h])!=u)for(b in a)c=g[b],d=a[b],g!==d&&(k&&d&&(e.pf(d)||(f=e.isArray(d)))?(f?(f=y,c=c&&e.isArray(c)?c:[]):c=c&&e.pf(c)?c:{},g[b]=e.extend(k,c,d)):d!==I&&(g[b]=d));return g};e.extend({$y:function(a){J.qg===e&&(J.qg=$a);a&&
J.sf===e&&(J.sf=Da);return e},nh:y,Bh:1,Yx:function(a){a?e.Bh++:e.Ha(t)},Ha:function(a){if(!(a===t?--e.Bh:e.nh)){if(!R.body)return setTimeout(e.Ha,1);e.nh=t;a!==t&&0<--e.Bh||(db.ud(R,[e]),e.m.ra&&e(R).ra("ready").Db("ready"))}},r:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},Gc:function(a){return a!=u&&a==a.window},Vj:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==u?String(a):fb[ic.call(a)]||"object"},pf:function(a){if(!a||
"object"!==e.type(a)||a.nodeType||e.Gc(a))return y;try{if(a.constructor&&!Xa.call(a,"constructor")&&!Xa.call(a.constructor.prototype,"isPrototypeOf"))return y}catch(b){return y}for(var c in a);return c===I||Xa.call(a,c)},nf:function(a){for(var b in a)return y;return t},error:function(a){sa(Error(a))},Kp:function(a,b,c){var d;if(!a||"string"!==typeof a)return u;"boolean"===typeof b&&(c=b,b=0);b=b||R;if(d=ab.exec(a))return[b.createElement(d[1])];d=e.lj([a],b,c?u:[]);return e.ta([],(d.mj?e.d(d.eh):d.eh).childNodes)},
kk:function(a){if(!a||"string"!==typeof a)return u;a=e.trim(a);if(J.JSON&&J.JSON.parse)return J.JSON.parse(a);if(vb.test(a.replace($b,"@").replace(dc,"]").replace(gb,"")))return(new Function("return "+a))();e.error("Invalid JSON: "+a)},Lp:function(a){var b,c;if(!a||"string"!==typeof a)return u;try{J.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(d){b=I}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&
e.error("Invalid XML: "+a);return b},fk:Xb(),Mj:function(a){a&&xa.test(a)&&(J.execScript||function(a){J.eval.call(J,a)})(a)},Dc:function(a){return a.replace(pb,"ms-").replace(eb,l)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},k:function(a,b,c){var d,f=0,g=a.length,h=g===I||e.r(a);if(c)if(h)for(d in a){if(b.apply(a[d],c)===y)break}else for(;f<g&&b.apply(a[f++],c)!==y;);else if(h)for(d in a){if(b.call(a[d],d,a[d])===y)break}else for(;f<g&&b.call(a[f],f,a[f++])!==
y;);return a},trim:V&&!V.call("\ufeff\u00a0")?function(a){return a==u?"":V.call(a)}:function(a){return a==u?"":a.toString().replace(Oa,"")},qd:function(a,b){var c,d=b||[];a!=u&&(c=e.type(a),a.length==u||"string"===c||"function"===c||"regexp"===c||e.Gc(a)?Z.call(d,a):e.ta(d,a));return d},Yb:function(a,b,c){var e;if(b){if(Ka)return Ka.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},ta:function(a,b){var c=b.length,e=a.length,d=0;if("number"===typeof c)for(;d<
c;d++)a[e++]=b[d];else for(;b[d]!==I;)a[e++]=b[d++];a.length=e;return a},Fc:function(a,b,c){var e,d=[],f=0,g=a.length;for(c=!!c;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var d,f,g=[],h=0,j=a.length;if(a instanceof e||j!==I&&"number"===typeof j&&(0<j&&a[0]&&a[j-1]||0===j||e.isArray(a)))for(;h<j;h++)d=b(a[h],h,c),d!=u&&(g[g.length]=d);else for(f in a)d=b(a[f],f,c),d!=u&&(g[g.length]=d);return g.concat.apply([],g)},K:1,Hz:function(a,b){var c,d;"string"===typeof b&&(c=a[b],
b=a,a=c);if(!e.r(a))return I;d=wa.call(arguments,2);c=function(){return a.apply(b,d.concat(wa.call(arguments)))};c.K=a.K=a.K||c.K||e.K++;return c},yb:function(a,b,c,d,f,g,h){var j,k=c==u,E=0,l=a.length;if(c&&"object"===typeof c){for(E in c)e.yb(a,b,E,c[E],1,g,d);f=1}else if(d!==I){j=h===I&&e.r(d);k&&(j?(j=b,b=function(a,H,b){return j.call(e(a),b)}):(b.call(a,d),b=u));if(b)for(;E<l;E++)b(a[E],c,j?d.call(a[E],E,b(a[E],c)):d,h);f=1}return f?a:k?b.call(a):l?b(a[0],c):g},now:function(){return(new Date).getTime()}});
e.Ha.qa=function(a){if(!db)if(db=e.Zc(),"complete"===R.readyState)setTimeout(e.Ha,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",j,y),J.addEventListener("load",e.Ha,y);else{R.attachEvent("onreadystatechange",j);J.attachEvent("onload",e.Ha);var b=y;try{b=J.frameElement==u&&R.documentElement}catch(c){}b&&b.doScroll&&function Ma(){if(!e.nh){try{b.doScroll("left")}catch(a){return setTimeout(Ma,50)}e.Ha()}}()}return db.qa(a)};e.k("Boolean Number String Function Array Date RegExp Object".split(" "),
function(a,b){fb["[object "+b+"]"]=b.toLowerCase()});lb=e(R);var rc={};e.Vd=function(a){function b(c){f=a.memory&&c;g=t;E=j||0;j=0;k=l.length;for(h=t;l&&E<k;E++)if(l[E].apply(c[0],c[1])===y&&a.NA){f=y;break}h=y;l&&(m?m.length&&b(m.shift()):f?l=[]:p.disable())}var c;if("string"===typeof a){if(!(c=rc[a])){c=a;var d=rc[c]={};e.k(c.split(za),function(a,H){d[H]=t});c=d}}else c=e.extend({},a);a=c;var f,g,h,j,k,E,l=[],m=!a.qt&&[],p={add:function(){if(l){var c=l.length;(function od(b){e.k(b,function(b,c){var Qa=
e.type(c);"function"===Qa&&(!a.unique||!p.Oj(c))?l.push(c):c&&(c.length&&"string"!==Qa)&&od(c)})})(arguments);h?k=l.length:f&&(j=c,b(f))}return this},remove:function(){l&&e.k(arguments,function(a,H){for(var b;-1<(b=e.Yb(H,l,b));)l.splice(b,1),h&&(b<=k&&k--,b<=E&&E--)});return this},Oj:function(a){return-1<e.Yb(a,l)},empty:function(){l=[];return this},disable:function(){l=m=f=I;return this},disabled:function(){return!l},ip:function(){m=I;f||p.disable();return this},xy:function(){return!m},Zg:function(a,
H){H=H||[];H=[a,H.slice?H.slice():H];if(l&&(!g||m))h?m.push(H):b(H);return this},ie:function(){p.Zg(this,arguments);return this},ux:function(){return!!g}};return p};e.extend({Zc:function(a){var b=[["resolve","done",e.Vd("once memory"),"resolved"],["reject","fail",e.Vd("once memory"),"rejected"],["notify","progress",e.Vd("memory")]],c="pending",d={state:function(){return c},zc:function(){f.jb(arguments).he(arguments);return this},Bq:function(){var a=arguments;return e.Zc(function(H){e.k(b,function(b,
c){var Qa=c[0],d=a[b];f[c[1]](e.r(d)?function(){var a=d.apply(this,arguments);if(a&&e.r(a.qa))a.qa().jb(H.Nb).he(H.Wp).Ah(H.ez);else H[Qa+"With"](this===f?H:this,[a])}:H[Qa])});a=u}).qa()},qa:function(a){return"object"===typeof a?e.extend(a,d):d}},f={};d.xz=d.Bq;e.k(b,function(a,H){var e=H[2],g=H[3];d[H[1]]=e.add;g&&e.add(function(){c=g},b[a^1][2].disable,b[2][2].ip);f[H[0]]=e.ie;f[H[0]+"With"]=e.Zg});d.qa(f);a&&a.call(f,f);return f},tB:function(a){function b(a,H,c){return function(b){H[a]=this;c[a]=
1<arguments.length?wa.call(arguments):b;c===j?h.Bp(H,c):--g||h.ud(H,c)}}var c=0,d=wa.call(arguments),f=d.length,g=1!==f||a&&e.r(a.qa)?f:0,h=1===g?a:e.Zc(),j,k,E;if(1<f){j=Array(f);k=Array(f);for(E=Array(f);c<f;c++)d[c]&&e.r(d[c].qa)?d[c].qa().jb(b(c,E,d)).he(h.Wp).Ah(b(c,k,j)):--g}g||h.ud(E,d);return h.qa()}});var Lb=e,Eb;var qa,wb,cb,rb,Qb,Ba,hb,xb,ec,nc,Kc,ha=R.createElement("div");ha.setAttribute("className","t");ha.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
wb=ha.getElementsByTagName("*");cb=ha.getElementsByTagName("a")[0];cb.style.cssText="top:1px;float:left;opacity:.5";if(!wb||!wb.length||!cb)Eb={};else{rb=R.createElement("select");Qb=rb.appendChild(R.createElement("option"));Ba=ha.getElementsByTagName("input")[0];qa={Zj:3===ha.firstChild.nodeType,Sk:!ha.getElementsByTagName("tbody").length,Rj:!!ha.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),So:"/a"===cb.getAttribute("href"),opacity:/^0.5/.test(cb.style.opacity),
cssFloat:!!cb.style.cssFloat,io:"on"===Ba.value,Gp:Qb.selected,Mo:"t"!==ha.className,enctype:!!R.createElement("form").enctype,jh:"<:nav></:nav>"!==R.createElement("nav").cloneNode(t).outerHTML,xw:"CSS1Compat"===R.compatMode,yq:t,ho:t,Ho:y,Sg:t,ek:t,Tj:y,Kk:y,qk:t,kj:t,lk:y};Ba.checked=t;qa.zp=Ba.cloneNode(t).checked;rb.disabled=t;qa.Fp=!Qb.disabled;try{delete ha.test}catch(Lc){qa.Sg=y}!ha.addEventListener&&(ha.attachEvent&&ha.fireEvent)&&(ha.attachEvent("onclick",Kc=function(){qa.ek=y}),ha.cloneNode(t).fireEvent("onclick"),
ha.detachEvent("onclick",Kc));Ba=R.createElement("input");Ba.value="t";Ba.setAttribute("type","radio");qa.Up="t"===Ba.value;Ba.setAttribute("checked","checked");Ba.setAttribute("name","t");ha.appendChild(Ba);hb=R.createDocumentFragment();hb.appendChild(ha.lastChild);qa.pj=hb.cloneNode(t).cloneNode(t).lastChild.checked;qa.Qn=Ba.checked;hb.removeChild(Ba);hb.appendChild(ha);if(ha.attachEvent)for(ec in{submit:t,fo:t,xx:t})xb="on"+ec,nc=xb in ha,nc||(ha.setAttribute(xb,"return;"),nc="function"===typeof ha[xb]),
qa[ec+"Bubbles"]=nc;e(function(){var a,b,c,e=R.getElementsByTagName("body")[0];e&&(a=R.createElement("div"),a.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",e.insertBefore(a,e.firstChild),b=R.createElement("div"),a.appendChild(b),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=b.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",nc=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",
qa.Yp=nc&&0===c[0].offsetHeight,b.innerHTML="",b.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",qa.boxSizing=4===b.offsetWidth,qa.yo=1!==e.offsetTop,J.getComputedStyle&&(qa.lk="1%"!==(J.getComputedStyle(b,u)||{}).top,qa.kj="4px"===(J.getComputedStyle(b,u)||{width:"4px"}).width,c=R.createElement("div"),c.style.cssText=b.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",
c.style.marginRight=c.style.width="0",b.style.width="1px",b.appendChild(c),qa.qk=!parseFloat((J.getComputedStyle(c,u)||{}).marginRight)),"undefined"!==typeof b.style.zoom&&(b.innerHTML="",b.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",qa.Tj=3===b.offsetWidth,b.style.display="block",b.style.overflow="visible",b.innerHTML="<div></div>",b.firstChild.style.width="5px",qa.Kk=3!==b.offsetWidth,a.style.zoom=1),e.removeChild(a))});hb.removeChild(ha);
wb=cb=rb=Qb=Ba=hb=ha=u;Eb=qa}Lb.n=Eb;var pd=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,k=/([A-Z])/g;e.extend({Va:{},xj:[],Oq:0,expando:"jQuery"+(e.m.tf+Math.random()).replace(/\D/g,""),Ap:{embed:t,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:t},Pj:function(a){a=a.nodeType?e.Va[a[e.expando]]:a[e.expando];return!!a&&!Ra(a)},data:function(a,b,c,d){if(e.Yd(a)){var f=e.expando,g="string"===typeof b,h=a.nodeType,j=h?e.Va:a,k=h?a[f]:a[f]&&f;if(k&&j[k]&&(d||j[k].data)||!(g&&c===I)){k||(h?a[f]=k=e.xj.pop()||
++e.Oq:k=f);j[k]||(j[k]={},h||(j[k].toJSON=e.fk));if("object"===typeof b||"function"===typeof b)d?j[k]=e.extend(j[k],b):j[k].data=e.extend(j[k].data,b);a=j[k];d||(a.data||(a.data={}),a=a.data);c!==I&&(a[e.Dc(b)]=c);g?(c=a[b],c==u&&(c=a[e.Dc(b)])):c=a;return c}}},td:function(a,b,c){if(e.Yd(a)){var d,f,g,h=a.nodeType,j=h?e.Va:a,k=h?a[e.expando]:e.expando;if(j[k]){if(b&&(d=c?j[k]:j[k].data)){e.isArray(b)||(b in d?b=[b]:(b=e.Dc(b),b=b in d?[b]:b.split(" ")));f=0;for(g=b.length;f<g;f++)delete d[b[f]];
if(!(c?Ra:e.nf)(d))return}if(!c&&(delete j[k].data,!Ra(j[k])))return;h?e.Zd([a],t):e.n.Sg||j!=j.window?delete j[k]:j[k]=u}}},F:function(a,b,c){return e.data(a,b,c,t)},Yd:function(a){var b=a.nodeName&&e.Ap[a.nodeName.toLowerCase()];return!b||b!==t&&a.getAttribute("classid")===b}});e.m.extend({data:function(a,b){var c,d,f,g,h,j=this[0],k=0,E=u;if(a===I){if(this.length&&(E=e.data(j),1===j.nodeType&&!e.F(j,"parsedAttrs"))){f=j.attributes;for(h=f.length;k<h;k++)g=f[k].name,0===g.indexOf("data-")&&(g=e.Dc(g.substring(5)),
Va(j,g,E[g]));e.F(j,"parsedAttrs",t)}return E}if("object"===typeof a)return this.k(function(){e.data(this,a)});c=a.split(".",2);c[1]=c[1]?"."+c[1]:"";d=c[1]+"!";return e.yb(this,function(b){if(b===I)return E=this.Jh("getData"+d,[c[0]]),E===I&&j&&(E=e.data(j,a),E=Va(j,a,E)),E===I&&c[1]?this.data(c[0]):E;c[1]=b;this.k(function(){var Qa=e(this);Qa.Jh("setData"+d,c);e.data(this,a,b);Qa.Jh("changeData"+d,c)})},u,b,1<arguments.length,u,y)},td:function(a){return this.k(function(){e.td(this,a)})}});e.extend({U:function(a,
b,c){var d;if(a)return b=(b||"fx")+"queue",d=e.F(a,b),c&&(!d||e.isArray(c)?d=e.F(a,b,e.qd(c)):d.push(c)),d||[]},md:function(a,b){function c(){e.md(a,b)}b=b||"fx";var d=e.U(a,b),f=d.length,g=d.shift(),h=e.Eg(a,b);"inprogress"===g&&(g=d.shift(),f--);g&&("fx"===b&&d.unshift("inprogress"),delete h.stop,g.call(a,c,h));!f&&h&&h.empty.ie()},Eg:function(a,b){var c=b+"queueHooks";return e.F(a,c)||e.F(a,c,{empty:e.Vd("once memory").add(function(){e.td(a,b+"queue",t);e.td(a,c,t)})})}});e.m.extend({U:function(a,
b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?e.U(this[0],a):b===I?this:this.k(function(){var c=e.U(this,a,b);e.Eg(this,a);"fx"===a&&"inprogress"!==c[0]&&e.md(this,a)})},md:function(a){return this.k(function(){e.md(this,a)})},Zw:function(a,b){a=e.da?e.da.zf[a]||a:a;return this.U(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})},Gw:function(a){return this.U(a||"fx",[])},qa:function(a,b){function c(){--f||g.ud(h,[h])}var d,f=1,g=e.Zc(),h=
this,j=this.length;"string"!==typeof a&&(b=a,a=I);for(a=a||"fx";j--;)if((d=e.F(h[j],a+"queueHooks"))&&d.empty)f++,d.empty.add(c);c();return g.qa(b)}});var yb,Mc,fc,Hb=/[\t\r\n]/g,Sc=/\r/g,Tc=/^(?:button|input)$/i,Uc=/^(?:button|input|object|select|textarea)$/i,Nc=/^a(?:rea|)$/i,wc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ea=e.n.Mo;e.m.extend({zb:function(a,b){return e.yb(this,e.zb,a,b,1<arguments.length)},vf:function(a){return this.k(function(){e.vf(this,
a)})},ea:function(a,b){return e.yb(this,e.ea,a,b,1<arguments.length)},Nz:function(a){a=e.pe[a]||a;return this.k(function(){try{this[a]=I,delete this[a]}catch(b){}})},Kn:function(a){var b,c,d,f,g,h,j;if(e.r(a))return this.k(function(b){e(this).Kn(a.call(this,b,this.className))});if(a&&"string"===typeof a){b=a.split(za);c=0;for(d=this.length;c<d;c++)if(f=this[c],1===f.nodeType)if(!f.className&&1===b.length)f.className=a;else{g=" "+f.className+" ";h=0;for(j=b.length;h<j;h++)~g.indexOf(" "+b[h]+" ")||
(g+=b[h]+" ");f.className=e.trim(g)}}return this},Zp:function(a){var b,c,d,f,g,h,j;if(e.r(a))return this.k(function(b){e(this).Zp(a.call(this,b,this.className))});if(a&&"string"===typeof a||a===I){b=(a||"").split(za);h=0;for(j=this.length;h<j;h++)if(d=this[h],1===d.nodeType&&d.className){c=(" "+d.className+" ").replace(Hb," ");f=0;for(g=b.length;f<g;f++)for(;-1<c.indexOf(" "+b[f]+" ");)c=c.replace(" "+b[f]+" "," ");d.className=a?e.trim(c):""}}return this},Hq:function(a,b){var c=typeof a,d="boolean"===
typeof b;return e.r(a)?this.k(function(c){e(this).Hq(a.call(this,c,this.className,b),b)}):this.k(function(){if("string"===c)for(var f,g=0,h=e(this),j=b,k=a.split(za);f=k[g++];)j=d?j:!h.Qo(f),h[j?"addClass":"removeClass"](f);else if("undefined"===c||"boolean"===c)this.className&&e.F(this,"__className__",this.className),this.className=this.className||a===y?"":e.F(this,"__className__")||""})},Qo:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+
" ").replace(Hb," ").indexOf(a))return t;return y},zd:function(a){var b,c,d,f=this[0];if(arguments.length)return d=e.r(a),this.k(function(c){var f=e(this);if(1===this.nodeType&&(c=d?a.call(this,c,f.zd()):a,c==u?c="":"number"===typeof c?c+="":e.isArray(c)&&(c=e.map(c,function(a){return a==u?"":a+""})),b=e.gc[this.type]||e.gc[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,c,"value")===I))this.value=c});if(f){if((b=e.gc[f.type]||e.gc[f.nodeName.toLowerCase()])&&"get"in b&&(c=b.get(f,"value"))!==
I)return c;c=f.value;return"string"===typeof c?c.replace(Sc,""):c==u?"":c}}});e.extend({gc:{ik:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,f=[],g=a.options,h="select-one"===a.type;if(0>d)return u;a=h?d:0;for(c=h?d+1:g.length;a<c;a++)if(b=g[a],b.selected&&(e.n.Fp?!b.disabled:b.getAttribute("disabled")===u)&&(!b.parentNode.disabled||!e.nodeName(b.parentNode,"optgroup"))){b=e(b).zd();if(h)return b;f.push(b)}return h&&
!f.length&&g.length?e(g[d]).zd():f},set:function(a,b){var c=e.qd(b);e(a).find("option").k(function(){this.selected=0<=e.Yb(e(this).zd(),c)});c.length||(a.selectedIndex=-1);return c}}},fw:{},zb:function(a,b,c,d){var f,g,h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(d&&e.r(e.m[b]))return e(a)[b](c);if("undefined"===typeof a.getAttribute)return e.ea(a,b,c);if(d=1!==h||!e.rf(a))b=b.toLowerCase(),g=e.Ac[b]||(wc.test(b)?Mc:yb);if(c!==I)if(c===u)e.vf(a,b);else{if(g&&"set"in g&&d&&(f=g.set(a,c,b))!==I)return f;
a.setAttribute(b,""+c);return c}else{if(g&&"get"in g&&d&&(f=g.get(a,b))!==u)return f;f=a.getAttribute(b);return f===u?I:f}}},vf:function(a,b){var c,d,f,g,h=0;if(b&&1===a.nodeType)for(d=b.split(za);h<d.length;h++)if(f=d[h])c=e.pe[f]||f,(g=wc.test(f))||e.zb(a,f,""),a.removeAttribute(ea?f:c),g&&c in a&&(a[c]=y)},Ac:{type:{set:function(a,b){if(Tc.test(a.nodeName)&&a.parentNode)e.error("type property can't be changed");else if(!e.n.Up&&"radio"===b&&e.nodeName(a,"input")){var c=a.value;a.setAttribute("type",
b);c&&(a.value=c);return b}}},value:{get:function(a,b){return yb&&e.nodeName(a,"button")?yb.get(a,b):b in a?a.value:u},set:function(a,b,c){if(yb&&e.nodeName(a,"button"))return yb.set(a,b,c);a.value=b}}},pe:{SA:"tabIndex",Lz:"readOnly","for":"htmlFor","class":"className",Oy:"maxLength",Cw:"cellSpacing",Bw:"cellPadding",Wz:"rowSpan",Nw:"colSpan",oB:"useMap",zx:"frameBorder",mo:"contentEditable"},ea:function(a,b,c){var d,f,g;g=a.nodeType;if(a&&!(3===g||8===g||2===g)){if(g=1!==g||!e.rf(a))b=e.pe[b]||
b,f=e.nb[b];return c!==I?f&&"set"in f&&(d=f.set(a,c,b))!==I?d:a[b]=c:f&&"get"in f&&(d=f.get(a,b))!==u?d:a[b]}},nb:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Uc.test(a.nodeName)||Nc.test(a.nodeName)&&a.href?0:I}}}});Mc={get:function(a,b){var c,d=e.ea(a,b);return d===t||"boolean"!==typeof d&&(c=a.getAttributeNode(b))&&c.nodeValue!==y?b.toLowerCase():I},set:function(a,b,c){b===y?e.vf(a,c):(b=e.pe[c]||c,b in a&&(a[b]=t),a.setAttribute(c,
c.toLowerCase()));return c}};ea||(fc={name:t,id:t,coords:t},yb=e.gc.button={get:function(a,b){var c;return(c=a.getAttributeNode(b))&&(fc[b]?""!==c.value:c.specified)?c.value:I},set:function(a,b,c){var e=a.getAttributeNode(c);e||(e=R.createAttribute(c),a.setAttributeNode(e));return e.value=b+""}},e.k(["width","height"],function(a,b){e.Ac[b]=e.extend(e.Ac[b],{set:function(a,H){if(""===H)return a.setAttribute(b,"auto"),H}})}),e.Ac.mo={get:yb.get,set:function(a,b,c){""===b&&(b="false");yb.set(a,b,c)}});
e.n.So||e.k(["href","src","width","height"],function(a,b){e.Ac[b]=e.extend(e.Ac[b],{get:function(a){a=a.getAttribute(b,2);return a===u?I:a}})});e.n.style||(e.Ac.style={get:function(a){return a.style.cssText.toLowerCase()||I},set:function(a,b){return a.style.cssText=""+b}});e.n.Gp||(e.nb.selected=e.extend(e.nb.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return u}}));e.n.enctype||(e.pe.enctype="encoding");e.n.io||e.k(["radio","checkbox"],function(){e.gc[this]=
{get:function(a){return a.getAttribute("value")===u?"on":a.value}}});e.k(["radio","checkbox"],function(){e.gc[this]=e.extend(e.gc[this],{set:function(a,b){if(e.isArray(b))return a.checked=0<=e.Yb(e(a).zd(),b)}})});var E=/^(?:textarea|input|select)$/i,na=/^([^\.]*|)(?:\.(.+)|)$/,pa=/(?:^|\s)hover(\.\S+|)\b/,ib=/^key/,Rb=/^(?:mouse|contextmenu)|click/,gc=/^(?:focusinfocus|focusoutblur)$/;e.event={add:function(a,b,c,d,f){var g,j,k,E,l,m,p,n,x;if(!(3===a.nodeType||8===a.nodeType||!b||!c||!(g=e.F(a)))){c.Xb&&
(p=c,c=p.Xb,f=p.P);c.K||(c.K=e.K++);k=g.Ub;k||(g.Ub=k={});j=g.handle;j||(g.handle=j=function(a){return"undefined"!==typeof e&&(!a||e.event.Kh!==a.type)?e.event.Tg.apply(j.I,arguments):I},j.I=a);b=e.trim(h(b)).split(" ");for(g=0;g<b.length;g++){E=na.exec(b[g])||[];l=E[1];m=(E[2]||"").split(".").sort();x=e.event.Qa[l]||{};l=(f?x.de:x.Kg)||l;x=e.event.Qa[l]||{};E=e.extend({type:l,me:E[1],data:d,Xb:c,K:c.K,P:f,Cb:m.join(".")},p);n=k[l];if(!n&&(n=k[l]=[],n.Rg=0,!x.ve||x.ve.call(a,d,m,j)===y))a.addEventListener?
a.addEventListener(l,j,y):a.attachEvent&&a.attachEvent("on"+l,j);x.add&&(x.add.call(a,E),E.Xb.K||(E.Xb.K=c.K));f?n.splice(n.Rg++,0,E):n.push(E);e.event.global[l]=t}a=u}},global:{},remove:function(a,b,c,d,f){var g,j,k,E,l,m,p,n,x,q,v=e.Pj(a)&&e.F(a);if(v&&(p=v.Ub)){b=e.trim(h(b||"")).split(" ");for(g=0;g<b.length;g++)if(j=na.exec(b[g])||[],k=E=j[1],j=j[2],k){n=e.event.Qa[k]||{};k=(d?n.de:n.Kg)||k;x=p[k]||[];l=x.length;j=j?RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):u;for(m=
0;m<x.length;m++)if(q=x[m],(f||E===q.me)&&(!c||c.K===q.K)&&(!j||j.test(q.Cb))&&(!d||d===q.P||"**"===d&&q.P))x.splice(m--,1),q.P&&x.Rg--,n.remove&&n.remove.call(a,q);0===x.length&&l!==x.length&&((!n.xe||n.xe.call(a,j,v.handle)===y)&&e.rk(a,k,v.handle),delete p[k])}else for(k in p)e.event.remove(a,k+b[g],c,d,t);e.nf(p)&&(delete v.handle,e.td(a,"events",t))}},po:{getData:t,setData:t,changeData:t},ra:function(a,b,c,d){if(!c||!(3===c.nodeType||8===c.nodeType)){var f,g,h,j,k,E,l=a.type||a;h=[];if(!gc.test(l+
e.event.Kh)&&(0<=l.indexOf("!")&&(l=l.slice(0,-1),f=t),0<=l.indexOf(".")&&(h=l.split("."),l=h.shift(),h.sort()),c&&!e.event.po[l]||e.event.global[l]))if(a="object"===typeof a?a[e.expando]?a:new e.uc(l,a):new e.uc(l),a.type=l,a.qf=t,a.Eo=f,a.Cb=h.join("."),a.dk=a.Cb?RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):u,h=0>l.indexOf(":")?"on"+l:"",c){if(a.result=I,a.target||(a.target=c),b=b!=u?e.qd(b):[],b.unshift(a),j=e.event.Qa[l]||{},!(j.ra&&j.ra.apply(c,b)===y)){E=[[c,j.Kg||l]];if(!d&&!j.yp&&!e.Gc(c)){k=
j.de||l;f=gc.test(k+l)?c:c.parentNode;for(g=c;f;f=f.parentNode)E.push([f,k]),g=f;if(g===(c.ownerDocument||R))E.push([g.defaultView||g.parentWindow||J,k])}for(g=0;g<E.length&&!a.mh();g++)f=E[g][0],a.type=E[g][1],(k=(e.F(f,"events")||{})[a.type]&&e.F(f,"handle"))&&k.apply(f,b),(k=h&&f[h])&&(e.Yd(f)&&k.apply(f,b)===y)&&a.preventDefault();a.type=l;if(!d&&!a.mf()&&(!j.xb||j.xb.apply(c.ownerDocument,b)===y)&&!("click"===l&&e.nodeName(c,"a"))&&e.Yd(c))if(h&&c[l]&&("focus"!==l&&"blur"!==l||0!==a.target.offsetWidth)&&
!e.Gc(c))(g=c[h])&&(c[h]=u),e.event.Kh=l,c[l](),e.event.Kh=I,g&&(c[h]=g);return a.result}}else for(g in c=e.Va,c)c[g].Ub&&c[g].Ub[l]&&e.event.ra(a,b,c[g].handle.I,t)}},Tg:function(a){a=e.event.Dj(a||J.event);var b,c,d,f,g,h,j=(e.F(this,"events")||{})[a.type]||[],k=j.Rg,E=[].slice.call(arguments),l=!a.Eo&&!a.Cb,m=e.event.Qa[a.type]||{},p=[];E[0]=a;a.uo=this;if(!(m.Np&&m.Np.call(this,a)===y)){if(k&&!(a.button&&"click"===a.type))for(c=a.target;c!=this;c=c.parentNode||this)if(c.disabled!==t||"click"!==
a.type){f={};g=[];for(b=0;b<k;b++)d=j[b],h=d.P,f[h]===I&&(f[h]=0<=e(h,this).index(c)),f[h]&&g.push(d);g.length&&p.push({I:c,matches:g})}j.length>k&&p.push({I:this,matches:j.slice(k)});for(b=0;b<p.length&&!a.mh();b++){f=p[b];a.currentTarget=f.I;for(c=0;c<f.matches.length&&!a.Xo();c++)if(d=f.matches[c],l||!a.Cb&&!d.Cb||a.dk&&a.dk.test(d.Cb))a.data=d.data,a.lf=d,d=((e.event.Qa[d.me]||{}).handle||d.Xb).apply(f.I,E),d!==I&&(a.result=d,d===y&&(a.preventDefault(),a.stopPropagation()))}m.ok&&m.ok.call(this,
a);return a.result}},ec:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),ah:{},$o:{ec:["char","charCode","key","keyCode"],filter:function(a,b){a.which==u&&(a.which=b.charCode!=u?b.charCode:b.keyCode);return a}},tp:{ec:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,d=b.button,f=b.fromElement;
a.pageX==u&&b.clientX!=u&&(c=a.target.ownerDocument||R,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));!a.relatedTarget&&f&&(a.relatedTarget=f===a.target?b.toElement:f);!a.which&&d!==I&&(a.which=d&1?1:d&2?3:d&4?2:0);return a}},Dj:function(a){if(a[e.expando])return a;var b,c,d=a,f=e.event.ah[a.type]||{},g=f.ec?this.ec.concat(f.ec):this.ec;
a=e.uc(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];a.target||(a.target=d.srcElement||R);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return f.filter?f.filter(a,d):a},Qa:{load:{yp:t},focus:{de:"focusin"},blur:{de:"focusout"},tw:{ve:function(a,b,c){e.Gc(this)&&(this.onbeforeunload=c)},xe:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=u)}}},yf:function(a,b,c,d){a=e.extend(new e.uc,c,{type:a,Xj:t,uf:{}});d?e.event.ra(a,u,b):e.event.Tg.call(b,a);a.mf()&&c.preventDefault()}};
e.event.handle=e.event.Tg;e.rk=R.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,y)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=u),a.detachEvent(b,c))};e.uc=function(a,b){if(!(this instanceof e.uc))return new e.uc(a,b);a&&a.type?(this.uf=a,this.type=a.type,this.mf=a.defaultPrevented||a.returnValue===y||a.Lo&&a.Lo()?Ea:Aa):this.type=a;b&&e.extend(this,b);this.timeStamp=a&&a.timeStamp||e.now();this[e.expando]=t};e.uc.prototype={preventDefault:function(){this.mf=
Ea;var a=this.uf;a&&(a.preventDefault?a.preventDefault():a.returnValue=y)},stopPropagation:function(){this.mh=Ea;var a=this.uf;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=t)},mf:Aa,mh:Aa,Xo:Aa};e.k({up:"mouseover",vp:"mouseout"},function(a,b){e.event.Qa[a]={de:b,Kg:b,handle:function(a){var H,c=a.relatedTarget,d=a.lf;if(!c||c!==this&&!e.contains(this,c))a.type=d.me,H=d.Xb.apply(this,arguments),a.type=b;return H}}});e.n.yq||(e.event.Qa.submit={ve:function(){if(e.nodeName(this,"form"))return y;
e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=e.nodeName(a,"input")||e.nodeName(a,"button")?a.form:I)&&!e.F(a,"_submit_attached"))e.event.add(a,"submit._submit",function(a){a.dj=t}),e.F(a,"_submit_attached",t)})},ok:function(a){a.dj&&(delete a.dj,this.parentNode&&!a.qf&&e.event.yf("submit",this.parentNode,a,t))},xe:function(){if(e.nodeName(this,"form"))return y;e.event.remove(this,"._submit")}});e.n.ho||(e.event.Qa.fo={ve:function(){if(E.test(this.nodeName)){if("checkbox"===
this.type||"radio"===this.type)e.event.add(this,"propertychange._change",function(a){"checked"===a.uf.propertyName&&(this.cj=t)}),e.event.add(this,"click._change",function(a){this.cj&&!a.qf&&(this.cj=y);e.event.yf("change",this,a,t)});return y}e.event.add(this,"beforeactivate._change",function(a){a=a.target;E.test(a.nodeName)&&!e.F(a,"_change_attached")&&(e.event.add(a,"change._change",function(a){this.parentNode&&(!a.Xj&&!a.qf)&&e.event.yf("change",this.parentNode,a,t)}),e.F(a,"_change_attached",
t))})},handle:function(a){var b=a.target;if(this!==b||a.Xj||a.qf||"radio"!==b.type&&"checkbox"!==b.type)return a.lf.Xb.apply(this,arguments)},xe:function(){e.event.remove(this,"._change");return!E.test(this.nodeName)}});e.n.Ho||e.k({focus:"focusin",blur:"focusout"},function(a,b){function c(a){e.event.yf(b,a.target,e.event.Dj(a),t)}var d=0;e.event.Qa[b]={ve:function(){0===d++&&R.addEventListener(a,c,t)},xe:function(){0===--d&&R.removeEventListener(a,c,t)}}});e.m.extend({cc:function(a,b,c,d,f){var g,
h;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=I);for(h in a)this.cc(h,b,c,a[h],f);return this}c==u&&d==u?(d=b,c=b=I):d==u&&("string"===typeof b?(d=c,c=I):(d=c,c=b,b=I));if(d===y)d=Aa;else if(!d)return this;1===f&&(g=d,d=function(a){e().Db(a);return g.apply(this,arguments)},d.K=g.K||(g.K=e.K++));return this.k(function(){e.event.add(this,a,d,c,b)})},nz:function(a,b,c,e){return this.cc(a,b,c,e,1)},Db:function(a,b,c){var d;if(a&&a.preventDefault&&a.lf)return d=a.lf,e(a.uo).Db(d.Cb?d.me+"."+
d.Cb:d.me,d.P,d.Xb),this;if("object"===typeof a){for(d in a)this.Db(d,b,a[d]);return this}if(b===y||"function"===typeof b)c=b,b=I;c===y&&(c=Aa);return this.k(function(){e.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.cc(a,u,b,c)},hB:function(a,b){return this.Db(a,u,b)},ry:function(a,b,c){e(this.na).cc(a,this.P,b,c);return this},ax:function(a,b){e(this.na).Db(a,this.P||"**",b);return this},$w:function(a,b,c,e){return this.cc(b,a,c,e)},iB:function(a,b,c){return 1==arguments.length?this.Db(a,
"**"):this.Db(b,a||"**",c)},ra:function(a,b){return this.k(function(){e.event.ra(a,b,this)})},Jh:function(a,b){if(this[0])return e.event.ra(a,b,this[0],t)},toggle:function(a){function b(d){var Qa=(e.F(this,"lastToggle"+a.K)||0)%f;e.F(this,"lastToggle"+a.K,Qa+1);d.preventDefault();return c[Qa].apply(this,arguments)||y}var c=arguments,d=a.K||e.K++,f=0;for(b.K=d;f<c.length;)c[f++].K=d;return this.click(b)},Ro:function(a,b){return this.up(a).vp(b||a)}});e.k("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){e.m[b]=function(a,c){c==u&&(c=a,a=u);return 0<arguments.length?this.cc(b,u,a,c):this.ra(b)};ib.test(b)&&(e.event.ah[b]=e.event.$o);Rb.test(b)&&(e.event.ah[b]=e.event.tp)});var bc,Yc,Ec,da,gd,ed,Id,ud,vd,Vc,Nd=t,jb=("sizcache"+Math.random()).replace(".",""),Tb=J.document,Ib=Tb.documentElement,Gd=0,Nb=[].slice,Cc=[].push,Od=s(),Hd=s(),Pd=s(),Na="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#"),Qd="\\["+Na+"*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)"+Na+"*(?:([*^$|!~]?=)"+
Na+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+te+")|)|)"+Na+"*\\]",Rd=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Qd+")|[^:]|\\\\.)*|.*))\\)|)",cd=RegExp("^"+Na+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Na+"+$","g"),pe=RegExp("^"+Na+"*,"+Na+"*"),dd=RegExp("^"+Na+"*([\\x20\\t\\r\\n\\f>+~])"+Na+"*"),ue=RegExp(Rd),qe=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,td=/[\x20\t\r\n\f]*[+~]/,oe=/:not\($/,ve=/h\d/i,we=/input|select|textarea|button/i,Y=/\\(?!\\)/g,mc={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Qd),PSEUDO:RegExp("^"+Rd),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+Na+"*(even|odd|(([+-]|)(\\d*)n|)"+Na+"*(?:([+-]|)"+Na+"*(\\d+)|))"+Na+"*\\)|)","i"),POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","ig"),needsContext:RegExp("^"+Na+"*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",
"i")},xe=b(function(a){a.appendChild(Tb.createComment(""));return!a.getElementsByTagName("*").length}),ye=b(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),ze=b(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),Jd=b(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||
!a.getElementsByClassName("e").length)return y;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),Fa=b(function(a){a.id=jb+0;a.innerHTML="<a name='"+jb+"'></a><div name='"+jb+"'></div>";Ib.insertBefore(a,Ib.firstChild);var b=Tb.getElementsByName&&Tb.getElementsByName(jb).length===2+Tb.getElementsByName(jb+0).length;Ec=!Tb.getElementById(jb);Ib.removeChild(a);return b});try{Nb.call(Ib.childNodes,0)[0].nodeType}catch(jf){Nb=function(a){for(var b,c=[];b=this[a];a++)c.push(b);
return c}}g.matches=function(a,b){return g(a,u,u,b)};g.matchesSelector=function(a,b){return 0<g(b,u,u,[a]).length};gd=g.No=function(a){var b,c="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=gd(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e];e++)c+=gd(b);return c};ed=g.Yo=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:y};Id=g.contains=Ib.contains?function(a,
b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!(!e||!(1===e.nodeType&&c.contains&&c.contains(e)))}:Ib.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return t;return y};g.zb=function(a,b){var c;(c=ed(a))||(b=b.toLowerCase());return da.hj[b]?da.hj[b](a):ze||c?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:u:c.specified?c.value:u:u};da=g.kq={bo:50,Tw:F,match:mc,
Hp:RegExp("ID|TAG"+(Fa?"|NAME":"")+(Jd?"|CLASS":"")),hj:ye?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:Ec?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a))?b.id===a||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").value===a?[b]:r:[]},TAG:xe?function(a,b){if("undefined"!==
typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var e,d=[],f=0;e=c[f];f++)1===e.nodeType&&d.push(e);return d}return c},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},Ne:{">":{dir:"parentNode",$g:t}," ":{dir:"parentNode"},"+":{dir:"previousSibling",$g:t},"~":{dir:"previousSibling"}},
Op:{ATTR:function(a){a[1]=a[1].replace(Y,"");a[3]=(a[4]||a[5]||"").replace(Y,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||g.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&g.error(a[0]);return a},PSEUDO:function(b,c,e){var d,f;if(mc.CHILD.test(b[0]))return u;if(b[3])b[2]=b[3];else if(d=b[4]){if(ue.test(d)&&(f=a(d,c,e,t))&&(f=d.indexOf(")",d.length-f)-d.length))d=
d.slice(0,f),b[0]=b[0].slice(0,f);b[2]=d}return b.slice(0,3)}},filter:{ID:Ec?function(a){a=a.replace(Y,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(Y,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return Yd(t);a=a.replace(Y,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=Od[jb][a];b||(b=Od(a,RegExp("(^|"+Na+
")"+a+"("+Na+"|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return!b?function(b){return g.zb(b,a)!=u}:function(e){e=g.zb(e,a);var d=e+"";if(e==u)return"!="===b;switch(b){case "=":return d===c;case "!=":return d!==c;case "^=":return c&&0===d.indexOf(c);case "*=":return c&&-1<d.indexOf(c);case "$=":return c&&d.substr(d.length-c.length)===c;case "~=":return-1<(" "+d+" ").indexOf(c);case "|=":return d===c||
d.substr(0,c.length+1)===c+"-"}}},CHILD:function(a,b,c,e){if("nth"===a){var d=Gd++;return function(a){var b,H=0,f=a;if(1===c&&0===e)return t;if((b=a.parentNode)&&(b[jb]!==d||!a.wd)){for(f=b.firstChild;f&&!(1===f.nodeType&&(f.wd=++H,f===a));f=f.nextSibling);b[jb]=d}a=a.wd-e;return 0===c?0===a:0===a%c&&0<=a/c}}return function(b){var c=b;switch(a){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return y;if("first"===a)return t;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return y;
return t}}},PSEUDO:function(a,b,c,e){var d,f=da.qe[a]||da.qe[a.toLowerCase()];f||g.error("unsupported pseudo: "+a);return!f[jb]?1<f.length?(d=[a,a,"",b],function(a){return f(a,0,d)}):f:f(b,c,e)}},qe:{not:F(function(a,b,c){var e=ud(a.replace(cd,"$1"),b,c);return function(a){return!e(a)}}),enabled:function(a){return a.disabled===y},disabled:function(a){return a.disabled===t},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return a.selected===t},parent:function(a){return!da.qe.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return y;a=a.nextSibling}return t},contains:F(function(a){return function(b){return-1<(b.textContent||b.innerText||gd(b)).indexOf(a)}}),has:F(function(a){return function(b){return 0<g(a,b).length}}),header:function(a){return ve.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===
(b=a.type)&&((c=a.getAttribute("type"))==u||c.toLowerCase()===b)},radio:f("radio"),checkbox:f("checkbox"),file:f("file"),password:f("password"),image:f("image"),submit:d("submit"),reset:d("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return we.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},
Dh:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){b=a.pop();return c?a:[b]},even:function(a,b,c){b=[];c=c?1:0;for(var e=a.length;c<e;c+=2)b.push(a[c]);return b},odd:function(a,b,c){b=[];c=c?0:1;for(var e=a.length;c<e;c+=2)b.push(a[c]);return b},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){b=a.splice(+b,1);return c?a:b}}};vd=Ib.compareDocumentPosition?function(a,b){return a===b?(Vc=t,0):
(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return Vc=t,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var e,d,f=[],g=[];e=a.parentNode;d=b.parentNode;var h=e;if(e===d)return c(a,b);if(e){if(!d)return 1}else return-1;for(;h;)f.unshift(h),h=h.parentNode;for(h=d;h;)g.unshift(h),h=h.parentNode;e=f.length;d=g.length;for(h=0;h<e&&h<d;h++)if(f[h]!==g[h])return c(f[h],g[h]);return h===
e?c(a,g[h],-1):c(f[h],b,1)};[0,0].sort(vd);Nd=!Vc;g.Tk=function(a){var b,c=1;Vc=Nd;a.sort(vd);if(Vc)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};g.error=function(a){sa(Error("Syntax error, unrecognized expression: "+a))};ud=g.compile=function(b,c,e){var d,f,g;if((f=Pd[jb][b])&&f.na===c)return f;d=a(b,c,e);f=0;for(g=d.length;f<g;f++){for(var h=d,j=f,k=d[f],E=c,l=e,m=r,p=r,n=0;m=k[n];n++)p=da.Ne[m.dc]?B(p,da.Ne[m.dc],E,l):A(p,da.filter[m.dc].apply(u,m.hf.concat(E,l)));h[j]=p}f=Pd(b,function(a){for(var b,
c=0;b=d[c];c++)if(b(a))return t;return y});f.na=c;f.hq=f.wo=0;return f};if(Tb.querySelectorAll){var Sd,Ae=P,Be=/'|\\/g,Ce=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Ob=[],hd=[":active"],id=Ib.matchesSelector||Ib.mozMatchesSelector||Ib.webkitMatchesSelector||Ib.gz||Ib.msMatchesSelector;b(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||Ob.push("\\["+Na+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||
Ob.push(":checked")});b(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&Ob.push("[*^$]="+Na+"*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||Ob.push(":enabled",":disabled")});Ob=Ob.length&&RegExp(Ob.join("|"));P=function(b,c,e,d,f){if(!d&&!f&&(!Ob||!Ob.test(b)))if(9===c.nodeType)try{return Cc.apply(e,Nb.call(c.querySelectorAll(b),0)),e}catch(g){}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var h,j,k,E=c.getAttribute("id"),
l=E||jb,m=td.test(b)&&c.parentNode||c;E?l=l.replace(Be,"\\$&"):c.setAttribute("id",l);h=a(b,c,f);l="[id='"+l+"']";j=0;for(k=h.length;j<k;j++)h[j]=l+h[j].P;try{return Cc.apply(e,Nb.call(m.querySelectorAll(h.join(",")),0)),e}catch(p){}finally{E||c.removeAttribute("id")}}return Ae(b,c,e,d,f)};id&&(b(function(a){Sd=id.call(a,"div");try{id.call(a,"[test!='']:sizzle"),hd.push(mc.PSEUDO.source,mc.POS.source,"!=")}catch(b){}}),hd=RegExp(hd.join("|")),g.matchesSelector=function(a,b){b=b.replace(Ce,"='$1']");
if(!ed(a)&&!hd.test(b)&&(!Ob||!Ob.test(b)))try{var c=id.call(a,b);if(c||Sd||a.document&&11!==a.document.nodeType)return c}catch(e){}return 0<g(b,u,u,[a]).length})}da.Dh.nth=da.Dh.eq;da.filters=da.qe;g.zb=e.zb;e.find=g;e.Xa=g.kq;e.Xa[":"]=e.Xa.qe;e.unique=g.Tk;e.text=g.No;e.rf=g.Yo;e.contains=g.contains;var O=/Until$/,fa=/^(?:parents|prev(?:Until|All))/,se=/^.[^:#\[\.,]*$/,$=e.Xa.match.Wy,De={children:t,ae:t,next:t,Qp:t};e.m.extend({find:function(a){var b,c,d,f,g,h,j=this;if("string"!==typeof a)return e(a).filter(function(){b=
0;for(c=j.length;b<c;b++)if(e.contains(j[b],this))return t});h=this.Oa("","find",a);b=0;for(c=this.length;b<c;b++)if(d=h.length,e.find(a,this[b],h),0<b)for(f=d;f<h.length;f++)for(g=0;g<d;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},Oj:function(a){var b,c=e(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(e.contains(this,c[b]))return t})},dz:function(a){return this.Oa(U(this,a,y),"not",a)},filter:function(a){return this.Oa(U(this,a,t),"filter",a)},Wo:function(a){return!!a&&
("string"===typeof a?$.test(a)?0<=e(a,this.na).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},Hw:function(a,b){for(var c,d=0,f=this.length,g=[],h=$.test(a)||"string"!==typeof a?e(a,b||this.na):0;d<f;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(h?-1<h.index(c):e.find.matchesSelector(c,a)){g.push(c);break}c=c.parentNode}g=1<g.length?e.unique(g):g;return this.Oa(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.Rp().length:-1:"string"===
typeof a?e.Yb(this[0],e(a)):e.Yb(a.tf?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?e(a,b):e.qd(a&&a.nodeType?[a]:a),d=e.ta(this.get(),c);return this.Oa(nb(c[0])||nb(d[0])?d:e.unique(d))},Jn:function(a){return this.add(a==u?this.zh:this.zh.filter(a))}});e.m.cw=e.m.Jn;e.k({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:u},tz:function(a){return e.dir(a,"parentNode")},uz:function(a,b,c){return e.dir(a,"parentNode",c)},next:function(a){return ga(a,"nextSibling")},Qp:function(a){return ga(a,
"previousSibling")},Yy:function(a){return e.dir(a,"nextSibling")},Rp:function(a){return e.dir(a,"previousSibling")},Zy:function(a,b,c){return e.dir(a,"nextSibling",c)},Fz:function(a,b,c){return e.dir(a,"previousSibling",c)},tA:function(a){return e.Lk((a.parentNode||{}).firstChild,a)},children:function(a){return e.Lk(a.firstChild)},ae:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.ta([],a.childNodes)}},function(a,b){e.m[a]=function(c,d){var f=e.map(this,b,c);
O.test(a)||(d=c);d&&"string"===typeof d&&(f=e.filter(d,f));f=1<this.length&&!De[a]?e.unique(f):f;1<this.length&&fa.test(a)&&(f=f.reverse());return this.Oa(f,a,wa.call(arguments).join(","))}});e.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,b,c){var d=[];for(a=a[b];a&&9!==a.nodeType&&(c===I||1!==a.nodeType||!e(a).Wo(c));)1===a.nodeType&&d.push(a),a=a[b];return d},Lk:function(a,b){for(var c=[];a;a=
a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Md="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ee=/ jQuery\d+="(?:null|\d+)"/g,wd=/^\s+/,Td=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ud=/<([\w:]+)/,Fe=/<tbody/i,aa=/<|&#?\w+;/,ba=/<(?:script|style|link)/i,ca=/<(?:script|object|embed|option|style)/i,ya=RegExp("<(?:"+Md+")[\\s/>]","i"),Ld=/^(?:checkbox|radio)$/,
Vd=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/\/(java|ecma)script/i,He=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ya={ik:[1,"<select multiple='multiple'>","</select>"],hy:[1,"<fieldset>","</fieldset>"],Aq:[1,"<table>","</table>"],$A:[2,"<table><tbody>","</tbody></table>"],zq:[3,"<table><tbody><tr>","</tr></tbody></table>"],Iw:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],Sf:[1,"<map>","</map>"],xb:[0,"",""]},Wd=qc(R),jc=Wd.appendChild(R.createElement("div"));Ya.oz=Ya.ik;Ya.Sk=Ya.VA=Ya.Jw=
Ya.caption=Ya.Aq;Ya.WA=Ya.zq;e.n.Rj||(Ya.xb=[1,"X<div>","</div>"]);e.m.extend({text:function(a){return e.yb(this,function(a){return a===I?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(a))},u,a,arguments.length)},Ph:function(a){if(e.r(a))return this.k(function(b){e(this).Ph(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).Bj(0).d(t);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=
a.firstChild;return a}).append(this)}return this},Rq:function(a){return e.r(a)?this.k(function(b){e(this).Rq(a.call(this,b))}):this.k(function(){var b=e(this),c=b.ae();c.length?c.Ph(a):b.append(a)})},Hi:function(a){var b=e.r(a);return this.k(function(c){e(this).Ph(b?a.call(this,c):a)})},kB:function(){return this.parent().k(function(){e.nodeName(this,"body")||e(this).sk(this.childNodes)}).end()},append:function(){return this.nd(arguments,t,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},
Dz:function(){return this.nd(arguments,t,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},Un:function(){if(!nb(this[0]))return this.nd(arguments,y,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=e.Og(arguments);return this.Oa(e.ta(a,this),"before",this.P)}},$v:function(){if(!nb(this[0]))return this.nd(arguments,y,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=e.Og(arguments);return this.Oa(e.ta(this,
a),"after",this.P)}},remove:function(a,b){for(var c,d=0;(c=this[d])!=u;d++)if(!a||e.filter(a,[c]).length)!b&&1===c.nodeType&&(e.Zd(c.getElementsByTagName("*")),e.Zd([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,b=0;(a=this[b])!=u;b++)for(1===a.nodeType&&e.Zd(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},d:function(a,b){a=a==u?y:a;b=b==u?a:b;return this.map(function(){return e.d(this,a,b)})},je:function(a){return e.yb(this,
function(a){var b=this[0]||{},c=0,H=this.length;if(a===I)return 1===b.nodeType?b.innerHTML.replace(Ee,""):I;if("string"===typeof a&&!ba.test(a)&&(e.n.Rj||!ya.test(a))&&(e.n.Zj||!wd.test(a))&&!Ya[(Ud.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Td,"<$1></$2>");try{for(;c<H;c++)b=this[c]||{},1===b.nodeType&&(e.Zd(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},u,a,arguments.length)},sk:function(a){if(!nb(this[0])){if(e.r(a))return this.k(function(b){var c=e(this),
d=c.je();c.sk(a.call(this,b,d))});"string"!==typeof a&&(a=e(a).detach());return this.k(function(){var b=this.nextSibling,c=this.parentNode;e(this).remove();b?e(b).Un(a):e(c).append(a)})}return this.length?this.Oa(e(e.r(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,t)},nd:function(a,b,c){a=[].concat.apply([],a);var d,f,g,h=0,j=a[0],k=[],E=this.length;if(!e.n.pj&&1<E&&"string"===typeof j&&Vd.test(j))return this.k(function(){e(this).nd(a,b,c)});if(e.r(j))return this.k(function(d){var f=
e(this);a[0]=j.call(this,d,b?f.je():I);f.nd(a,b,c)});if(this[0]){d=e.lj(a,this,k);g=d.eh;f=g.firstChild;1===g.childNodes.length&&(g=f);if(f){b=b&&e.nodeName(f,"tr");for(d=d.mj||E-1;h<E;h++)c.call(b&&e.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h],h===d?g:e.d(g,t,t))}g=f=u;k.length&&e.k(k,function(a,b){b.src?e.hd?e.hd({url:b.src,type:"GET",dataType:"script",async:y,global:y,"throws":t}):e.error("no ajax"):
e.Mj((b.text||b.textContent||b.innerHTML||"").replace(He,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});e.lj=function(a,b,c){var d,f,g,h=a[0];b=b||R;b=!b.nodeType&&b[0]||b;b=b.ownerDocument||b;if(1===a.length&&"string"===typeof h&&512>h.length&&b===R&&"<"===h.charAt(0)&&!ca.test(h)&&(e.n.pj||!Vd.test(h))&&(e.n.jh||!ya.test(h)))f=t,d=e.Gj[h],g=d!==I;d||(d=b.createDocumentFragment(),e.Og(a,b,d,c),f&&(e.Gj[h]=g&&d));return{eh:d,mj:f}};e.Gj={};e.k({Rn:"append",Ez:"prepend",insertBefore:"before",
ey:"after",Pz:"replaceWith"},function(a,b){e.m[a]=function(c){var d,f=0,g=[];c=e(c);var h=c.length;d=1===this.length&&this[0].parentNode;if((d==u||d&&11===d.nodeType&&1===d.childNodes.length)&&1===h)return c[b](this[0]),this;for(;f<h;f++)d=(0<f?this.d(t):this).get(),e(c[f])[b](d),g=g.concat(d);return this.Oa(g,a,c.P)}});e.extend({d:function(a,b,c){var d,f,g,h;e.n.jh||e.rf(a)||!ya.test("<"+a.nodeName+">")?h=a.cloneNode(t):(jc.innerHTML=a.outerHTML,jc.removeChild(h=jc.firstChild));if((!e.n.ek||!e.n.zp)&&
(1===a.nodeType||11===a.nodeType)&&!e.rf(a)){Jc(a,h);d=D(a);f=D(h);for(g=0;d[g];++g)f[g]&&Jc(d[g],f[g])}if(b&&(S(a,h),c)){d=D(a);f=D(h);for(g=0;d[g];++g)S(d[g],f[g])}return h},Og:function(a,b,c,d){var f,g,h,j,k,E,l=b===R&&Wd,m=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=R;for(f=0;(h=a[f])!=u;f++)if("number"===typeof h&&(h+=""),h){if("string"===typeof h)if(aa.test(h)){l=l||qc(b);E=b.createElement("div");l.appendChild(E);h=h.replace(Td,"<$1></$2>");g=(Ud.exec(h)||["",""])[1].toLowerCase();
j=Ya[g]||Ya.xb;k=j[0];for(E.innerHTML=j[1]+h+j[2];k--;)E=E.lastChild;if(!e.n.Sk){k=Fe.test(h);j="table"===g&&!k?E.firstChild&&E.firstChild.childNodes:"<table>"===j[1]&&!k?E.childNodes:[];for(g=j.length-1;0<=g;--g)e.nodeName(j[g],"tbody")&&!j[g].childNodes.length&&j[g].parentNode.removeChild(j[g])}!e.n.Zj&&wd.test(h)&&E.insertBefore(b.createTextNode(wd.exec(h)[0]),E.firstChild);h=E.childNodes;E.parentNode.removeChild(E)}else h=b.createTextNode(h);h.nodeType?m.push(h):e.ta(m,h)}E&&(h=E=l=u);if(!e.n.Qn)for(f=
0;(h=m[f])!=u;f++)e.nodeName(h,"input")?Sa(h):"undefined"!==typeof h.getElementsByTagName&&e.Fc(h.getElementsByTagName("input"),Sa);if(c){a=function(a){if(!a.type||Ge.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=m[f])!=u;f++)if(!e.nodeName(h,"script")||!a(h))c.appendChild(h),"undefined"!==typeof h.getElementsByTagName&&(h=e.Fc(e.ta([],h.getElementsByTagName("script")),a),m.splice.apply(m,[f+1,0].concat(h)),f+=h.length)}return m},Zd:function(a,
b){for(var c,d,f,g,h=0,j=e.expando,k=e.Va,E=e.n.Sg,l=e.event.Qa;(f=a[h])!=u;h++)if(b||e.Yd(f))if(c=(d=f[j])&&k[d]){if(c.Ub)for(g in c.Ub)l[g]?e.event.remove(f,g):e.rk(f,g,c.handle);k[d]&&(delete k[d],E?delete f[j]:f.removeAttribute?f.removeAttribute(j):f[j]=u,e.xj.push(d))}}});var jd,Bb;e.Kq=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||
[];return{Uf:a[1]||"",version:a[2]||"0"}};jd=e.Kq(Wa.userAgent);Bb={};jd.Uf&&(Bb[jd.Uf]=t,Bb.version=jd.version);Bb.Ew?Bb.Qq=t:Bb.Qq&&(Bb.Xz=t);e.Uf=Bb;e.sub=function(){function a(b,c){return new a.m.Ca(b,c)}e.extend(t,a,this);a.OA=this;a.m=a.prototype=this();a.m.constructor=a;a.sub=this.sub;a.m.Ca=function(c,d){d&&(d instanceof e&&!(d instanceof a))&&(d=a(d));return e.m.Ca.call(this,c,d,b)};a.m.Ca.prototype=a.m;var b=a(R);return a};var Ja,Kb,cc,kc=/alpha\([^)]*\)/i,Ie=/opacity=([^)]*)/,Je=/^(top|right|bottom|left)$/,
Ke=/^(none|table(?!-c[ea]).+)/,sc=/^margin/,re=RegExp("^("+ia+")(.*)$","i"),Zb=RegExp("^("+ia+")(?!px)[a-z%]+$","i"),Le=RegExp("^([-+])=("+ia+")","i"),Ia={},Me={position:"absolute",visibility:"hidden",display:"block"},yc={letterSpacing:0,fontWeight:400},Pb=["Top","Right","Bottom","Left"],Kd=["Webkit","O","Moz","ms"],Fb=e.m.toggle;e.m.extend({J:function(a,b){return e.yb(this,function(a,b,c){return c!==I?e.style(a,b,c):e.J(a,b)},a,b,1<arguments.length)},show:function(){return ma(this,t)},Qj:function(){return ma(this)},
toggle:function(a,b){var c="boolean"===typeof a;return e.r(a)&&e.r(b)?Fb.apply(this,arguments):this.k(function(){(c?a:N(this))?e(this).show():e(this).Qj()})}});e.extend({La:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},Pg:{fillOpacity:t,fontWeight:t,lineHeight:t,opacity:t,orphans:t,widows:t,zIndex:t,zoom:t},ce:{"float":e.n.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var f,g,h,j=e.Dc(b),k=a.style;b=e.ce[j]||
(e.ce[j]=M(k,j));h=e.La[b]||e.La[j];if(c!==I){g=typeof c;if("string"===g&&(f=Le.exec(c)))c=(f[1]+1)*f[2]+parseFloat(e.J(a,b)),g="number";if(!(c==u||"number"===g&&isNaN(c)))if("number"===g&&!e.Pg[j]&&(c+="px"),!h||!("set"in h)||(c=h.set(a,c,d))!==I)try{k[b]=c}catch(E){}}else return h&&"get"in h&&(f=h.get(a,y,d))!==I?f:k[b]}},J:function(a,b,c,d){var f,g;g=e.Dc(b);b=e.ce[g]||(e.ce[g]=M(a.style,g));(g=e.La[b]||e.La[g])&&"get"in g&&(f=g.get(a,t,d));f===I&&(f=Ja(a,b));"normal"===f&&b in yc&&(f=yc[b]);return c||
d!==I?(a=parseFloat(f),c||e.Vj(a)?a||0:f):f},Rk:function(a,b,c){var e,d={};for(e in b)d[e]=a.style[e],a.style[e]=b[e];c=c.call(a);for(e in b)a.style[e]=d[e];return c}});J.getComputedStyle?Ja=function(a,b){var c,d,f,g,h=J.getComputedStyle(a,u),j=a.style;h&&(c=h[b],""===c&&!e.contains(a.ownerDocument,a)&&(c=e.style(a,b)),Zb.test(c)&&sc.test(b)&&(d=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=c,c=h.width,j.width=d,j.minWidth=f,j.maxWidth=g));return c}:R.documentElement.currentStyle&&
(Ja=function(a,b){var c,e,d=a.currentStyle&&a.currentStyle[b],f=a.style;d==u&&(f&&f[b])&&(d=f[b]);if(Zb.test(d)&&!Je.test(b)){c=f.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":d;d=f.pixelLeft+"px";f.left=c;e&&(a.runtimeStyle.left=e)}return""===d?"auto":d});e.k(["height","width"],function(a,b){e.La[b]={get:function(a,c,H){if(c)return 0===a.offsetWidth&&Ke.test(Ja(a,"display"))?e.Rk(a,Me,function(){return W(a,b,H)}):W(a,b,H)},set:function(a,
c,H){return K(0,c,H?fd(a,b,H,e.n.boxSizing&&"border-box"===e.J(a,"boxSizing")):0)}}});e.n.opacity||(e.La.opacity={get:function(a,b){return Ie.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,f=e.Vj(b)?"alpha(opacity="+100*b+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===e.trim(g.replace(kc,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),d&&!d.filter))return;c.filter=kc.test(g)?
g.replace(kc,f):g+" "+f}});e(function(){e.n.qk||(e.La.marginRight={get:function(a,b){return e.Rk(a,{display:"inline-block"},function(){if(b)return Ja(a,"marginRight")})}});!e.n.lk&&e.m.position&&e.k(["top","left"],function(a,b){e.La[b]={get:function(a,c){if(c){var H=Ja(a,b);return Zb.test(H)?e(a).position()[b]+"px":H}}}})});e.Xa&&e.Xa.filters&&(e.Xa.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!e.n.Yp&&"none"===(a.style&&a.style.display||Ja(a,"display"))},e.Xa.filters.visible=
function(a){return!e.Xa.filters.hidden(a)});e.k({margin:"",padding:"",border:"Width"},function(a,b){e.La[a+b]={expand:function(c){var e="string"===typeof c?c.split(" "):[c],d={};for(c=0;4>c;c++)d[a+Pb[c]+b]=e[c]||e[c-2]||e[0];return d}};sc.test(a)||(e.La[a+b].set=K)});var Ne=/%20/g,Db=/\[\]$/,zb=/\r?\n/g,Oc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Fc=/^(?:select|textarea)/i;e.m.extend({Zz:function(){return e.jk(this.lq())},
lq:function(){return this.map(function(){return this.elements?e.qd(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Fc.test(this.nodeName)||Oc.test(this.type))}).map(function(a,b){var c=e(this).zd();return c==u?u:e.isArray(c)?e.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}});e.jk=function(a,b){function c(a,b){b=e.r(b)?b():b==u?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}
var d,f=[];b===I&&(b=e.yc&&e.yc.Iq);if(e.isArray(a)||a.tf&&!e.pf(a))e.k(a,function(){c(this.name,this.value)});else for(d in a)Jb(d,a[d],b,c);return f.join("&").replace(Ne,"+")};var Ga,Pa,Gc=/#.*$/,Hc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,oc=/^(?:GET|HEAD)$/,Mb=/^\/\//,Za=/\?/,Sb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,sb=/([?&])_=[^&]*/,ka=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ua=e.m.load,G={},Ta={},Cb=["*/"]+["*"];try{Ga=va.href}catch(kf){Ga=R.createElement("a"),Ga.href="",Ga=
Ga.href}Pa=ka.exec(Ga.toLowerCase())||[];e.m.load=function(a,b,c){if("string"!==typeof a&&ua)return ua.apply(this,arguments);if(!this.length)return this;var d,f,g,h=this,j=a.indexOf(" ");0<=j&&(d=a.slice(j,a.length),a=a.slice(0,j));e.r(b)?(c=b,b=I):b&&"object"===typeof b&&(f="POST");e.hd({url:a,type:f,dataType:"html",data:b,complete:function(a,b){c&&h.k(c,g||[a.responseText,b,a])}}).jb(function(a){g=arguments;h.je(d?e("<div>").append(a.replace(Sb,"")).find(d):a)});return this};e.k("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){e.m[b]=function(a){return this.cc(b,a)}});e.k(["get","post"],function(a,b){e[b]=function(a,c,d,H){e.r(c)&&(H=H||d,d=c,c=I);return e.hd({type:b,url:a,data:c,Qk:d,dataType:H})}});e.extend({Mx:function(a,b){return e.get(a,I,b,"script")},Hx:function(a,b,c){return e.get(a,b,c,"json")},Gg:function(a,b){b?v(a,e.yc):(b=a,a=e.yc);v(a,b);return a},yc:{url:Ga,Uj:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Pa[1]),global:t,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
Tp:t,async:t,df:{xml:"application/xml, text/xml",je:"text/html",text:"text/plain",Zo:"application/json, text/javascript","*":Cb},ae:{xml:/xml/,je:/html/,Zo:/json/},fq:{xml:"responseXML",text:"responseText"},be:{"* text":J.lv,"text html":t,"text json":e.kk,"text xml":e.Lp},Fo:{na:t,url:t}},ej:Q(G),fj:Q(Ta),hd:function(a,b){function c(a,b,H,g){var Qa,lc,k,l,ta=b;if(2!==na){na=2;j&&clearTimeout(j);h=I;f=g||"";da.readyState=0<a?4:0;if(H){l=m;g=da;var w,pa,ib,z,C=l.ae,Ac=l.ib,G=l.fq;for(pa in G)pa in H&&
(g[G[pa]]=H[pa]);for(;"*"===Ac[0];)Ac.shift(),w===I&&(w=l.sh||g.getResponseHeader("content-type"));if(w)for(pa in C)if(C[pa]&&C[pa].test(w)){Ac.unshift(pa);break}if(Ac[0]in H)ib=Ac[0];else{for(pa in H){if(!Ac[0]||l.be[pa+" "+Ac[0]]){ib=pa;break}z||(z=pa)}ib=ib||z}ib?(ib!==Ac[0]&&Ac.unshift(ib),l=H[ib]):l=r}if(200<=a&&300>a||304===a)if(m.To&&((H=da.getResponseHeader("Last-Modified"))&&(e.lastModified[d]=H),(H=da.getResponseHeader("Etag"))&&(e.Xg[d]=H)),304===a)ta="notmodified",Qa=t;else{a:{lc=m;k=
l;var Q,Rb,ta=lc.ib.slice();w=ta[0];pa={};ib=0;lc.qo&&(k=lc.qo(k,lc.dataType));if(ta[1])for(Q in lc.be)pa[Q.toLowerCase()]=lc.be[Q];for(;H=ta[++ib];)if("*"!==H){if("*"!==w&&w!==H){Q=pa[w+" "+H]||pa["* "+H];if(!Q)for(Rb in pa)if(Qa=Rb.split(" "),Qa[1]===H&&(Q=pa[w+" "+Qa[0]]||pa["* "+Qa[0]])){Q===t?Q=pa[Rb]:pa[Rb]!==t&&(H=Qa[0],ta.splice(ib--,0,H));break}if(Q!==t)if(Q&&lc["throws"])k=Q(k);else try{k=Q(k)}catch(Ec){Qa={state:"parsererror",error:Q?Ec:"No conversion from "+w+" to "+H};break a}}w=H}Qa=
{state:"success",data:k}}ta=Qa.state;lc=Qa.data;k=Qa.error;Qa=!k}else if(k=ta,!ta||a)ta="error",0>a&&(a=0);da.status=a;da.statusText=""+(b||ta);Qa?x.ud(p,[lc,ta,da]):x.Xp(p,[da,ta,k]);da.Pk(v);v=I;E&&n.ra("ajax"+(Qa?"Success":"Error"),[da,m,Qa?lc:k]);q.Zg(p,[da,ta]);E&&(n.ra("ajaxComplete",[da,m]),--e.gb||e.event.ra("ajaxStop"))}}"object"===typeof a&&(b=a,a=I);b=b||{};var d,f,g,h,j,k,E,l,m=e.Gg({},b),p=m.na||m,n=p!==m&&(p.nodeType||p instanceof e)?e(p):e.event,x=e.Zc(),q=e.Vd("once memory"),v=m.Pk||
{},w={},pa={},na=0,ib="canceled",da={readyState:0,setRequestHeader:function(a,b){if(!na){var c=a.toLowerCase();a=pa[c]=pa[c]||a;w[a]=b}return this},getAllResponseHeaders:function(){return 2===na?f:u},getResponseHeader:function(a){var b;if(2===na){if(!g)for(g={};b=Hc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return b===I?u:b},overrideMimeType:function(a){na||(m.sh=a);return this},abort:function(a){a=a||ib;h&&h.abort(a);c(0,a);return this}};x.qa(da);da.Qk=da.jb;da.error=da.he;da.complete=
q.add;da.Pk=function(a){if(a){var b;if(2>na)for(b in a)v[b]=[v[b],a[b]];else b=a[da.status],da.zc(b)}return this};m.url=((a||m.url)+"").replace(Gc,"").replace(Mb,Pa[1]+"//");m.ib=e.trim(m.dataType||"*").toLowerCase().split(za);m.ld==u&&(k=ka.exec(m.url.toLowerCase()),m.ld=!(!k||!(k[1]!=Pa[1]||k[2]!=Pa[2]||(k[3]||("http:"===k[1]?80:443))!=(Pa[3]||("http:"===Pa[1]?80:443)))));m.data&&(m.Tp&&"string"!==typeof m.data)&&(m.data=e.jk(m.data,m.Iq));z(G,m,b,da);if(2===na)return da;E=m.global;m.type=m.type.toUpperCase();
m.hh=!oc.test(m.type);E&&0===e.gb++&&e.event.ra("ajaxStart");if(!m.hh&&(m.data&&(m.url+=(Za.test(m.url)?"&":"?")+m.data,delete m.data),d=m.url,m.Va===y)){k=e.now();var C=m.url.replace(sb,"$1_="+k);m.url=C+(C===m.url?(Za.test(m.url)?"&":"?")+"_="+k:"")}(m.data&&m.hh&&m.contentType!==y||b.contentType)&&da.setRequestHeader("Content-Type",m.contentType);m.To&&(d=d||m.url,e.lastModified[d]&&da.setRequestHeader("If-Modified-Since",e.lastModified[d]),e.Xg[d]&&da.setRequestHeader("If-None-Match",e.Xg[d]));
da.setRequestHeader("Accept",m.ib[0]&&m.df[m.ib[0]]?m.df[m.ib[0]]+("*"!==m.ib[0]?", "+Cb+"; q=0.01":""):m.df["*"]);for(l in m.headers)da.setRequestHeader(l,m.headers[l]);if(m.Vn&&(m.Vn.call(p,da,m)===y||2===na))return da.abort();ib="abort";for(l in{Qk:1,error:1,complete:1})da[l](m[l]);if(h=z(Ta,m,b,da)){da.readyState=1;E&&n.ra("ajaxSend",[da,m]);m.async&&0<m.timeout&&(j=setTimeout(function(){da.abort("timeout")},m.timeout));try{na=1,h.send(w,c)}catch(Q){2>na?c(-1,Q):sa(Q)}}else c(-1,"No Transport");
return da},gb:0,lastModified:{},Xg:{}});var Wc=[],pc=/\?/,Ua=/(=)\?(?=&|$)|\?\?/,Gb=e.now();e.Gg({Yj:"callback",pd:function(){var a=Wc.pop()||e.expando+"_"+Gb++;this[a]=t;return a}});e.ej("json jsonp",function(a,b,c){var d,f,g,h=a.data,j=a.url,k=a.Yj!==y,E=k&&Ua.test(j),l=k&&!E&&"string"===typeof h&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ua.test(h);if("jsonp"===a.ib[0]||E||l)return d=a.pd=e.r(a.pd)?a.pd():a.pd,f=J[d],E?a.url=j.replace(Ua,"$1"+d):l?a.data=h.replace(Ua,"$1"+
d):k&&(a.url+=(pc.test(j)?"&":"?")+a.Yj+"="+d),a.be["script json"]=function(){g||e.error(d+" was not called");return g[0]},a.ib[0]="json",J[d]=function(){g=arguments},c.zc(function(){J[d]=f;a[d]&&(a.pd=b.pd,Wc.push(d));g&&e.r(f)&&f(g[0]);g=f=I}),"script"});e.Gg({df:{iq:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},ae:{iq:/javascript|ecmascript/},be:{"text script":function(a){e.Mj(a);return a}}});e.ej("script",function(a){a.Va===I&&(a.Va=y);a.ld&&(a.type=
"GET",a.global=y)});e.fj("script",function(a){if(a.ld){var b,c=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(e,d){b=R.createElement("script");b.async="async";a.jq&&(b.charset=a.jq);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=u,c&&b.parentNode&&c.removeChild(b),b=I,e||d(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var Ha,
bb=J.ActiveXObject?function(){for(var a in Ha)Ha[a](0,1)}:y,Pe=0;e.yc.Wk=J.ActiveXObject?function(){var a;if(!(a=!this.Uj&&p()))a:{try{a=new J.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=r}return a}:p;var Xc=e.yc.Wk();e.extend(e.n,{hd:!!Xc,no:!!Xc&&"withCredentials"in Xc});e.n.hd&&e.fj(function(a){if(!a.ld||e.n.no){var b;return{send:function(c,d){var f,g,h=a.Wk();a.Nq?h.open(a.type,a.url,a.async,a.Nq,a.wz):h.open(a.type,a.url,a.async);if(a.Xk)for(g in a.Xk)h[g]=a.Xk[g];a.sh&&h.overrideMimeType&&
h.overrideMimeType(a.sh);!a.ld&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");try{for(g in c)h.setRequestHeader(g,c[g])}catch(j){}h.send(a.hh&&a.data||u);b=function(c,g){var j,lc,k,E,l;try{if(b&&(g||4===h.readyState))if(b=I,f&&(h.onreadystatechange=e.fk,bb&&delete Ha[f]),g)4!==h.readyState&&h.abort();else{j=h.status;k=h.getAllResponseHeaders();E={};if((l=h.responseXML)&&l.documentElement)E.xml=l;try{E.text=h.responseText}catch(m){}try{lc=h.statusText}catch(ta){lc=""}!j&&a.Uj&&!a.ld?
j=E.text?200:404:1223===j&&(j=204)}}catch(p){g||d(-1,p)}E&&d(j,lc,E,k)};a.async?4===h.readyState?setTimeout(b,0):(f=++Pe,bb&&(Ha||(Ha={},e(J).jB(bb)),Ha[f]=b),h.onreadystatechange=b):b()},abort:function(){b&&b(0,1)}}}});var Dc,C,zc=/^(?:toggle|show|hide)$/,hc=RegExp("^(?:([-+])=|)("+ia+")([a-z%]*)$","i"),ac=/queueHooks$/,Rc=[function(a,b,c){var d,f,g,h,j,k,E=this,l=a.style,m={},p=[],n=a.nodeType&&N(a);c.U||(j=e.Eg(a,"fx"),j.Bf==u&&(j.Bf=0,k=j.empty.ie,j.empty.ie=function(){j.Bf||k()}),j.Bf++,E.zc(function(){E.zc(function(){j.Bf--;
e.U(a,"fx").length||j.empty.ie()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===e.J(a,"display")&&"none"===e.J(a,"float")&&(!e.n.Tj||"inline"===Vb(a.nodeName)?l.display="inline-block":l.zoom=1);c.overflow&&(l.overflow="hidden",e.n.Kk||E.jb(function(){l.overflow=c.overflow[0];l.overflowX=c.overflow[1];l.overflowY=c.overflow[2]}));for(d in b)f=b[d],zc.exec(f)&&(delete b[d],f!==(n?"hide":"show")&&p.push(d));if(f=p.length){g=e.F(a,"fxshow")||
e.F(a,"fxshow",{});n?e(a).show():E.jb(function(){e(a).Qj()});E.jb(function(){var b;e.td(a,"fxshow",t);for(b in m)e.style(a,b,m[b])});for(d=0;d<f;d++)b=p[d],h=E.uj(b,n?g[b]:0),m[b]=g[b]||e.style(a,b),b in g||(g[b]=h.start,n&&(h.end=h.start,h.start="width"===b||"height"===b?1:0))}}],xc={"*":[function(a,b){var c,d,f,g=this.uj(a,b),h=hc.exec(b),j=g.Qg(),k=+j||0,E=1;if(h){c=+h[2];d=h[3]||(e.Pg[a]?"":"px");if("px"!==d&&k){k=e.J(g.I,a,t)||c||1;do f=E=E||".5",k/=E,e.style(g.I,a,k+d),E=g.Qg()/j;while(1!==
E&&E!==f)}g.Uk=d;g.start=k;g.end=h[1]?k+(h[1]+1)*c:c}return g}]};e.Ve=e.extend(w,{cB:function(a,b){e.r(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,f=a.length;d<f;d++)c=a[d],xc[c]=xc[c]||[],xc[c].unshift(b)},Cz:function(a,b){b?Rc.unshift(a):Rc.push(a)}});e.sn=q;q.prototype={constructor:q,Ca:function(a,b,c,d,f,g){this.I=a;this.ea=c;this.fe=f||"swing";this.options=b;this.start=this.now=this.Qg();this.end=d;this.Uk=g||(e.Pg[c]?"":"px")},Qg:function(){var a=q.nb[this.ea];return a&&a.get?a.get(this):
q.nb.xb.get(this)},tk:function(a){var b,c=q.nb[this.ea];this.Cm=this.options.duration?b=e.fe[this.fe](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.I,this.now,this);c&&c.set?c.set(this):q.nb.xb.set(this);return this}};q.prototype.Ca.prototype=q.prototype;q.nb={xb:{get:function(a){if(a.I[a.ea]!=u&&(!a.I.style||a.I.style[a.ea]==u))return a.I[a.ea];a=e.J(a.I,a.ea,y,"");return!a||"auto"===a?0:a},set:function(a){if(e.da.step[a.ea])e.da.step[a.ea](a);
else a.I.style&&(a.I.style[e.ce[a.ea]]!=u||e.La[a.ea])?e.style(a.I,a.ea,a.now+a.Uk):a.I[a.ea]=a.now}}};q.nb.scrollTop=q.nb.scrollLeft={set:function(a){a.I.nodeType&&a.I.parentNode&&(a.I[a.ea]=a.now)}};e.k(["toggle","show","hide"],function(a,b){var c=e.m[b];e.m[b]=function(d,f,g){return d==u||"boolean"===typeof d||!a&&e.r(d)&&e.r(f)?c.apply(this,arguments):this.Hg(n(b,t),d,f,g)}});e.m.extend({rx:function(a,b,c,e){return this.filter(N).J("opacity",0).show().end().Hg({opacity:b},a,c,e)},Hg:function(a,
b,c,d){function f(){var b=w(this,e.extend({},a),h);g&&b.stop(t)}var g=e.nf(a),h=e.speed(b,c,d);return g||h.U===y?this.k(f):this.U(h.U,f)},stop:function(a,b,c){function d(a){var b=a.stop;delete a.stop;b(c)}"string"!==typeof a&&(c=b,b=a,a=I);b&&a!==y&&this.U(a||"fx",[]);return this.k(function(){var b=t,f=a!=u&&a+"queueHooks",g=e.Af,h=e.F(this);if(f)h[f]&&h[f].stop&&d(h[f]);else for(f in h)h[f]&&(h[f].stop&&ac.test(f))&&d(h[f]);for(f=g.length;f--;)if(g[f].I===this&&(a==u||g[f].U===a))g[f].On.stop(c),
b=y,g.splice(f,1);(b||!c)&&e.md(this,a)})}});e.k({vA:n("show"),xA:n("hide"),wA:n("toggle"),px:{opacity:"show"},qx:{opacity:"hide"},sx:{opacity:"toggle"}},function(a,b){e.m[a]=function(a,c,e){return this.Hg(b,a,c,e)}});e.speed=function(a,b,c){var d=a&&"object"===typeof a?e.extend({},a):{complete:c||!c&&b||e.r(a)&&a,duration:a,fe:c&&b||b&&!e.r(b)&&b};d.duration=e.da.Db?0:"number"===typeof d.duration?d.duration:d.duration in e.da.zf?e.da.zf[d.duration]:e.da.zf.xb;if(d.U==u||d.U===t)d.U="fx";d.hk=d.complete;
d.complete=function(){e.r(d.hk)&&d.hk.call(this);d.U&&e.md(this,d.U)};return d};e.fe={qy:mb(),QA:function(a){return 0.5-Math.cos(a*Math.PI)/2}};e.Af=[];e.da=q.prototype.Ca;e.da.Cq=function(){for(var a,b=e.Af,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||e.da.stop()};e.da.Eq=function(a){a()&&(e.Af.push(a)&&!C)&&(C=setInterval(e.da.Cq,e.da.Vo))};e.da.Vo=13;e.da.stop=function(){clearInterval(C);C=u};e.da.zf={yA:600,tx:200,xb:400};e.da.step={};e.Xa&&e.Xa.filters&&(e.Xa.filters.dw=
function(a){return e.Fc(e.Af,function(b){return a===b.I}).length});var xd=/^(?:body|html)$/i;e.m.offset=function(a){if(arguments.length)return a===I?this:this.k(function(b){e.offset.pq(this,a,b)});var b,c,d,f,g,h;if(g=(b=this[0])&&b.ownerDocument){if((d=g.body)===b)return e.offset.Zn(b);c=g.documentElement;if(!e.contains(c,b))return{top:0,left:0};b=b.getBoundingClientRect();f=m(g);g=c.clientTop||d.clientTop||0;d=c.clientLeft||d.clientLeft||0;h=f.pageYOffset||c.scrollTop;c=f.pageXOffset||c.scrollLeft;
g=b.top+h-g;b=b.left+c-d;return{top:g,left:b}}};e.offset={Zn:function(a){var b=a.offsetTop,c=a.offsetLeft;e.n.yo&&(b+=parseFloat(e.J(a,"marginTop"))||0,c+=parseFloat(e.J(a,"marginLeft"))||0);return{top:b,left:c}},pq:function(a,b,c){var d=e.J(a,"position");"static"===d&&(a.style.position="relative");var f=e(a),g=f.offset(),h=e.J(a,"top"),j=e.J(a,"left"),k={},E={};("absolute"===d||"fixed"===d)&&-1<e.Yb("auto",[h,j])?(E=f.position(),d=E.top,j=E.left):(d=parseFloat(h)||0,j=parseFloat(j)||0);e.r(b)&&(b=
b.call(a,c,g));b.top!=u&&(k.top=b.top-g.top+d);b.left!=u&&(k.left=b.left-g.left+j);"using"in b?b.pB.call(a,k):f.J(k)}};e.m.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=xd.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(e.J(a,"marginTop"))||0;c.left-=parseFloat(e.J(a,"marginLeft"))||0;d.top+=parseFloat(e.J(b[0],"borderTopWidth"))||0;d.left+=parseFloat(e.J(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||R.body;a&&!xd.test(a.nodeName)&&"static"===e.J(a,"position");)a=a.offsetParent;return a||R.body})}});e.k({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);e.m[a]=function(d){return e.yb(this,function(a,d,H){var f=m(a);if(H===I)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(!c?H:e(f).scrollLeft(),c?H:e(f).scrollTop()):a[d]=H},a,d,arguments.length,u)}});e.k({Mu:"height",zv:"width"},function(a,b){e.k({padding:"inner"+a,content:b,
"":"outer"+a},function(c,d){e.m[d]=function(d,f){var g=arguments.length&&(c||"boolean"!==typeof d),h=c||(d===t||f===t?"margin":"border");return e.yb(this,function(b,c,d){return e.Gc(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):d===I?e.J(b,c,d,h):e.style(b,c,d,h)},b,g?d:I,g,u)}})});J.sf=J.qg=e;"function"===typeof define&&(define.gj&&define.gj.sf)&&define("jquery",[],function(){return e});
return e}"object"===typeof s?V.mc=T():"function"===typeof define&&define.gj?define([],T):this.Rz=T()});
me.Jb("/client/vendor/Three.js",function(F,V){function s(a,b){b.push(a);for(var d=0;d<a.children.length;d++)s(a.children[d],b)}function T(a){for(var b=a.length,d=0,f=b-1,g=0;g<b;f=g++)d+=a[f].x*a[g].y-a[g].x*a[f].y;return 0.5*d}var b=b||{mr:"55"};self.console=self.console||{info:Xb(),log:Xb(),debug:Xb(),warn:Xb(),error:Xb()};self.Nu=self.Nu||Array;self.Ku=self.Ku||Array;String.prototype.Xl=String.prototype.Xl||function(a){a=String(a);var b=this.lastIndexOf(a);return(-1<b&&b)===this.length-a.length};
String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};for(var L=0,X=["ms","moz","webkit","o"],P=0;P<X.length&&!window.requestAnimationFrame;++P)window.requestAnimationFrame=window[X[P]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[X[P]+"CancelAnimationFrame"]||window[X[P]+"CancelRequestAnimationFrame"];r===window.requestAnimationFrame&&(window.requestAnimationFrame=function(a){var b=Date.now(),d=Math.max(0,16-(b-L)),f=window.setTimeout(function(){a(b+
d)},d);L=b+d;return f});window.cancelAnimationFrame=window.cancelAnimationFrame||function(a){window.clearTimeout(a)};b.Fu=0;b.Eu=1;b.cl=2;b.DB=3;b.Lu=0;b.FB=1;b.yB=0;b.hr=1;b.ir=2;b.el=0;b.Qh=1;b.Hf=2;b.KB=0;b.Rh=1;b.Id=2;b.Qi=0;b.tg=1;b.Xi=2;b.fr=0;b.Ri=1;b.Tq=2;b.xr=3;b.Vu=4;b.Wq=5;b.Sq=100;b.mv=101;b.ev=102;b.Av=200;b.Yu=201;b.kv=202;b.av=203;b.wr=204;b.gr=205;b.Iu=206;b.Zu=207;b.Ju=208;b.$u=209;b.jv=210;b.gl=0;b.JB=1;b.xB=2;b.Br=Xb();b.BB=Xb();b.Du=Xb();b.hv=Xb();b.NB=Xb();b.Ze=1E3;b.Ii=1001;
b.kn=1002;b.Wh=1003;b.er=1004;b.dr=1005;b.vg=1006;b.Ru=1007;b.hn=1008;b.un=1009;b.xu=1010;b.gv=1011;b.xv=1012;b.Ou=1013;b.tv=1014;b.$m=1015;b.uv=1016;b.vv=1017;b.wv=1018;b.tu=1019;b.mn=1020;b.Ui=1021;b.Tu=1022;b.Su=1023;b.pr=2001;b.cv=2002;b.nr=2003;b.or=2004;b.B=function(a){r!==a&&this.set(a);return this};b.B.prototype={constructor:b.B,q:1,p:1,i:1,set:function(a){switch(typeof a){case "number":this.Wc(a);break;case "string":this.lA(a)}},Wc:function(a){a=Math.floor(a);this.q=(a>>16&255)/255;this.p=
(a>>8&255)/255;this.i=(a&255)/255;return this},Eb:function(a,b,d){this.q=a;this.p=b;this.i=d;return this},jA:function(a,b,d){var f,g,h;0===d?this.q=this.p=this.i=0:(f=Math.floor(6*a),g=6*a-f,a=d*(1-b),h=d*(1-b*g),b=d*(1-b*(1-g)),0===f?(this.q=d,this.p=b,this.i=a):1===f?(this.q=h,this.p=d,this.i=a):2===f?(this.q=a,this.p=d,this.i=b):3===f?(this.q=a,this.p=h,this.i=d):4===f?(this.q=b,this.p=a,this.i=d):5===f&&(this.q=d,this.p=a,this.i=h));return this},lA:function(a){if(/^rgb\((\d+),(\d+),(\d+)\)$/i.test(a))return a=
/^rgb\((\d+),(\d+),(\d+)\)$/i.exec(a),this.q=Math.min(255,parseInt(a[1],10))/255,this.p=Math.min(255,parseInt(a[2],10))/255,this.i=Math.min(255,parseInt(a[3],10))/255,this;if(/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.test(a))return a=/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.exec(a),this.q=Math.min(100,parseInt(a[1],10))/100,this.p=Math.min(100,parseInt(a[2],10))/100,this.i=Math.min(100,parseInt(a[3],10))/100,this;if(/^\#([0-9a-f]{6})$/i.test(a))return a=/^\#([0-9a-f]{6})$/i.exec(a),this.Wc(parseInt(a[1],16)),
this;if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(a))return a=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a),this.Wc(parseInt(a[1]+a[1]+a[2]+a[2]+a[3]+a[3],16)),this;if(/^(\w+)$/i.test(a))return this.Wc(b.Au[a]),this},copy:function(a){this.q=a.q;this.p=a.p;this.i=a.i;return this},ii:function(a){this.q=a.q*a.q;this.p=a.p*a.p;this.i=a.i*a.i;return this},kf:function(){return 255*this.q<<16^255*this.p<<8^255*this.i<<0},qi:function(){return"rgb("+(255*this.q|0)+","+(255*this.p|0)+","+(255*this.i|0)+")"},
Gx:function(a){var b=this.q,d=this.p,f=this.i,g=Math.max(Math.max(b,d),f),h=Math.min(Math.min(b,d),f);if(h===g)h=b=0;else{var j=g-h,h=j/g,b=(b===g?(d-f)/j:d===g?2+(f-b)/j:4+(b-d)/j)/6;0>b&&(b+=1);1<b&&(b-=1)}r===a&&(a={Nj:0,uk:0,Vk:0});a.Nj=b;a.uk=h;a.Vk=g;return a},add:function(a){this.q+=a.q;this.p+=a.p;this.i+=a.i;return this},Dl:function(a,b){this.q=a.q+b.q;this.p=a.p+b.p;this.i=a.i+b.i;return this},ic:function(a){this.q+=a;this.p+=a;this.i+=a;return this},multiply:function(a){this.q*=a.q;this.p*=
a.p;this.i*=a.i;return this},A:function(a){this.q*=a;this.p*=a;this.i*=a;return this},ak:function(a,b){this.q+=(a.q-this.q)*b;this.p+=(a.p-this.p)*b;this.i+=(a.i-this.i)*b;return this},d:function(){return(new b.B).Eb(this.q,this.p,this.i)}};b.Au={XB:15792383,ZB:16444375,$B:65535,aC:8388564,hC:15794175,kC:16119260,mC:16770244,nC:0,oC:16772045,blue:255,pC:9055202,uC:10824234,wC:14596231,xC:6266528,CC:8388352,EC:13789470,KC:16744272,LC:6591981,MC:16775388,OC:14423100,RC:65535,TC:139,UC:35723,VC:12092939,
WC:11119017,XC:25600,YC:11119017,ZC:12433259,$C:9109643,aD:5597999,bD:16747520,cD:10040012,dD:9109504,eD:15308410,fD:9419919,gD:4734347,hD:3100495,iD:3100495,jD:52945,kD:9699539,mD:16716947,nD:49151,oD:6908265,pD:6908265,sD:2003199,AD:11674146,BD:16775920,CD:2263842,DD:16711935,FD:14474460,LD:16316671,MD:16766720,ND:14329120,OD:8421504,green:32768,PD:11403055,QD:8421504,TD:15794160,UD:16738740,VD:13458524,WD:4915330,$D:16777200,aE:15787660,cE:15132410,dE:16773365,eE:8190976,fE:16775885,gE:11393254,
hE:15761536,iE:14745599,jE:16448210,kE:13882323,lE:9498256,mE:13882323,nE:16758465,oE:16752762,pE:2142890,qE:8900346,rE:7833753,sE:7833753,tE:11584734,uE:16777184,vE:65280,wE:3329330,yE:16445670,zE:16711935,VE:8388608,YE:6737322,ZE:205,$E:12211667,aF:9662683,bF:3978097,cF:8087790,dF:64154,eF:4772300,fF:13047173,gF:1644912,kF:16121850,lF:16770273,mF:16770229,nF:16768685,oF:128,rF:16643558,sF:8421376,tF:7048739,uF:16753920,vF:16729344,wF:14315734,xF:15657130,yF:10025880,zF:11529966,AF:14381203,BF:16773077,
DF:16767673,EF:13468991,HF:16761035,IF:14524637,KF:11591910,NF:8388736,red:16711680,ZF:12357519,aG:4286945,bG:9127187,cG:16416882,dG:16032864,fG:3050327,gG:16774638,mG:10506797,oG:12632256,pG:8900331,qG:6970061,rG:7372944,sG:7372944,tG:16775930,uG:65407,wG:4620980,tan:13808780,DG:32896,EG:14204888,FG:16737095,LG:4251856,TG:15631086,VG:16113331,WG:16777215,XG:16119285,YG:16776960,ZG:10145074};b.vc=function(a,b,d,f){this.x=a||0;this.y=b||0;this.a=d||0;this.e=r!==f?f:1};b.vc.prototype={constructor:b.vc,
set:function(a,b,d,f){this.x=a;this.y=b;this.a=d;this.e=f;return this},copy:function(a){this.x=a.x;this.y=a.y;this.a=a.a;this.e=a.e;return this},nq:function(a,b){var d=b/2,f=Math.sin(d);this.x=a.x*f;this.y=a.y*f;this.a=a.a*f;this.e=Math.cos(d);return this},iA:function(a){var b=a.elements,d=b[0];a=b[4];var f=b[8],g=b[1],h=b[5],j=b[9],l=b[2],e=b[6],b=b[10],m=d+h+b;0<m?(d=0.5/Math.sqrt(m+1),this.e=0.25/d,this.x=(e-j)*d,this.y=(f-l)*d,this.a=(g-a)*d):d>h&&d>b?(d=2*Math.sqrt(1+d-h-b),this.e=(e-j)/d,this.x=
0.25*d,this.y=(a+g)/d,this.a=(f+l)/d):h>b?(d=2*Math.sqrt(1+h-d-b),this.e=(f-l)/d,this.x=(a+g)/d,this.y=0.25*d,this.a=(j+e)/d):(d=2*Math.sqrt(1+b-d-h),this.e=(g-a)/d,this.x=(f+l)/d,this.y=(j+e)/d,this.a=0.25*d);return this},oh:function(){return this.x*this.x+this.y*this.y+this.a*this.a+this.e*this.e},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.a*this.a+this.e*this.e)},normalize:function(){var a=this.length();0===a?(this.a=this.y=this.x=0,this.e=1):(a=1/a,this.x*=a,this.y*=a,
this.a*=a,this.e*=a);return this},multiply:function(a,b){return r!==b?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.jt(a,b)):this.jt(this,a)},jt:function(a,b){var d=a.x,f=a.y,g=a.a,h=a.e,j=b.x,l=b.y,e=b.a,m=b.e;this.x=d*m+h*j+f*e-g*l;this.y=f*m+h*l+g*j-d*e;this.a=g*m+h*e+d*l-f*j;this.e=h*m-d*j-f*l-g*e;return this},vq:function(a,b){var d=this.x,f=this.y,g=this.a,h=this.e,j=h*a.e+d*a.x+f*a.y+g*a.a;0>j?(this.e=-a.e,
this.x=-a.x,this.y=-a.y,this.a=-a.a,j=-j):this.copy(a);if(1<=j)return this.e=h,this.x=d,this.y=f,this.a=g,this;var l=Math.acos(j),e=Math.sqrt(1-j*j);if(0.001>Math.abs(e))return this.e=0.5*(h+this.e),this.x=0.5*(d+this.x),this.y=0.5*(f+this.y),this.a=0.5*(g+this.a),this;j=Math.sin((1-b)*l)/e;l=Math.sin(b*l)/e;this.e=h*j+this.e*l;this.x=d*j+this.x*l;this.y=f*j+this.y*l;this.a=g*j+this.a*l;return this},ab:function(a){return a.x===this.x&&a.y===this.y&&a.a===this.a&&a.e===this.e},d:function(){return new b.vc(this.x,
this.y,this.a,this.e)}};b.vc.vq=function(a,b,d,f){return d.copy(a).vq(b,f)};b.j=function(a,b){this.x=a||0;this.y=b||0};b.j.prototype={constructor:b.j,set:function(a,b){this.x=a;this.y=b;return this},Jm:function(a){this.y=a;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Md(a,b);this.x+=a.x;this.y+=a.y;return this},Md:function(a,b){this.x=
a.x+b.x;this.y=a.y+b.y;return this},ic:function(a){this.x+=a;this.y+=a;return this},sub:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.W(a,b);this.x-=a.x;this.y-=a.y;return this},W:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},A:function(a){this.x*=a;this.y*=a;return this},Ie:function(a){0!==a?(this.x/=a,this.y/=a):this.set(0,0);return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&
(this.y=a.y);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},Sb:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);return this},wi:function(){return this.A(-1)},Ma:function(a){return this.x*a.x+this.y*a.y},oh:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Ie(this.length())},Ug:function(a){return Math.sqrt(this.Vg(a))},
Vg:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},te:function(a){var b=this.length();0!==b&&a!==b&&this.A(a/b);return this},ak:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},ab:function(a){return a.x===this.x&&a.y===this.y},d:function(){return new b.j(this.x,this.y)}};b.c=function(a,b,d){this.x=a||0;this.y=b||0;this.a=d||0};b.c.prototype={constructor:b.c,set:function(a,b,d){this.x=a;this.y=b;this.a=d;return this},Jm:function(a){this.y=a;return this},copy:function(a){this.x=
a.x;this.y=a.y;this.a=a.a;return this},add:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Md(a,b);this.x+=a.x;this.y+=a.y;this.a+=a.a;return this},ic:function(a){this.x+=a;this.y+=a;this.a+=a;return this},Md:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.a=a.a+b.a;return this},sub:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.W(a,b);this.x-=a.x;this.y-=a.y;this.a-=a.a;return this},W:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.a=a.a-b.a;return this},multiply:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.Vy(a,b);this.x*=a.x;this.y*=a.y;this.a*=a.a;return this},A:function(a){this.x*=a;this.y*=a;this.a*=a;return this},Vy:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.a=a.a*b.a;return this},Ee:function(a){var b=
this.x,d=this.y,f=this.a;a=a.elements;this.x=a[0]*b+a[3]*d+a[6]*f;this.y=a[1]*b+a[4]*d+a[7]*f;this.a=a[2]*b+a[5]*d+a[8]*f;return this},xa:function(a){var b=this.x,d=this.y,f=this.a;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*f+a[12];this.y=a[1]*b+a[5]*d+a[9]*f+a[13];this.a=a[2]*b+a[6]*d+a[10]*f+a[14];return this},Fe:function(a){var b=this.x,d=this.y,f=this.a;a=a.elements;var g=1/(a[3]*b+a[7]*d+a[11]*f+a[15]);this.x=(a[0]*b+a[4]*d+a[8]*f+a[12])*g;this.y=(a[1]*b+a[5]*d+a[9]*f+a[13])*g;this.a=(a[2]*b+a[6]*
d+a[10]*f+a[14])*g;return this},Gl:function(a){var b=this.x,d=this.y,f=this.a,g=a.x,h=a.y,j=a.a;a=a.e;var l=a*b+h*f-j*d,e=a*d+j*b-g*f,m=a*f+g*d-h*b,b=-g*b-h*d-j*f;this.x=l*a+b*-g+e*-j-m*-h;this.y=e*a+b*-h+m*-g-l*-j;this.a=m*a+b*-j+l*-h-e*-g;return this},Ie:function(a){0!==a?(this.x/=a,this.y/=a,this.a/=a):this.a=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.a>a.a&&(this.a=a.a);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=
a.y);this.a<a.a&&(this.a=a.a);return this},Sb:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.a<a.a?this.a=a.a:this.a>b.a&&(this.a=b.a);return this},wi:function(){return this.A(-1)},Ma:function(a){return this.x*a.x+this.y*a.y+this.a*a.a},oh:function(){return this.x*this.x+this.y*this.y+this.a*this.a},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.a*this.a)},Ps:function(){return Math.abs(this.x)+Math.abs(this.y)+
Math.abs(this.a)},normalize:function(){return this.Ie(this.length())},te:function(a){var b=this.length();0!==b&&a!==b&&this.A(a/b);return this},ak:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.a+=(a.a-this.a)*b;return this},Od:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.lc(a,b);var d=this.x,f=this.y,g=this.a;this.x=f*a.a-g*a.y;this.y=g*a.x-d*a.a;this.a=d*a.y-f*a.x;return this},
lc:function(a,b){this.x=a.y*b.a-a.a*b.y;this.y=a.a*b.x-a.x*b.a;this.a=a.x*b.y-a.y*b.x;return this},Ug:function(a){return Math.sqrt(this.Vg(a))},Vg:function(a){var b=this.x-a.x,d=this.y-a.y;a=this.a-a.a;return b*b+d*d+a*a},Kx:function(a){this.x=a.elements[12];this.y=a.elements[13];this.a=a.elements[14];return this},mq:function(a,b){function d(a){return Math.min(Math.max(a,-1),1)}var f=a.elements,g=f[0],h=f[4],j=f[8],l=f[1],e=f[5],m=f[9],n=f[2],q=f[6],f=f[10];r===b||"XYZ"===b?(this.y=Math.asin(d(j)),
0.99999>Math.abs(j)?(this.x=Math.atan2(-m,f),this.a=Math.atan2(-h,g)):(this.x=Math.atan2(q,e),this.a=0)):"YXZ"===b?(this.x=Math.asin(-d(m)),0.99999>Math.abs(m)?(this.y=Math.atan2(j,f),this.a=Math.atan2(l,e)):(this.y=Math.atan2(-n,g),this.a=0)):"ZXY"===b?(this.x=Math.asin(d(q)),0.99999>Math.abs(q)?(this.y=Math.atan2(-n,f),this.a=Math.atan2(-h,e)):(this.y=0,this.a=Math.atan2(l,g))):"ZYX"===b?(this.y=Math.asin(-d(n)),0.99999>Math.abs(n)?(this.x=Math.atan2(q,f),this.a=Math.atan2(l,g)):(this.x=0,this.a=
Math.atan2(-h,e))):"YZX"===b?(this.a=Math.asin(d(l)),0.99999>Math.abs(l)?(this.x=Math.atan2(-m,e),this.y=Math.atan2(-n,g)):(this.x=0,this.y=Math.atan2(j,f))):"XZY"===b&&(this.a=Math.asin(-d(h)),0.99999>Math.abs(h)?(this.x=Math.atan2(q,e),this.y=Math.atan2(j,g)):(this.x=Math.atan2(-m,f),this.y=0));return this},dA:function(a,b){function d(a){return Math.min(Math.max(a,-1),1)}var f=a.x*a.x,g=a.y*a.y,h=a.a*a.a,j=a.e*a.e;r===b||"XYZ"===b?(this.x=Math.atan2(2*(a.x*a.e-a.y*a.a),j-f-g+h),this.y=Math.asin(d(2*
(a.x*a.a+a.y*a.e))),this.a=Math.atan2(2*(a.a*a.e-a.x*a.y),j+f-g-h)):"YXZ"===b?(this.x=Math.asin(d(2*(a.x*a.e-a.y*a.a))),this.y=Math.atan2(2*(a.x*a.a+a.y*a.e),j-f-g+h),this.a=Math.atan2(2*(a.x*a.y+a.a*a.e),j-f+g-h)):"ZXY"===b?(this.x=Math.asin(d(2*(a.x*a.e+a.y*a.a))),this.y=Math.atan2(2*(a.y*a.e-a.a*a.x),j-f-g+h),this.a=Math.atan2(2*(a.a*a.e-a.x*a.y),j-f+g-h)):"ZYX"===b?(this.x=Math.atan2(2*(a.x*a.e+a.a*a.y),j-f-g+h),this.y=Math.asin(d(2*(a.y*a.e-a.x*a.a))),this.a=Math.atan2(2*(a.x*a.y+a.a*a.e),j+
f-g-h)):"YZX"===b?(this.x=Math.atan2(2*(a.x*a.e-a.a*a.y),j-f+g-h),this.y=Math.atan2(2*(a.y*a.e-a.x*a.a),j+f-g-h),this.a=Math.asin(d(2*(a.x*a.y+a.a*a.e)))):"XZY"===b&&(this.x=Math.atan2(2*(a.x*a.e+a.y*a.a),j-f+g-h),this.y=Math.atan2(2*(a.x*a.a+a.y*a.e),j+f-g-h),this.a=Math.asin(d(2*(a.a*a.e-a.x*a.y))));return this},Lx:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(),d=this.set(a.elements[4],a.elements[5],a.elements[6]).length();a=this.set(a.elements[8],a.elements[9],a.elements[10]).length();
this.x=b;this.y=d;this.a=a;return this},ab:function(a){return a.x===this.x&&a.y===this.y&&a.a===this.a},d:function(){return new b.c(this.x,this.y,this.a)}};b.c.Lr=new b.vc;b.Kd=function(a,b,d,f){this.x=a||0;this.y=b||0;this.a=d||0;this.e=r!==f?f:1};b.Kd.prototype={constructor:b.Kd,set:function(a,b,d,f){this.x=a;this.y=b;this.a=d;this.e=f;return this},Jm:function(a){this.y=a;return this},copy:function(a){this.x=a.x;this.y=a.y;this.a=a.a;this.e=r!==a.e?a.e:1;return this},add:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.Md(a,b);this.x+=a.x;this.y+=a.y;this.a+=a.a;this.e+=a.e;return this},ic:function(a){this.x+=a;this.y+=a;this.a+=a;this.e+=a;return this},Md:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.a=a.a+b.a;this.e=a.e+b.e;return this},sub:function(a,b){if(r!==b)return console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.W(a,b);this.x-=a.x;this.y-=a.y;this.a-=a.a;this.e-=a.e;return this},W:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.a=
a.a-b.a;this.e=a.e-b.e;return this},A:function(a){this.x*=a;this.y*=a;this.a*=a;this.e*=a;return this},xa:function(a){var b=this.x,d=this.y,f=this.a,g=this.e;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*f+a[12]*g;this.y=a[1]*b+a[5]*d+a[9]*f+a[13]*g;this.a=a[2]*b+a[6]*d+a[10]*f+a[14]*g;this.e=a[3]*b+a[7]*d+a[11]*f+a[15]*g;return this},Ie:function(a){0!==a?(this.x/=a,this.y/=a,this.a/=a,this.e/=a):(this.a=this.y=this.x=0,this.e=1);return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=
a.y);this.a>a.a&&(this.a=a.a);this.e>a.e&&(this.e=a.e);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.a<a.a&&(this.a=a.a);this.e<a.e&&(this.e=a.e);return this},Sb:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.a<a.a?this.a=a.a:this.a>b.a&&(this.a=b.a);this.e<a.e?this.e=a.e:this.e>b.e&&(this.e=b.e);return this},wi:function(){return this.A(-1)},Ma:function(a){return this.x*a.x+this.y*a.y+this.a*a.a+
this.e*a.e},oh:function(){return this.x*this.x+this.y*this.y+this.a*this.a+this.e*this.e},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.a*this.a+this.e*this.e)},Ps:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.a)+Math.abs(this.e)},normalize:function(){return this.Ie(this.length())},te:function(a){var b=this.length();0!==b&&a!==b&&this.A(a/b);return this},ak:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.a+=(a.a-this.a)*b;this.e+=(a.e-this.e)*
b;return this},ab:function(a){return a.x===this.x&&a.y===this.y&&a.a===this.a&&a.e===this.e},d:function(){return new b.Kd(this.x,this.y,this.a,this.e)}};b.Gf=function(a,c){this.min=r!==a?a:new b.j(Infinity,Infinity);this.max=r!==c?c:new b.j(-Infinity,-Infinity)};b.Gf.prototype={constructor:b.Gf,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},ig:function(a){if(0<a.length){var b=a[0];this.min.copy(b);this.max.copy(b);for(var d=1,f=a.length;d<f;d++)b=a[d],b.x<this.min.x?this.min.x=b.x:
b.x>this.max.x&&(this.max.x=b.x),b.y<this.min.y?this.min.y=b.y:b.y>this.max.y&&(this.max.y=b.y)}else this.ui();return this},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},ui:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},Hb:function(a){return(a||new b.j).Md(this.min,this.max).A(0.5)},size:function(a){return(a||new b.j).W(this.max,this.min)},Cj:function(a){this.min.ic(-a);
this.max.ic(a);return this},hi:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?y:t},getParameter:function(a){return new b.j((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},lh:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?y:t},ki:function(a){return b.Gf.ma.copy(a).Sb(this.min,this.max).sub(a).length()},Ms:function(a){this.min.max(a.min);this.max.min(a.max);return this},mu:function(a){this.min.min(a.min);
this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},ab:function(a){return a.min.ab(this.min)&&a.max.ab(this.max)},d:function(){return(new b.Gf).copy(this)}};b.Gf.ma=new b.j;b.Ea=function(a,c){this.min=r!==a?a:new b.c(Infinity,Infinity,Infinity);this.max=r!==c?c:new b.c(-Infinity,-Infinity,-Infinity)};b.Ea.prototype={constructor:b.Ea,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},ig:function(a){if(0<a.length){var b=a[0];this.min.copy(b);
this.max.copy(b);for(var d=1,f=a.length;d<f;d++)b=a[d],b.x<this.min.x?this.min.x=b.x:b.x>this.max.x&&(this.max.x=b.x),b.y<this.min.y?this.min.y=b.y:b.y>this.max.y&&(this.max.y=b.y),b.a<this.min.a?this.min.a=b.a:b.a>this.max.a&&(this.max.a=b.a)}else this.ui();return this},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},ui:function(){this.min.x=this.min.y=this.min.a=Infinity;this.max.x=this.max.y=this.max.a=-Infinity;return this},empty:function(){return this.max.x<this.min.x||
this.max.y<this.min.y||this.max.a<this.min.a},Hb:function(a){return(a||new b.c).Md(this.min,this.max).A(0.5)},size:function(a){return(a||new b.c).W(this.max,this.min)},Cj:function(a){this.min.ic(-a);this.max.ic(a);return this},hi:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.a<this.min.a||a.a>this.max.a?y:t},getParameter:function(a){return new b.c((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.a-this.min.a)/(this.max.a-this.min.a))},
lh:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.a<this.min.a||a.min.a>this.max.a?y:t},ki:function(a){return b.Ea.ma.copy(a).Sb(this.min,this.max).sub(a).length()},Ms:function(a){this.min.max(a.min);this.max.min(a.max);return this},mu:function(a){this.min.min(a.min);this.max.max(a.max);return this},transform:function(a){a=[b.Ea.Ld.set(this.min.x,this.min.y,this.min.a).xa(a),b.Ea.Ld.set(this.min.x,this.min.y,this.min.a).xa(a),b.Ea.ma.set(this.min.x,
this.min.y,this.max.a).xa(a),b.Ea.Rb.set(this.min.x,this.max.y,this.min.a).xa(a),b.Ea.Nf.set(this.min.x,this.max.y,this.max.a).xa(a),b.Ea.An.set(this.max.x,this.min.y,this.min.a).xa(a),b.Ea.Bn.set(this.max.x,this.min.y,this.max.a).xa(a),b.Ea.Cn.set(this.max.x,this.max.y,this.min.a).xa(a),b.Ea.Lv.set(this.max.x,this.max.y,this.max.a).xa(a)];this.ui();this.ig(a);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},ab:function(a){return a.min.ab(this.min)&&a.max.ab(this.max)},
d:function(){return(new b.Ea).copy(this)}};b.Ea.Ld=new b.c;b.Ea.ma=new b.c;b.Ea.Rb=new b.c;b.Ea.Nf=new b.c;b.Ea.An=new b.c;b.Ea.Bn=new b.c;b.Ea.Cn=new b.c;b.Ea.Lv=new b.c;b.Fd=function(a,b,d,f,g,h,j,l,e){this.elements=new Float32Array(9);this.set(r!==a?a:1,b||0,d||0,f||0,r!==g?g:1,h||0,j||0,l||0,r!==e?e:1)};b.Fd.prototype={constructor:b.Fd,set:function(a,b,d,f,g,h,j,l,e){var m=this.elements;m[0]=a;m[3]=b;m[6]=d;m[1]=f;m[4]=g;m[7]=h;m[2]=j;m[5]=l;m[8]=e;return this},km:function(){this.set(1,0,0,0,
1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},wp:function(a){for(var c=b.Fd.ma,d=0,f=a.length;d<f;d+=3)c.x=a[d],c.y=a[d+1],c.a=a[d+2],c.Ee(this),a[d]=c.x,a[d+1]=c.y,a[d+2]=c.a;return a},A:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},Wb:function(a,b){var d=a.elements,f=this.elements;f[0]=d[10]*d[5]-d[6]*d[9];f[1]=-d[10]*d[1]+d[2]*d[9];f[2]=d[6]*d[1]-d[2]*
d[5];f[3]=-d[10]*d[4]+d[6]*d[8];f[4]=d[10]*d[0]-d[2]*d[8];f[5]=-d[6]*d[0]+d[2]*d[4];f[6]=d[9]*d[4]-d[5]*d[8];f[7]=-d[9]*d[0]+d[1]*d[8];f[8]=d[5]*d[0]-d[1]*d[4];d=d[0]*f[0]+d[1]*f[3]+d[2]*f[6];if(0===d)return b&&sa(Error("Matrix3.getInverse(): can't invert matrix, determinant is 0")),console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.km(),this;this.A(1/d);return this},pg:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];
b[7]=a;return this},d:function(){var a=this.elements;return new b.Fd(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};b.Fd.ma=new b.c;b.O=function(a,b,d,f,g,h,j,l,e,m,n,q,w,x,p,v){this.elements=new Float32Array(16);this.set(r!==a?a:1,b||0,d||0,f||0,g||0,r!==h?h:1,j||0,l||0,e||0,m||0,r!==n?n:1,q||0,w||0,x||0,p||0,r!==v?v:1)};b.O.prototype={constructor:b.O,set:function(a,b,d,f,g,h,j,l,e,m,n,q,w,x,p,v){var z=this.elements;z[0]=a;z[4]=b;z[8]=d;z[12]=f;z[1]=g;z[5]=h;z[9]=j;z[13]=l;z[2]=e;z[6]=m;z[10]=n;
z[14]=q;z[3]=w;z[7]=x;z[11]=p;z[15]=v;return this},km:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},It:function(a,b){var d=this.elements,f=a.x,g=a.y,h=a.a,j=Math.cos(f),f=Math.sin(f),l=Math.cos(g),g=Math.sin(g),e=Math.cos(h),h=Math.sin(h);if(r===b||"XYZ"===b){var m=j*e,n=j*h,q=f*e,w=f*h;d[0]=l*e;d[4]=-l*h;d[8]=g;d[1]=n+q*g;d[5]=m-w*g;d[9]=-f*
l;d[2]=w-m*g;d[6]=q+n*g;d[10]=j*l}else"YXZ"===b?(m=l*e,n=l*h,q=g*e,w=g*h,d[0]=m+w*f,d[4]=q*f-n,d[8]=j*g,d[1]=j*h,d[5]=j*e,d[9]=-f,d[2]=n*f-q,d[6]=w+m*f,d[10]=j*l):"ZXY"===b?(m=l*e,n=l*h,q=g*e,w=g*h,d[0]=m-w*f,d[4]=-j*h,d[8]=q+n*f,d[1]=n+q*f,d[5]=j*e,d[9]=w-m*f,d[2]=-j*g,d[6]=f,d[10]=j*l):"ZYX"===b?(m=j*e,n=j*h,q=f*e,w=f*h,d[0]=l*e,d[4]=q*g-n,d[8]=m*g+w,d[1]=l*h,d[5]=w*g+m,d[9]=n*g-q,d[2]=-g,d[6]=f*l,d[10]=j*l):"YZX"===b?(m=j*l,n=j*g,q=f*l,w=f*g,d[0]=l*e,d[4]=w-m*h,d[8]=q*h+n,d[1]=h,d[5]=j*e,d[9]=
-f*e,d[2]=-g*e,d[6]=n*h+q,d[10]=m-w*h):"XZY"===b&&(m=j*l,n=j*g,q=f*l,w=f*g,d[0]=l*e,d[4]=-h,d[8]=g*e,d[1]=m*h+w,d[5]=j*e,d[9]=n*h-q,d[2]=q*h-n,d[6]=f*e,d[10]=w*h+m);return this},Jt:function(a){var b=this.elements,d=a.x,f=a.y,g=a.a,h=a.e,j=d+d,l=f+f,e=g+g;a=d*j;var m=d*l,d=d*e,n=f*l,f=f*e,g=g*e,j=h*j,l=h*l,h=h*e;b[0]=1-(n+g);b[4]=m-h;b[8]=d+l;b[1]=m+h;b[5]=1-(a+g);b[9]=f-j;b[2]=d-l;b[6]=f+j;b[10]=1-(a+n);return this},$b:function(a,c,d){var f=this.elements,g=b.O.ma,h=b.O.Rb,j=b.O.Nf;j.W(a,c).normalize();
0===j.length()&&(j.a=1);g.lc(d,j).normalize();0===g.length()&&(j.x+=1E-4,g.lc(d,j).normalize());h.lc(j,g);f[0]=g.x;f[4]=h.x;f[8]=j.x;f[1]=g.y;f[5]=h.y;f[9]=j.y;f[2]=g.a;f[6]=h.a;f[10]=j.a;return this},multiply:function(a,b){return r!==b?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.cb(a,b)):this.cb(this,a)},cb:function(a,b){var d=a.elements,f=b.elements,g=this.elements,h=d[0],j=d[4],l=d[8],e=d[12],m=d[1],n=d[5],q=d[9],
w=d[13],x=d[2],p=d[6],v=d[10],z=d[14],Q=d[3],Jb=d[7],s=d[11],d=d[15],W=f[0],A=f[4],K=f[8],ma=f[12],N=f[1],M=f[5],B=f[9],D=f[13],F=f[2],S=f[6],L=f[10],U=f[14],ga=f[3],nb=f[7],Ea=f[11],f=f[15];g[0]=h*W+j*N+l*F+e*ga;g[4]=h*A+j*M+l*S+e*nb;g[8]=h*K+j*B+l*L+e*Ea;g[12]=h*ma+j*D+l*U+e*f;g[1]=m*W+n*N+q*F+w*ga;g[5]=m*A+n*M+q*S+w*nb;g[9]=m*K+n*B+q*L+w*Ea;g[13]=m*ma+n*D+q*U+w*f;g[2]=x*W+p*N+v*F+z*ga;g[6]=x*A+p*M+v*S+z*nb;g[10]=x*K+p*B+v*L+z*Ea;g[14]=x*ma+p*D+v*U+z*f;g[3]=Q*W+Jb*N+s*F+d*ga;g[7]=Q*A+Jb*M+s*S+d*
nb;g[11]=Q*K+Jb*B+s*L+d*Ea;g[15]=Q*ma+Jb*D+s*U+d*f;return this},A:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},wp:function(a){for(var c=b.O.ma,d=0,f=a.length;d<f;d+=3)c.x=a[d],c.y=a[d+1],c.a=a[d+2],c.Fe(this),a[d]=c.x,a[d+1]=c.y,a[d+2]=c.a;return a},Sz:function(a){var b=this.elements,d=a.x,f=a.y,g=a.a;a.x=d*b[0]+f*b[4]+g*b[8];a.y=d*b[1]+f*b[5]+g*b[9];a.a=d*b[2]+f*b[6]+
g*b[10];a.normalize();return a},pg:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},vx:function(a){var b=this.elements;a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},ss:function(a,b){var d=this.elements;a[b]=d[0];a[b+
1]=d[1];a[b+2]=d[2];a[b+3]=d[3];a[b+4]=d[4];a[b+5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];a[b+9]=d[9];a[b+10]=d[10];a[b+11]=d[11];a[b+12]=d[12];a[b+13]=d[13];a[b+14]=d[14];a[b+15]=d[15];return a},nc:function(){var a=this.elements;return b.O.ma.set(a[12],a[13],a[14])},Ht:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.a;return this},Wb:function(a,b){var d=this.elements,f=a.elements,g=f[0],h=f[4],j=f[8],l=f[12],e=f[1],m=f[5],n=f[9],q=f[13],w=f[2],x=f[6],p=f[10],v=f[14],z=f[3],Q=f[7],s=
f[11],A=f[15];d[0]=n*v*Q-q*p*Q+q*x*s-m*v*s-n*x*A+m*p*A;d[4]=l*p*Q-j*v*Q-l*x*s+h*v*s+j*x*A-h*p*A;d[8]=j*q*Q-l*n*Q+l*m*s-h*q*s-j*m*A+h*n*A;d[12]=l*n*x-j*q*x-l*m*p+h*q*p+j*m*v-h*n*v;d[1]=q*p*z-n*v*z-q*w*s+e*v*s+n*w*A-e*p*A;d[5]=j*v*z-l*p*z+l*w*s-g*v*s-j*w*A+g*p*A;d[9]=l*n*z-j*q*z-l*e*s+g*q*s+j*e*A-g*n*A;d[13]=j*q*w-l*n*w+l*e*p-g*q*p-j*e*v+g*n*v;d[2]=m*v*z-q*x*z+q*w*Q-e*v*Q-m*w*A+e*x*A;d[6]=l*x*z-h*v*z-l*w*Q+g*v*Q+h*w*A-g*x*A;d[10]=h*q*z-l*m*z+l*e*Q-g*q*Q-h*e*A+g*m*A;d[14]=l*m*w-h*q*w-l*e*x+g*q*x+h*e*
v-g*m*v;d[3]=n*x*z-m*p*z-n*w*Q+e*p*Q+m*w*s-e*x*s;d[7]=h*p*z-j*x*z+j*w*Q-g*p*Q-h*w*s+g*x*s;d[11]=j*m*z-h*n*z-j*e*Q+g*n*Q+h*e*s-g*m*s;d[15]=h*n*w-j*m*w+j*e*x-g*n*x-h*e*p+g*m*p;d=f[0]*d[0]+f[1]*d[4]+f[2]*d[8]+f[3]*d[12];if(0==d)return b&&sa(Error("Matrix4.getInverse(): can't invert matrix, determinant is 0")),console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.km(),this;this.A(1/d);return this},Ow:function(a,c,d){var f=this.elements,g=b.O.vn,h=b.O.Gv;g.km();g.Jt(c);h.Cy(d.x,
d.y,d.a);this.cb(g,h);f[12]=a.x;f[13]=a.y;f[14]=a.a;return this},Sl:function(a,c,d){var f=this.elements,g=b.O.ma,h=b.O.Rb,j=b.O.Nf;g.set(f[0],f[1],f[2]);h.set(f[4],f[5],f[6]);j.set(f[8],f[9],f[10]);a=a instanceof b.c?a:new b.c;c=c instanceof b.vc?c:new b.vc;d=d instanceof b.c?d:new b.c;d.x=g.length();d.y=h.length();d.a=j.length();a.x=f[12];a.y=f[13];a.a=f[14];f=b.O.vn;f.copy(this);f.elements[0]/=d.x;f.elements[1]/=d.x;f.elements[2]/=d.x;f.elements[4]/=d.y;f.elements[5]/=d.y;f.elements[6]/=d.y;f.elements[8]/=
d.a;f.elements[9]/=d.a;f.elements[10]/=d.a;c.iA(f);return[a,c,d]},ox:function(a){var c=this.elements;a=a.elements;var d=b.O.ma,f=1/d.set(a[0],a[1],a[2]).length(),g=1/d.set(a[4],a[5],a[6]).length(),d=1/d.set(a[8],a[9],a[10]).length();c[0]=a[0]*f;c[1]=a[1]*f;c[2]=a[2]*f;c[4]=a[4]*g;c[5]=a[5]*g;c[6]=a[6]*g;c[8]=a[8]*d;c[9]=a[9]*d;c[10]=a[10]*d;return this},translate:function(a){var b=this.elements,d=a.x,f=a.y;a=a.a;b[12]=b[0]*d+b[4]*f+b[8]*a+b[12];b[13]=b[1]*d+b[5]*f+b[9]*a+b[13];b[14]=b[2]*d+b[6]*f+
b[10]*a+b[14];b[15]=b[3]*d+b[7]*f+b[11]*a+b[15];return this},Uz:function(a){var b=this.elements,d=b[4],f=b[5],g=b[6],h=b[7],j=b[8],l=b[9],e=b[10],m=b[11],n=Math.cos(a);a=Math.sin(a);b[4]=n*d+a*j;b[5]=n*f+a*l;b[6]=n*g+a*e;b[7]=n*h+a*m;b[8]=n*j-a*d;b[9]=n*l-a*f;b[10]=n*e-a*g;b[11]=n*m-a*h;return this},scale:function(a){var b=this.elements,d=a.x,f=a.y;a=a.a;b[0]*=d;b[4]*=f;b[8]*=a;b[1]*=d;b[5]*=f;b[9]*=a;b[2]*=d;b[6]*=f;b[10]*=a;b[3]*=d;b[7]*=f;b[11]*=a;return this},Bs:function(){var a=this.elements;
return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},Dy:function(a,b,d){this.set(1,0,0,a,0,1,0,b,0,0,1,d,0,0,0,1);return this},Ys:function(a,b){var d=Math.cos(b),f=Math.sin(b),g=1-d,h=a.x,j=a.y,l=a.a,e=g*h,m=g*j;this.set(e*h+d,e*j-f*l,e*l+f*j,0,e*j+f*l,m*j+d,m*l-f*h,0,e*l-f*j,m*l+f*h,g*l*l+d,0,0,0,0,1);return this},Cy:function(a,b,d){this.set(a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1);return this},Xs:function(a,b,d,f,g,h){var j=this.elements;
j[0]=2*g/(b-a);j[4]=0;j[8]=(b+a)/(b-a);j[12]=0;j[1]=0;j[5]=2*g/(f-d);j[9]=(f+d)/(f-d);j[13]=0;j[2]=0;j[6]=0;j[10]=-(h+g)/(h-g);j[14]=-2*h*g/(h-g);j[3]=0;j[7]=0;j[11]=-1;j[15]=0;return this},By:function(a,c,d,f){a=d*Math.tan(b.vb.is(0.5*a));var g=-a;return this.Xs(g*c,a*c,g,a,d,f)},Ay:function(a,b,d,f,g,h){var j=this.elements,l=b-a,e=d-f,m=h-g;j[0]=2/l;j[4]=0;j[8]=0;j[12]=-((b+a)/l);j[1]=0;j[5]=2/e;j[9]=0;j[13]=-((d+f)/e);j[2]=0;j[6]=0;j[10]=-2/m;j[14]=-((h+g)/m);j[3]=0;j[7]=0;j[11]=0;j[15]=1;return this},
d:function(){var a=this.elements;return new b.O(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};b.O.ma=new b.c;b.O.Rb=new b.c;b.O.Nf=new b.c;b.O.vn=new b.O;b.O.Gv=new b.O;b.Ye=function(a,c){this.origin=r!==a?a:new b.c;this.direction=r!==c?c:new b.c};b.Ye.prototype={constructor:b.Ye,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},ki:function(a){var c=
b.Ye.ma.W(a,this.origin).Ma(this.direction);b.Ye.ma.copy(this.direction).A(c).add(this.origin);return b.Ye.ma.Ug(a)},transform:function(a){this.direction.add(this.origin).xa(a);this.origin.xa(a);this.direction.sub(this.origin);return this},ab:function(a){return a.origin.ab(this.origin)&&a.direction.ab(this.direction)},d:function(){return(new b.Ye).copy(this)}};b.Ye.ma=new b.c;b.Ye.Rb=new b.c;b.Lf=function(a,c){this.Hb=r!==a?a:new b.c;this.V=r!==c?c:0};b.Lf.prototype={constructor:b.Lf,set:function(a,
b){this.Hb.copy(a);this.V=b;return this},gA:function(a,b){for(var d=0,f=0,g=b.length;f<g;f++)d=Math.max(d,a.Vg(b[f]));this.Hb=a;this.V=Math.sqrt(d);return this},copy:function(a){this.Hb.copy(a.Hb);this.V=a.V;return this},empty:function(){return 0>=this.V},hi:function(a){return a.Vg(this.Hb)<=this.V*this.V},ki:function(a){return a.Ug(this.Hb)-this.V},hm:function(a){a=a||new b.Ea;a.set(this.Hb,this.Hb);a.Cj(this.V);return a},transform:function(a){this.Hb.xa(a);this.V*=a.Bs();return this},translate:function(a){this.Hb.add(a);
return this},ab:function(a){return a.Hb.ab(this.Hb)&&a.V===this.V},d:function(){return(new b.Lf).copy(this)}};b.Th=function(a,c,d,f,g,h){this.Ai=[r!==a?a:new b.Rc,r!==c?c:new b.Rc,r!==d?d:new b.Rc,r!==f?f:new b.Rc,r!==g?g:new b.Rc,r!==h?h:new b.Rc]};b.Th.prototype={set:function(a,b,d,f,g,h){var j=this.Ai;j[0].copy(a);j[1].copy(b);j[2].copy(d);j[3].copy(f);j[4].copy(g);j[5].copy(h);return this},copy:function(a){for(var b=this.Ai,d=0;6>d;d++)b[d].copy(a.Ai[d]);return this},Hm:function(a){var b=this.Ai,
d=a.elements;a=d[0];var f=d[1],g=d[2],h=d[3],j=d[4],l=d[5],e=d[6],m=d[7],n=d[8],q=d[9],w=d[10],x=d[11],p=d[12],v=d[13],z=d[14],d=d[15];b[0].Di(h-a,m-j,x-n,d-p).normalize();b[1].Di(h+a,m+j,x+n,d+p).normalize();b[2].Di(h+f,m+l,x+q,d+v).normalize();b[3].Di(h-f,m-l,x-q,d-v).normalize();b[4].Di(h-g,m-e,x-w,d-z).normalize();b[5].Di(h+g,m+e,x+w,d+z).normalize();return this},mm:function(a){var b=a.H,d=this.Ai,f=b.nc();a=-a.s.Bc.V*b.Bs();for(b=0;6>b;b++)if(d[b].ki(f)<a)return y;return t},hi:function(a){for(var b=
this.Ai,d=0;6>d;d++)if(0>b[d].ki(a))return y;return t},d:function(){return(new b.Th).copy(this)}};b.Rc=function(a,c){this.o=r!==a?a:new b.c(1,0,0);this.Ec=r!==c?c:0};b.Rc.prototype={constructor:b.Rc,set:function(a,b){this.o.copy(a);this.Ec=b;return this},Di:function(a,b,d,f){this.o.set(a,b,d);this.Ec=f;return this},hA:function(a,b){this.o.copy(a);this.Ec=-b.Ma(this.o);return this},copy:function(a){this.o.copy(a.o);this.Ec=a.Ec;return this},normalize:function(){var a=1/this.o.length();this.o.A(a);
this.Ec*=a;return this},wi:function(){this.Ec*=-1;this.o.wi();return this},ki:function(a){return this.o.Ma(a)+this.Ec},Qw:function(a){return(a||new b.c).copy(this.o).A(-this.Ec)},transform:function(a,c){c=c||(new b.Fd).Wb(a).pg();var d=b.Rc.ma.copy(this.o).Ee(c),f=this.Qw(b.Rc.Rb);f.xa(a);this.hA(d,f);return this},translate:function(a){this.Ec-=a.Ma(this.o);return this},ab:function(a){return a.o.ab(this.o)&&a.Ec==this.Ec},d:function(){return(new b.Rc).copy(this)}};b.Rc.SB=new b.c(0,0,0);b.Rc.ma=new b.c;
b.Rc.Rb=new b.c;b.vb={Sb:function(a,b,d){return a<b?b:a>d?d:a},FC:function(a,b){return a<b?b:a},ME:function(a,b,d,f,g){return f+(a-b)*(g-f)/(d-b)},Jz:function(){return(65280*Math.random()+255*Math.random())/65535},UF:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},SF:function(a,b){return a+Math.random()*(b-a)},TF:function(a){return a*(0.5-Math.random())},nG:function(a){return 0>a?-1:0<a?1:0},is:function(a){return a*b.vb.Dv},RF:function(a){return a*b.vb.Jv}};b.vb.Dv=Math.PI/180;b.vb.Jv=180/
Math.PI;b.OB=function(a){function c(a,b,c,e,d,f,g){a=0.5*(c-a);e=0.5*(e-b);return(2*(b-c)+a+e)*g+(-3*(b-c)-2*a-e)*f+a*d+b}this.S=a;var d=[],f={x:0,y:0,a:0},g,h,j,l,e,m,n,q,w;this.XD=function(a){this.S=[];for(var b=0;b<a.length;b++)this.S[b]={x:a[b][0],y:a[b][1],a:a[b][2]}};this.bb=function(a){g=(this.S.length-1)*a;h=Math.floor(g);j=g-h;d[0]=0===h?h:h-1;d[1]=h;d[2]=h>this.S.length-2?this.S.length-1:h+1;d[3]=h>this.S.length-3?this.S.length-1:h+2;m=this.S[d[0]];n=this.S[d[1]];q=this.S[d[2]];w=this.S[d[3]];
l=j*j;e=j*l;f.x=c(m.x,n.x,q.x,w.x,j,l,e);f.y=c(m.y,n.y,q.y,w.y,j,l,e);f.a=c(m.a,n.a,q.a,w.a,j,l,e);return f};this.HD=function(){var a,b,c=this.S.length,e=[];for(a=0;a<c;a++)b=this.S[a],e[a]=[b.x,b.y,b.a];return e};this.ni=function(a){var c,e,d,f=0,g=new b.c,h=new b.c,j=[],l=0;j[0]=0;a||(a=100);e=this.S.length*a;g.copy(this.S[0]);for(a=1;a<e;a++)c=a/e,d=this.bb(c),h.copy(d),l+=h.Ug(g),g.copy(d),c*=this.S.length-1,c=Math.floor(c),c!=f&&(j[c]=l,f=c);j[j.length]=l;return{ds:j,total:l}};this.XF=function(a){var c,
e,d,f,g,h,j=[],l=new b.c,m=this.ni();j.push(l.copy(this.S[0]).d());for(c=1;c<this.S.length;c++){e=m.ds[c]-m.ds[c-1];h=Math.ceil(a*e/m.total);f=(c-1)/(this.S.length-1);g=c/(this.S.length-1);for(e=1;e<h-1;e++)d=f+e*(1/h)*(g-f),d=this.bb(d),j.push(l.copy(d).d());j.push(l.copy(this.S[c]).d())}this.S=j}};b.ka=function(a,c,d){this.v=r!==a?a:new b.c;this.i=r!==c?c:new b.c;this.w=r!==d?d:new b.c};b.ka.o=function(a,c,d,f){f=f||new b.c;f.W(d,c);b.ka.Ld.W(a,c);f.Od(b.ka.Ld);a=f.oh();return 0<a?f.A(1/Math.sqrt(a)):
f.set(0,0,0)};b.ka.Tn=function(a,c,d,f,g){b.ka.Ld.W(f,c);b.ka.ma.W(d,c);b.ka.Rb.W(a,c);a=b.ka.Ld.Ma(b.ka.Ld);c=b.ka.Ld.Ma(b.ka.ma);d=b.ka.Ld.Ma(b.ka.Rb);var h=b.ka.ma.Ma(b.ka.ma);f=b.ka.ma.Ma(b.ka.Rb);var j=a*h-c*c;g=g||new b.c;if(0==j)return g.set(-2,-1,-1);j=1/j;h=(h*d-c*f)*j;a=(a*f-c*d)*j;return g.set(1-h-a,a,h)};b.ka.hi=function(a,c,d,f){a=b.ka.Tn(a,c,d,f,b.ka.Nf);return 0<=a.x&&0<=a.y&&1>=a.x+a.y};b.ka.prototype={constructor:b.ka,set:function(a,b,d){this.v.copy(a);this.i.copy(b);this.w.copy(d);
return this},copy:function(a){this.v.copy(a.v);this.i.copy(a.i);this.w.copy(a.w);return this},Sf:function(){b.ka.Ld.W(this.w,this.i);b.ka.ma.W(this.v,this.i);return 0.5*b.ka.Ld.Od(b.ka.ma).length()},o:function(a){return b.ka.o(this.v,this.i,this.w,a)},Tn:function(a,c){return b.ka.Tn(a,this.v,this.i,this.w,c)},hi:function(a){return b.ka.hi(a,this.v,this.i,this.w)},ab:function(a){return a.v.ab(this.v)&&a.i.ab(this.i)&&a.w.ab(this.w)},d:function(){return(new b.ka).copy(this)}};b.ka.Ld=new b.c;b.ka.ma=
new b.c;b.ka.Rb=new b.c;b.ka.Nf=new b.c;b.RB=function(a){console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.");return a};b.QB=function(a,c){console.warn("THREE.UV has been DEPRECATED. Use THREE.Vector2 instead.");return new b.j(a,c)};b.al=function(a){this.kw=r!==a?a:t;this.elapsedTime=this.Ep=this.startTime=0;this.Fm=y};b.al.prototype.start=function(){this.Ep=this.startTime=Date.now();this.Fm=t};b.al.prototype.stop=function(){this.Ex();this.Fm=y};b.al.prototype.Ex=function(){this.Dx()};
b.al.prototype.Dx=function(){var a=0;this.kw&&!this.Fm&&this.start();if(this.Fm){var b=Date.now(),a=0.001*(b-this.Ep);this.Ep=b;this.elapsedTime+=a}};b.Xe=function(){var a={};this.addEventListener=function(b,d){r===a[b]&&(a[b]=[]);-1===a[b].indexOf(d)&&a[b].push(d)};this.removeEventListener=function(b,d){var f=a[b].indexOf(d);-1!==f&&a[b].splice(f,1)};this.dispatchEvent=function(b){var d=a[b.type];if(r!==d){b.target=this;for(var f=0,g=d.length;f<g;f++)d[f].call(this,b)}}};var ja=b;ja.nn=function(a,
b,d,f){this.pk=new ja.Ye(a,b);0<this.pk.direction.length()&&this.pk.direction.normalize();this.mb=d||0;this.sb=f||Infinity};new ja.O;ja.nn.prototype.precision=1E-4;ja.nn.prototype.set=function(a,b){this.pk.set(a,b);0<this.pk.direction.length()&&this.pk.direction.normalize()};b.D=function(){this.id=b.Wu++;this.name="";this.pa={};this.parent=r;this.children=[];this.Nc=new b.c(0,1,0);this.position=new b.c;this.rotation=new b.c;this.Yg=b.D.Yw;this.scale=new b.c(1,1,1);this.Oe=u;this.Em=t;this.$=new b.O;
this.H=new b.O;this.at=new b.O;this.Kb=this.Rd=t;this.sd=new b.vc;this.Df=y;this.visible=t;this.Bi=this.Nd=y;this.fh=t;this.UB=new b.c};b.D.prototype={constructor:b.D,ci:function(a){this.$.cb(a,this.$);this.scale.Lx(this.$);a=(new b.O).ox(this.$);this.rotation.mq(a,this.Yg);this.position.Kx(this.$)},translate:function(a,b){this.$.Sz(b);this.position.add(b.A(a))},$b:function(a){this.$.$b(a,this.position,this.Nc);this.Em&&(y===this.Df?this.rotation.mq(this.$,this.Yg):this.sd.copy(this.$.Sl()[1]))},
add:function(a){if(a===this)console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");else if(a instanceof b.D){r!==a.parent&&a.parent.remove(a);a.parent=this;this.children.push(a);for(var c=this;r!==c.parent;)c=c.parent;r!==c&&c instanceof b.Ag&&c.Er(a)}},remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=r;this.children.splice(c,1);for(c=this;r!==c.parent;)c=c.parent;r!==c&&c instanceof b.Ag&&c.Mr(a)}},Jq:function(a){a(this);for(var b=0,d=this.children.length;b<
d;b++)this.children[b].Jq(a)},Se:function(){this.$.Ht(this.position);y===this.Df?this.$.It(this.rotation,this.Yg):this.$.Jt(this.sd);(1!==this.scale.x||1!==this.scale.y||1!==this.scale.a)&&this.$.scale(this.scale);this.Kb=t},Oc:function(a){t===this.Rd&&this.Se();if(t===this.Kb||t===a)r===this.parent?this.H.copy(this.$):this.H.cb(this.parent.H,this.$),this.Kb=y,a=t;for(var b=0,d=this.children.length;b<d;b++)this.children[b].Oc(a)},d:function(a){r===a&&(a=new b.D);a.name=this.name;a.Nc.copy(this.Nc);
a.position.copy(this.position);a.rotation instanceof b.c&&a.rotation.copy(this.rotation);a.Yg=this.Yg;a.scale.copy(this.scale);a.Oe=this.Oe;a.Em=this.Em;a.$.copy(this.$);a.H.copy(this.H);a.at.copy(this.at);a.Rd=this.Rd;a.Kb=this.Kb;a.sd.copy(this.sd);a.Df=this.Df;a.visible=this.visible;a.Nd=this.Nd;a.Bi=this.Bi;a.fh=this.fh;for(var c=0;c<this.children.length;c++)a.add(this.children[c].d());return a}};b.D.vn=new b.O;b.D.Yw="XYZ";b.Wu=0;b.ln=function(){function a(){if(h===l){var a=new b.dv;j.push(a);
l++;h++;return a}return j[h++]}function c(){if(m===q){var a=new b.cd;n.push(a);q++;m++;return a}return n[m++]}function d(a,b){return b.a-a.a}function f(a,b){var c=0,e=1,d=a.a+a.e,f=b.a+b.e,g=-a.a+a.e,h=-b.a+b.e;if(0<=d&&0<=f&&0<=g&&0<=h)return t;if(0>d&&0>f||0>g&&0>h)return y;0>d?c=Math.max(c,d/(d-f)):0>f&&(e=Math.min(e,d/(d-f)));0>g?c=Math.max(c,g/(g-h)):0>h&&(e=Math.min(e,g/(g-h)));if(e<c)return y;a.ak(b,c);b.ak(a,1-e);return t}var g,h,j=[],l=0,e,m,n=[],q=0,w,x,p=[],v=0,z,Q=[],s=0,A,W,B=[],K=0,
ma,N,M=[],Sa=0,D={bc:[],Rm:[],Ic:[],elements:[]},F=new b.c,S=new b.Kd,L=new b.Ea(new b.c(-1,-1,-1),new b.c(1,1,1)),U=new b.Ea,ga=Array(3),nb=Array(4),Ea=new b.O,Aa=new b.O,Ra,P=new b.O,J=new b.Fd,I=new b.Fd,T=new b.c,db=new b.Th,R=new b.Kd,va=new b.Kd;this.LF=function(a,b){b.lb.Wb(b.H);Aa.cb(b.Ga,b.lb);return a.Fe(Aa)};this.Tm=function(a,b){b.yt.Wb(b.Ga);Aa.cb(b.H,b.yt);a.Fe(Aa)};this.GF=function(a,c){a.a=-1;var e=new b.c(a.x,a.y,1);this.Tm(a,c);this.Tm(e,c);e.sub(a).normalize();return new b.nn(a,
e)};this.Gz=function(j,l,q,Z){function X(c){for(var e=0,d=c.children.length;e<d;e++){var f=c.children[e];if(y!==f.visible){if(f instanceof b.hc)D.Ic.push(f);else if(f instanceof b.ba||f instanceof b.fb){if(y===f.fh||t===db.mm(f))g=a(),g.object=f,u!==f.Oe?g.a=f.Oe:(F.copy(f.H.nc()),F.Fe(Aa),g.a=F.a),D.bc.push(g)}else f instanceof b.Bg||f instanceof b.Ti?(g=a(),g.object=f,u!==f.Oe?g.a=f.Oe:(F.copy(f.H.nc()),F.Fe(Aa),g.a=F.a),D.Rm.push(g)):(g=a(),g.object=f,u!==f.Oe?g.a=f.Oe:(F.copy(f.H.nc()),F.Fe(Aa),
g.a=F.a),D.bc.push(g));X(f)}}}var ja=y,V,Xa,qb,ia,xa,za,Oa,Ca,ab,vb,gb,$b,dc;N=W=z=x=0;D.elements.length=0;j.Oc();r===l.parent&&l.Oc();Ea.copy(l.lb.Wb(l.H));Aa.cb(l.Ga,Ea);I.Wb(Ea);I.pg();db.Hm(Aa);h=0;D.bc.length=0;D.Rm.length=0;D.Ic.length=0;X(j);t===q&&D.bc.sort(d);j=0;for(q=D.bc.length;j<q;j++)if(Ca=D.bc[j].object,Ra=Ca.H,m=0,Ca instanceof b.ba){ab=Ca.s;qb=ab.g;vb=ab.l;ab=ab.R;J.Wb(Ra);J.pg();$b=Ca.z instanceof b.$c;dc=t===$b?Ca.z:u;V=0;for(Xa=qb.length;V<Xa;V++)e=c(),e.ne.copy(qb[V]).xa(Ra),
e.f.copy(e.ne).xa(Aa),e.f.x/=e.f.e,e.f.y/=e.f.e,e.f.a/=e.f.e,e.visible=!(-1>e.f.x||1<e.f.x||-1>e.f.y||1<e.f.y||-1>e.f.a||1<e.f.a);qb=0;for(V=vb.length;qb<V;qb++){Xa=vb[qb];var pb=t===$b?dc.Fa[Xa.Ta]:Ca.z;if(r!==pb){za=pb.xf;if(Xa instanceof b.ja)if(ia=n[Xa.v],xa=n[Xa.i],Oa=n[Xa.w],ga[0]=ia.f,ga[1]=xa.f,ga[2]=Oa.f,t===ia.visible||t===xa.visible||t===Oa.visible||L.lh(U.ig(ga)))if(ja=0>(Oa.f.x-ia.f.x)*(xa.f.y-ia.f.y)-(Oa.f.y-ia.f.y)*(xa.f.x-ia.f.x),za===b.Hf||ja===(za===b.el))x===v?(gb=new b.qr,p.push(gb),
v++,x++,w=gb):w=p[x++],w.ia.copy(ia),w.oa.copy(xa),w.qc.copy(Oa);else continue;else continue;else if(Xa instanceof b.za)if(ia=n[Xa.v],xa=n[Xa.i],Oa=n[Xa.w],gb=n[Xa.ua],nb[0]=ia.f,nb[1]=xa.f,nb[2]=Oa.f,nb[3]=gb.f,t===ia.visible||t===xa.visible||t===Oa.visible||t===gb.visible||L.lh(U.ig(nb)))if(ja=0>(gb.f.x-ia.f.x)*(xa.f.y-ia.f.y)-(gb.f.y-ia.f.y)*(xa.f.x-ia.f.x)||0>(xa.f.x-Oa.f.x)*(gb.f.y-Oa.f.y)-(xa.f.y-Oa.f.y)*(gb.f.x-Oa.f.x),za===b.Hf||ja===(za===b.el)){if(z===s){var eb=new b.rr;Q.push(eb);s++;z++;
w=eb}else w=Q[z++];w.ia.copy(ia);w.oa.copy(xa);w.qc.copy(Oa);w.Pq.copy(gb)}else continue;else continue;w.th.copy(Xa.o);y===ja&&(za===b.Qh||za===b.Hf)&&w.th.wi();w.th.Ee(J).normalize();w.wm.copy(w.th).Ee(I);w.oj.copy(Xa.Ka).xa(Ra);Oa=Xa.N;ia=0;for(xa=Oa.length;ia<xa;ia++)gb=w.Ff[ia],gb.copy(Oa[ia]),y===ja&&(za===b.Qh||za===b.Hf)&&gb.wi(),gb.Ee(J).normalize(),w.Td[ia].copy(gb).Ee(I);w.Vm=Oa.length;ia=0;for(xa=ab.length;ia<xa;ia++)if(gb=ab[ia][qb],r!==gb){za=0;for(Oa=gb.length;za<Oa;za++)w.Mh[ia][za]=
gb[za]}w.color=Xa.color;w.z=pb;T.copy(w.oj).Fe(Aa);w.a=T.a;D.elements.push(w)}}}else if(Ca instanceof b.fb){P.cb(Aa,Ra);qb=Ca.s.g;ia=c();ia.f.copy(qb[0]).xa(P);vb=Ca.type===b.Vh?2:1;V=1;for(Xa=qb.length;V<Xa;V++)ia=c(),ia.f.copy(qb[V]).xa(P),0<(V+1)%vb||(xa=n[m-2],R.copy(ia.f),va.copy(xa.f),t===f(R,va)&&(R.A(1/R.e),va.A(1/va.e),W===K?(ab=new b.sr,B.push(ab),K++,W++,A=ab):A=B[W++],A.ia.f.copy(R),A.oa.f.copy(va),A.a=Math.max(R.a,va.a),A.z=Ca.z,D.elements.push(A)))}j=0;for(q=D.Rm.length;j<q;j++)Ca=D.Rm[j].object,
Ra=Ca.H,Ca instanceof b.Ti&&(S.set(Ra.elements[12],Ra.elements[13],Ra.elements[14],1),S.xa(Aa),S.a/=S.e,0<S.a&&1>S.a&&(N===Sa?(ja=new b.tr,M.push(ja),Sa++,N++,ma=ja):ma=M[N++],ma.object=Ca,ma.x=S.x/S.e,ma.y=S.y/S.e,ma.a=S.a,ma.rotation=Ca.rotation.a,ma.scale.x=Ca.scale.x*Math.abs(ma.x-(S.x+l.Ga.elements[0])/(S.e+l.Ga.elements[12])),ma.scale.y=Ca.scale.y*Math.abs(ma.y-(S.y+l.Ga.elements[5])/(S.e+l.Ga.elements[13])),ma.z=Ca.z,D.elements.push(ma)));t===Z&&D.elements.sort(d);return D}};b.ja=function(a,
c,d,f,g,h){this.v=a;this.i=c;this.w=d;this.o=f instanceof b.c?f:new b.c;this.N=f instanceof Array?f:[];this.color=g instanceof b.B?g:new b.B;this.u=g instanceof Array?g:[];this.Te=[];this.Ta=r!==h?h:0;this.Ka=new b.c};b.ja.prototype={constructor:b.ja,d:function(){var a=new b.ja(this.v,this.i,this.w);a.o.copy(this.o);a.color.copy(this.color);a.Ka.copy(this.Ka);a.Ta=this.Ta;var c,d;c=0;for(d=this.N.length;c<d;c++)a.N[c]=this.N[c].d();c=0;for(d=this.u.length;c<d;c++)a.u[c]=this.u[c].d();c=0;for(d=this.Te.length;c<
d;c++)a.Te[c]=this.Te[c].d();return a}};b.za=function(a,c,d,f,g,h,j){this.v=a;this.i=c;this.w=d;this.ua=f;this.o=g instanceof b.c?g:new b.c;this.N=g instanceof Array?g:[];this.color=h instanceof b.B?h:new b.B;this.u=h instanceof Array?h:[];this.Te=[];this.Ta=r!==j?j:0;this.Ka=new b.c};b.za.prototype={constructor:b.za,d:function(){var a=new b.za(this.v,this.i,this.w,this.ua);a.o.copy(this.o);a.color.copy(this.color);a.Ka.copy(this.Ka);a.Ta=this.Ta;var c,d;c=0;for(d=this.N.length;c<d;c++)a.N[c]=this.N[c].d();
c=0;for(d=this.u.length;c<d;c++)a.u[c]=this.u[c].d();c=0;for(d=this.Te.length;c<d;c++)a.Te[c]=this.Te[c].d();return a}};b.Q=function(){b.Xe.call(this);this.id=b.$q++;this.name="";this.g=[];this.Ib=[];this.uh=[];this.l=[];this.ge=[[]];this.R=[[]];this.L=[];this.cg=[];this.ya=[];this.ng=[];this.mg=[];this.Ts=[];this.Bc=this.Ge=u;this.si=y;this.Aj=t;this.cs=this.om=this.Wa=this.og=this.rd=this.Nh=this.Wg=this.Da=y};b.Q.prototype={constructor:b.Q,ci:function(a){for(var c=(new b.Fd).Wb(a).pg(),d=0,f=this.g.length;d<
f;d++)this.g[d].xa(a);d=0;for(f=this.l.length;d<f;d++){var g=this.l[d];g.o.Ee(c).normalize();for(var h=0,j=g.N.length;h<j;h++)g.N[h].Ee(c).normalize();g.Ka.xa(a)}},kc:function(){var a,c,d;a=0;for(c=this.l.length;a<c;a++)d=this.l[a],d.Ka.set(0,0,0),d instanceof b.ja?(d.Ka.add(this.g[d.v]),d.Ka.add(this.g[d.i]),d.Ka.add(this.g[d.w]),d.Ka.Ie(3)):d instanceof b.za&&(d.Ka.add(this.g[d.v]),d.Ka.add(this.g[d.i]),d.Ka.add(this.g[d.w]),d.Ka.add(this.g[d.ua]),d.Ka.Ie(4))},kd:function(){var a,c,d,f,g,h,j=new b.c,
l=new b.c;a=0;for(c=this.l.length;a<c;a++)d=this.l[a],f=this.g[d.v],g=this.g[d.i],h=this.g[d.w],j.W(h,g),l.W(f,g),j.Od(l),j.normalize(),d.o.copy(j)},Wf:function(a){var c,d,f,g;if(r===this.yn){g=this.yn=Array(this.g.length);c=0;for(d=this.g.length;c<d;c++)g[c]=new b.c;c=0;for(d=this.l.length;c<d;c++)f=this.l[c],f instanceof b.ja?f.N=[new b.c,new b.c,new b.c]:f instanceof b.za&&(f.N=[new b.c,new b.c,new b.c,new b.c])}else{g=this.yn;c=0;for(d=this.g.length;c<d;c++)g[c].set(0,0,0)}if(a){var h,j,l,e=new b.c,
m=new b.c,n=new b.c,q=new b.c,w=new b.c;c=0;for(d=this.l.length;c<d;c++)f=this.l[c],f instanceof b.ja?(a=this.g[f.v],h=this.g[f.i],j=this.g[f.w],e.W(j,h),m.W(a,h),e.Od(m),g[f.v].add(e),g[f.i].add(e),g[f.w].add(e)):f instanceof b.za&&(a=this.g[f.v],h=this.g[f.i],j=this.g[f.w],l=this.g[f.ua],n.W(l,h),m.W(a,h),n.Od(m),g[f.v].add(n),g[f.i].add(n),g[f.ua].add(n),q.W(l,j),w.W(h,j),q.Od(w),g[f.i].add(q),g[f.w].add(q),g[f.ua].add(q))}else{c=0;for(d=this.l.length;c<d;c++)f=this.l[c],f instanceof b.ja?(g[f.v].add(f.o),
g[f.i].add(f.o),g[f.w].add(f.o)):f instanceof b.za&&(g[f.v].add(f.o),g[f.i].add(f.o),g[f.w].add(f.o),g[f.ua].add(f.o))}c=0;for(d=this.g.length;c<d;c++)g[c].normalize();c=0;for(d=this.l.length;c<d;c++)f=this.l[c],f instanceof b.ja?(f.N[0].copy(g[f.v]),f.N[1].copy(g[f.i]),f.N[2].copy(g[f.w])):f instanceof b.za&&(f.N[0].copy(g[f.v]),f.N[1].copy(g[f.i]),f.N[2].copy(g[f.w]),f.N[3].copy(g[f.ua]))},Pw:function(){var a,c,d,f,g;d=0;for(f=this.l.length;d<f;d++){g=this.l[d];g.wn?g.wn.copy(g.o):g.wn=g.o.d();
g.Zi||(g.Zi=[]);a=0;for(c=g.N.length;a<c;a++)g.Zi[a]?g.Zi[a].copy(g.N[a]):g.Zi[a]=g.N[a].d()}var h=new b.Q;h.l=this.l;a=0;for(c=this.L.length;a<c;a++){if(!this.ya[a]){this.ya[a]={};this.ya[a].Yl=[];this.ya[a].N=[];var j=this.ya[a].Yl,l=this.ya[a].N,e,m;d=0;for(f=this.l.length;d<f;d++)g=this.l[d],e=new b.c,m=g instanceof b.ja?{v:new b.c,i:new b.c,w:new b.c}:{v:new b.c,i:new b.c,w:new b.c,ua:new b.c},j.push(e),l.push(m)}j=this.ya[a];h.g=this.L[a].g;h.kd();h.Wf();d=0;for(f=this.l.length;d<f;d++)g=this.l[d],
e=j.Yl[d],m=j.N[d],e.copy(g.o),g instanceof b.ja?(m.v.copy(g.N[0]),m.i.copy(g.N[1]),m.w.copy(g.N[2])):(m.v.copy(g.N[0]),m.i.copy(g.N[1]),m.w.copy(g.N[2]),m.ua.copy(g.N[3]))}d=0;for(f=this.l.length;d<f;d++)g=this.l[d],g.o=g.wn,g.N=g.Zi},Pl:function(){function a(a,b,c,d,f,g,h){l=a.g[b];e=a.g[c];m=a.g[d];n=j[f];q=j[g];w=j[h];x=e.x-l.x;p=m.x-l.x;v=e.y-l.y;z=m.y-l.y;Q=e.a-l.a;s=m.a-l.a;A=q.x-n.x;W=w.x-n.x;B=q.y-n.y;K=w.y-n.y;ma=1/(A*K-W*B);D.set((K*x-B*p)*ma,(K*v-B*z)*ma,(K*Q-B*s)*ma);F.set((A*p-W*x)*
ma,(A*z-W*v)*ma,(A*s-W*Q)*ma);M[b].add(D);M[c].add(D);M[d].add(D);Sa[b].add(F);Sa[c].add(F);Sa[d].add(F)}var c,d,f,g,h,j,l,e,m,n,q,w,x,p,v,z,Q,s,A,W,B,K,ma,N,M=[],Sa=[],D=new b.c,F=new b.c,S=new b.c,L=new b.c,U=new b.c;c=0;for(d=this.g.length;c<d;c++)M[c]=new b.c,Sa[c]=new b.c;c=0;for(d=this.l.length;c<d;c++)h=this.l[c],j=this.R[0][c],h instanceof b.ja?a(this,h.v,h.i,h.w,0,1,2):h instanceof b.za&&(a(this,h.v,h.i,h.ua,0,1,3),a(this,h.i,h.w,h.ua,1,2,3));var ga=["a","b","c","d"];c=0;for(d=this.l.length;c<
d;c++){h=this.l[c];for(f=0;f<h.N.length;f++)U.copy(h.N[f]),g=h[ga[f]],N=M[g],S.copy(N),S.sub(U.A(U.Ma(N))).normalize(),L.lc(h.N[f],N),g=L.Ma(Sa[g]),g=0>g?-1:1,h.Te[f]=new b.Kd(S.x,S.y,S.a,g)}this.si=t},Ol:function(){for(var a=0,b=this.g,d=0,f=b.length;d<f;d++)0<d&&(a+=b[d].Ug(b[d-1])),this.Ts[d]=a},ko:function(){u===this.Ge&&(this.Ge=new b.Ea);this.Ge.ig(this.g)},Nl:function(){u===this.Bc&&(this.Bc=new b.Lf);this.Bc.gA(this.Bc.Hb,this.g)},op:function(){var a={},c=[],d=[],f,g=Math.pow(10,4),h,j,l,
e,m;this.yn=r;h=0;for(j=this.g.length;h<j;h++)f=this.g[h],f=[Math.round(f.x*g),Math.round(f.y*g),Math.round(f.a*g)].join("_"),r===a[f]?(a[f]=h,c.push(this.g[h]),d[h]=c.length-1):d[h]=d[a[f]];g=[];h=0;for(j=this.l.length;h<j;h++)if(a=this.l[h],a instanceof b.ja){a.v=d[a.v];a.i=d[a.i];a.w=d[a.w];l=[a.v,a.i,a.w];for(e=0;3>e;e++)if(l[e]==l[(e+1)%3]){g.push(h);break}}else if(a instanceof b.za){a.v=d[a.v];a.i=d[a.i];a.w=d[a.w];a.ua=d[a.ua];l=[a.v,a.i,a.w,a.ua];f=-1;for(e=0;4>e;e++)l[e]==l[(e+1)%4]&&(0<=
f&&g.push(h),f=e);if(0<=f){l.splice(f,1);var n=new b.ja(l[0],l[1],l[2],a.o,a.color,a.Ta);l=0;for(e=this.R.length;l<e;l++)(m=this.R[l][h])&&m.splice(f,1);a.N&&0<a.N.length&&(n.N=a.N,n.N.splice(f,1));a.u&&0<a.u.length&&(n.u=a.u,n.u.splice(f,1));this.l[h]=n}}for(h=g.length-1;0<=h;h--){this.l.splice(h,1);l=0;for(e=this.R.length;l<e;l++)this.R[l].splice(h,1)}d=this.g.length-c.length;this.g=c;return d},d:function(){for(var a=new b.Q,c=this.g,d=0,f=c.length;d<f;d++)a.g.push(c[d].d());c=this.l;d=0;for(f=
c.length;d<f;d++)a.l.push(c[d].d());c=this.R[0];d=0;for(f=c.length;d<f;d++){for(var g=c[d],h=[],j=0,l=g.length;j<l;j++)h.push(new b.j(g[j].x,g[j].y));a.R[0].push(h)}return a}};b.$q=0;b.Cd=function(){b.Xe.call(this);this.id=b.$q++;this.attributes={};this.Aj=y;this.Dp=[];this.Bc=this.Ge=u;this.si=y;this.L=[]};b.Cd.prototype={constructor:b.Cd,ci:function(a){var c,d;this.attributes.position&&(c=this.attributes.position.b);this.attributes.o&&(d=this.attributes.o.b);r!==c&&(a.wp(c),this.Da=t);r!==d&&(c=
new b.Fd,c.Wb(a).pg(),c.wp(d),this.nt(),this.rd=t)},ko:function(){u===this.Ge&&(this.Ge=new b.Ea);var a=this.attributes.position.b;if(a){var c=this.Ge,d,f,g;3<=a.length&&(c.min.x=c.max.x=a[0],c.min.y=c.max.y=a[1],c.min.a=c.max.a=a[2]);for(var h=3,j=a.length;h<j;h+=3)d=a[h],f=a[h+1],g=a[h+2],d<c.min.x?c.min.x=d:d>c.max.x&&(c.max.x=d),f<c.min.y?c.min.y=f:f>c.max.y&&(c.max.y=f),g<c.min.a?c.min.a=g:g>c.max.a&&(c.max.a=g)}if(r===a||0===a.length)this.Ge.min.set(0,0,0),this.Ge.max.set(0,0,0)},Nl:function(){u===
this.Bc&&(this.Bc=new b.Lf);var a=this.attributes.position.b;if(a){for(var c,d=0,f,g,h=0,j=a.length;h<j;h+=3)c=a[h],f=a[h+1],g=a[h+2],c=c*c+f*f+g*g,c>d&&(d=c);this.Bc.V=Math.sqrt(d)}},Wf:function(){if(this.attributes.position){var a,c,d,f;a=this.attributes.position.b.length;if(r===this.attributes.o)this.attributes.o={Hc:3,b:new Float32Array(a),eg:a};else{a=0;for(c=this.attributes.o.b.length;a<c;a++)this.attributes.o.b[a]=0}var g=this.attributes.position.b,h=this.attributes.o.b,j,l,e,m,n,q,w=new b.c,
x=new b.c,p=new b.c,v=new b.c,z=new b.c;if(this.attributes.index){var Q=this.attributes.index.b,s=this.Dp;d=0;for(f=s.length;d<f;++d){c=s[d].start;j=s[d].count;var A=s[d].index;a=c;for(c+=j;a<c;a+=3)j=A+Q[a],l=A+Q[a+1],e=A+Q[a+2],m=g[3*j],n=g[3*j+1],q=g[3*j+2],w.set(m,n,q),m=g[3*l],n=g[3*l+1],q=g[3*l+2],x.set(m,n,q),m=g[3*e],n=g[3*e+1],q=g[3*e+2],p.set(m,n,q),v.W(p,x),z.W(w,x),v.Od(z),h[3*j]+=v.x,h[3*j+1]+=v.y,h[3*j+2]+=v.a,h[3*l]+=v.x,h[3*l+1]+=v.y,h[3*l+2]+=v.a,h[3*e]+=v.x,h[3*e+1]+=v.y,h[3*e+2]+=
v.a}}else{a=0;for(c=g.length;a<c;a+=9)m=g[a],n=g[a+1],q=g[a+2],w.set(m,n,q),m=g[a+3],n=g[a+4],q=g[a+5],x.set(m,n,q),m=g[a+6],n=g[a+7],q=g[a+8],p.set(m,n,q),v.W(p,x),z.W(w,x),v.Od(z),h[a]=v.x,h[a+1]=v.y,h[a+2]=v.a,h[a+3]=v.x,h[a+4]=v.y,h[a+5]=v.a,h[a+6]=v.x,h[a+7]=v.y,h[a+8]=v.a}this.nt();this.rd=t}},nt:function(){for(var a=this.attributes.o.b,b,d,f,g=0,h=a.length;g<h;g+=3)b=a[g],d=a[g+1],f=a[g+2],b=1/Math.sqrt(b*b+d*d+f*f),a[g]*=b,a[g+1]*=b,a[g+2]*=b},Pl:function(){function a(a){Ra.x=f[3*a];Ra.y=
f[3*a+1];Ra.a=f[3*a+2];T.copy(Ra);I=e[a];Ea.copy(I);Ea.sub(Ra.A(Ra.Ma(I))).normalize();Aa.lc(T,I);X=Aa.Ma(m[a]);J=0>X?-1:1;l[4*a]=Ea.x;l[4*a+1]=Ea.y;l[4*a+2]=Ea.a;l[4*a+3]=J}if(r===this.attributes.index||r===this.attributes.position||r===this.attributes.o||r===this.attributes.Ra)console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");else{var c=this.attributes.index.b,d=this.attributes.position.b,f=this.attributes.o.b,g=this.attributes.Ra.b,
h=d.length/3;if(r===this.attributes.Xc){var j=4*h;this.attributes.Xc={Hc:4,b:new Float32Array(j),eg:j}}for(var l=this.attributes.Xc.b,e=[],m=[],j=0;j<h;j++)e[j]=new b.c,m[j]=new b.c;var n,q,w,x,p,v,z,Q,s,A,W,B,K,ma,N,h=new b.c,j=new b.c,M,F,D,L,S,P,U,ga=this.Dp;D=0;for(L=ga.length;D<L;++D){F=ga[D].start;S=ga[D].count;var nb=ga[D].index;M=F;for(F+=S;M<F;M+=3)S=nb+c[M],P=nb+c[M+1],U=nb+c[M+2],n=d[3*S],q=d[3*S+1],w=d[3*S+2],x=d[3*P],p=d[3*P+1],v=d[3*P+2],z=d[3*U],Q=d[3*U+1],s=d[3*U+2],A=g[2*S],W=g[2*
S+1],B=g[2*P],K=g[2*P+1],ma=g[2*U],N=g[2*U+1],x-=n,n=z-n,p-=q,q=Q-q,v-=w,w=s-w,B-=A,A=ma-A,K-=W,W=N-W,N=1/(B*W-A*K),h.set((W*x-K*n)*N,(W*p-K*q)*N,(W*v-K*w)*N),j.set((B*n-A*x)*N,(B*q-A*p)*N,(B*w-A*v)*N),e[S].add(h),e[P].add(h),e[U].add(h),m[S].add(j),m[P].add(j),m[U].add(j)}var Ea=new b.c,Aa=new b.c,Ra=new b.c,T=new b.c,J,I,X;D=0;for(L=ga.length;D<L;++D){F=ga[D].start;S=ga[D].count;nb=ga[D].index;M=F;for(F+=S;M<F;M+=3)S=nb+c[M],P=nb+c[M+1],U=nb+c[M+2],a(S),a(P),a(U)}this.og=this.si=t}}};b.Yc=function(){b.D.call(this);
this.lb=new b.O;this.Ga=new b.O;this.yt=new b.O};b.Yc.prototype=Object.create(b.D.prototype);b.Yc.prototype.$b=function(a){this.$.$b(this.position,a,this.Nc);t===this.Em&&(y===this.Df?this.rotation.mq(this.$,this.Yg):this.sd.copy(this.$.Sl()[1]))};b.Si=function(a,c,d,f,g,h){b.Yc.call(this);this.left=a;this.right=c;this.top=d;this.bottom=f;this.mb=r!==g?g:0.1;this.sb=r!==h?h:2E3;this.Cf()};b.Si.prototype=Object.create(b.Yc.prototype);b.Si.prototype.Cf=function(){this.Ga.Ay(this.left,this.right,this.top,
this.bottom,this.mb,this.sb)};b.Hd=function(a,c,d,f){b.Yc.call(this);this.dh=r!==a?a:50;this.di=r!==c?c:1;this.mb=r!==d?d:0.1;this.sb=r!==f?f:2E3;this.Cf()};b.Hd.prototype=Object.create(b.Yc.prototype);b.Hd.prototype.Cf=function(){if(this.Io){var a=this.Io/this.ts,c=Math.tan(b.vb.is(0.5*this.dh))*this.mb,d=-c,f=a*d,a=Math.abs(a*c-f),d=Math.abs(c-d);this.Ga.Xs(f+this.x*a/this.Io,f+(this.x+this.width)*a/this.Io,c-(this.y+this.height)*d/this.ts,c-this.y*d/this.ts,this.mb,this.sb)}else this.Ga.By(this.dh,
this.di,this.mb,this.sb)};b.hc=function(a){b.D.call(this);this.color=new b.B(a)};b.hc.prototype=Object.create(b.D.prototype);b.Yk=function(a){b.hc.call(this,a)};b.Yk.prototype=Object.create(b.hc.prototype);b.vu=function(a,c){b.hc.call(this,a);this.o=new b.c(0,-1,0);this.right=new b.c(1,0,0);this.Zb=r!==c?c:1;this.height=this.width=1;this.IC=1.5;this.xE=0.5;this.PF=0.1};b.vu.prototype=Object.create(b.hc.prototype);b.Wd=function(a,c){b.hc.call(this,a);this.position=new b.c(0,1,0);this.target=new b.D;
this.Zb=r!==c?c:1;this.zm=this.Nd=y;this.Ak=50;this.zk=5E3;this.rq=-500;this.tq=this.sq=500;this.qq=-500;this.jg=y;this.Ei=0;this.kg=0.5;this.Bk=this.Ek=512;this.uq=y;this.pA=new b.c(0,0,-1E3);this.nA=2;this.Lt=[0,0,0];this.qA=[512,512,512];this.oA=[512,512,512];this.Nt=[-1,0.99,0.998];this.Mt=[0.99,0.998,1];this.Km=[];this.Gh=this.wf=this.Ck=this.Eh=u};b.Wd.prototype=Object.create(b.hc.prototype);b.an=function(a,c,d){b.hc.call(this,a);this.Ke=new b.B(c);this.position=new b.c(0,100,0);this.Zb=r!==
d?d:1};b.an.prototype=Object.create(b.hc.prototype);b.Xh=function(a,c,d){b.hc.call(this,a);this.position=new b.c(0,0,0);this.Zb=r!==c?c:1;this.Uc=r!==d?d:0};b.Xh.prototype=Object.create(b.hc.prototype);b.Yh=function(a,c,d,f,g){b.hc.call(this,a);this.position=new b.c(0,1,0);this.target=new b.D;this.Zb=r!==c?c:1;this.Uc=r!==d?d:0;this.Nn=r!==f?f:Math.PI/2;this.kx=r!==g?g:10;this.zm=this.Nd=y;this.Ak=50;this.zk=5E3;this.mA=50;this.jg=y;this.Ei=0;this.kg=0.5;this.Bk=this.Ek=512;this.Gh=this.wf=this.Ck=
this.Eh=u};b.Yh.prototype=Object.create(b.hc.prototype);b.wg=function(a){this.vG=(this.lG=a)?b.wg.prototype.Zv():u;this.lz=Xb();this.kz=Xb();this.jz=Xb()};b.wg.prototype={constructor:b.wg,crossOrigin:"anonymous",Zv:function(){var a=document.createElement("div");a.style.position="absolute";a.style.right="0px";a.style.top="0px";a.style.fontSize="0.8em";a.style.textAlign="left";a.style.background="rgba(0,0,0,0.25)";a.style.color="#fff";a.style.width="120px";a.style.padding="0.5em 0.5em 0.5em 0.5em";
a.style.zIndex=1E3;a.innerHTML="Loading ...";return a},rs:function(a){a=a.split("/");a.pop();return(1>a.length?".":a.join("/"))+"/"},by:function(a,c){for(var d=[],f=0;f<a.length;++f)d[f]=b.wg.prototype.Sw(a[f],c);return d},Xy:function(a){for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof b.wb)return t;return y},Sw:function(a,c){function d(a){a=Math.log(a)/Math.LN2;return Math.floor(a)==a}function f(a){a=Math.log(a)/Math.LN2;return Math.pow(2,Math.round(a))}function g(a,e,g,h,l,m,z){var Q=g.toLowerCase().Xl(".dds"),
s=c+"/"+g;if(Q){var A=b.If.Us(s);a[e]=A}else A=document.createElement("canvas"),a[e]=new b.wc(A);a[e].AA=g;h&&(a[e].repeat.set(h[0],h[1]),1!==h[0]&&(a[e].Ad=b.Ze),1!==h[1]&&(a[e].Bd=b.Ze));l&&a[e].offset.set(l[0],l[1]);m&&(g={repeat:b.Ze,Qy:b.kn},r!==g[m[0]]&&(a[e].Ad=g[m[0]]),r!==g[m[1]]&&(a[e].Bd=g[m[1]]));z&&(a[e].Tc=z);if(!Q){var W=a[e];a=new Image;a.onload=function(){if(!d(this.width)||!d(this.height)){var a=f(this.width),b=f(this.height);W.T.width=a;W.T.height=b;W.T.getContext("2d").drawImage(this,
0,0,a,b)}else W.T=this;W.va=t};a.crossOrigin=j.crossOrigin;a.src=s}}function h(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]}var j=this,l="MeshLambertMaterial",e={color:15658734,opacity:1,map:u,kb:u,Mb:u,Cc:u,Z:y};if(a.Pa){var m=a.Pa.toLowerCase();"phong"===m?l="MeshPhongMaterial":"basic"===m&&(l="MeshBasicMaterial")}r!==a.jc&&r!==b[a.jc]&&(e.jc=b[a.jc]);if(r!==a.Za||1>a.opacity)e.Za=a.Za;r!==a.Pd&&(e.Pd=a.Pd);r!==a.jf&&(e.jf=a.jf);r!==a.visible&&(e.visible=a.visible);r!==a.Go&&(e.xf=b.Qh);r!==a.zo&&
(e.xf=b.Hf);r!==a.Z&&(e.Z=a.Z);r!==a.u&&("face"===a.u?e.u=b.tg:a.u&&(e.u=b.Xi));a.Lw?e.color=h(a.Lw):a.Gu&&(e.color=a.Gu);a.Mw&&(e.Qe=h(a.Mw));a.Kw&&(e.Ua=h(a.Kw));a.bB&&(e.opacity=a.bB);a.BA&&(e.lg=a.BA);a.Gy&&c&&g(e,"map",a.Gy,a.GE,a.FE,a.HE,a.EE);a.Hy&&c&&g(e,"lightMap",a.Hy,a.KE,a.JE,a.LE,a.IE);a.Ey&&c&&g(e,"bumpMap",a.Ey,a.CE,a.BE,a.DE,a.AE);a.Zs&&c&&g(e,"normalMap",a.Zs,a.PE,a.OE,a.QE,a.NE);a.Iy&&c&&g(e,"specularMap",a.Iy,a.TE,a.SE,a.UE,a.RE);a.Fy&&(e.gi=a.Fy);a.Zs?(l=b.Wi.xm,m=b.Jd.d(l.aa),
m.Yt.value=e.Mb,a.$s&&m.hu.value.set(a.$s,a.$s),e.map&&(m.Xt.value=e.map,m.ms.value=t),e.eb&&(m.Zt.value=e.eb,m.ns.value=t),e.kb&&(m.Vt.value=e.kb,m.ls.value=t),m.gu.value.Wc(e.color),m.ku.value.Wc(e.Qe),m.fu.value.Wc(e.Ua),m.ju.value=e.lg,r!==e.opacity&&(m.iu.value=e.opacity),l=new b.wb({X:l.X,Y:l.Y,aa:m,Ic:t,G:t}),e.Za&&(l.Za=t)):l=new b[l](e);r!==a.Hu&&(l.name=a.Hu);return l}};b.cn=function(){b.Xe.call(this);this.crossOrigin=u};b.cn.prototype={constructor:b.cn,load:function(a,b){var d=this;r===
b&&(b=new Image);b.addEventListener("load",function(){d.dispatchEvent({type:"load",content:b})},y);b.addEventListener("error",function(){d.dispatchEvent({type:"error",message:"Couldn't load URL ["+a+"]"})},y);d.crossOrigin&&(b.crossOrigin=d.crossOrigin);b.src=a}};b.Mi=function(a){b.wg.call(this,a);this.withCredentials=y};b.Mi.prototype=Object.create(b.wg.prototype);b.Mi.prototype.load=function(a,b,d){d=d&&"string"===typeof d?d:this.rs(a);this.sy(this,a,b,d)};b.Mi.prototype.sy=function(a,b,d,f){var g=
new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===g.DONE)if(200===g.status||0===g.status)if(g.responseText){var h=JSON.parse(g.responseText);a.es(h,d,f)}else console.warn("THREE.JSONLoader: ["+b+"] seems to be unreachable or file there is empty");else console.error("THREE.JSONLoader: Couldn't load ["+b+"] ["+g.status+"]");else g.readyState===g.LOADING||g.readyState===g.GB&&g.getResponseHeader("Content-Length")};g.open("GET",b,t);g.withCredentials=this.withCredentials;g.send(u)};
b.Mi.prototype.es=function(a,c,d){var f=new b.Q,g=r!==a.scale?1/a.scale:1,h,j,l,e,m,n,q,w,x,p,v,z,Q,s,A,W=a.l;p=a.g;var B=a.uh,K=a.Ib,ma=0;for(h=0;h<a.Mh.length;h++)a.Mh[h].length&&ma++;for(h=0;h<ma;h++)f.ge[h]=[],f.R[h]=[];e=0;for(m=p.length;e<m;)n=new b.c,n.x=p[e++]*g,n.y=p[e++]*g,n.a=p[e++]*g,f.g.push(n);e=0;for(m=W.length;e<m;){p=W[e++];n=p&1;l=p&2;h=p&4;j=p&8;w=p&16;q=p&32;v=p&64;p&=128;n?(z=new b.za,z.v=W[e++],z.i=W[e++],z.w=W[e++],z.ua=W[e++],n=4):(z=new b.ja,z.v=W[e++],z.i=W[e++],z.w=W[e++],
n=3);l&&(l=W[e++],z.Ta=l);l=f.l.length;if(h)for(h=0;h<ma;h++)Q=a.Mh[h],x=W[e++],A=Q[2*x],x=Q[2*x+1],f.ge[h][l]=new b.j(A,x);if(j)for(h=0;h<ma;h++){Q=a.Mh[h];s=[];for(j=0;j<n;j++)x=W[e++],A=Q[2*x],x=Q[2*x+1],s[j]=new b.j(A,x);f.R[h][l]=s}w&&(w=3*W[e++],j=new b.c,j.x=B[w++],j.y=B[w++],j.a=B[w],z.o=j);if(q)for(h=0;h<n;h++)w=3*W[e++],j=new b.c,j.x=B[w++],j.y=B[w++],j.a=B[w],z.N.push(j);v&&(q=W[e++],q=new b.B(K[q]),z.color=q);if(p)for(h=0;h<n;h++)q=W[e++],q=new b.B(K[q]),z.u.push(q);f.l.push(z)}if(a.ng){e=
0;for(m=a.ng.length;e<m;e+=2)W=a.ng[e],B=a.ng[e+1],f.ng.push(new b.Kd(W,B,0,0))}if(a.mg){e=0;for(m=a.mg.length;e<m;e+=2)W=a.mg[e],B=a.mg[e+1],f.mg.push(new b.Kd(W,B,0,0))}f.rb=a.rb;f.ew=a.ew;if(r!==a.L){e=0;for(m=a.L.length;e<m;e++){f.L[e]={};f.L[e].name=a.L[e].name;f.L[e].g=[];K=f.L[e].g;ma=a.L[e].g;W=0;for(B=ma.length;W<B;W+=3)p=new b.c,p.x=ma[W]*g,p.y=ma[W+1]*g,p.a=ma[W+2]*g,K.push(p)}}if(r!==a.cg){e=0;for(m=a.cg.length;e<m;e++){f.cg[e]={};f.cg[e].name=a.cg[e].name;f.cg[e].Ib=[];B=f.cg[e].Ib;K=
a.cg[e].Ib;g=0;for(W=K.length;g<W;g+=3)ma=new b.B(16755200),ma.Eb(K[g],K[g+1],K[g+2]),B.push(ma)}}f.kc();f.kd();a=this.by(a.Fa,d);this.Xy(a)&&f.Pl();c(f,a)};b.IB=function(){function a(){d++;c.dispatchEvent({type:"progress",loaded:d,total:f});d===f&&c.dispatchEvent({type:"load"})}b.Xe.call(this);var c=this,d=0,f=0;this.add=function(b){f++;b.addEventListener("load",a,y)}};b.Vi=function(){this.lz=Xb();this.kz=Xb();this.jz=Xb();this.zC=Xb();this.yC=Xb();this.Yf={};this.ti={};this.Xv(b.Mi)};b.Vi.prototype.constructor=
b.Vi;b.Vi.prototype.load=function(a,b){var d=this,f=new XMLHttpRequest;f.onreadystatechange=function(){if(4===f.readyState)if(200===f.status||0===f.status){var g=JSON.parse(f.responseText);d.parse(g,b,a)}else console.error("THREE.SceneLoader: Couldn't load ["+a+"] ["+f.status+"]")};f.open("GET",a,t);f.send(u)};b.Vi.prototype.Xv=function(a){this.Yf.ascii={Ws:a}};b.Vi.prototype.parse=function(a,c,d){function f(a,b){return"relativeToHTML"==b?a:q+"/"+a}function g(){h(K.se,N.bc)}function h(a,c){var e,
d,g,j,m,q,v;for(v in c)if(r===K.bc[v]){var z=c[v],D=u;if(z.type&&z.type in n.ti){if(r===z.wy){d={type:1,url:1,z:1,position:1,rotation:1,scale:1,visible:1,children:1,pa:1,Qt:1,Sy:1,bg:1,duration:1};g={};for(var M in z)M in d||(g[M]=z[M]);x=K.Fa[z.z];z.wy=t;d=n.ti[z.type].qm;d.options?d.load(f(z.url,N.Um),l(v,a,x,z)):d.load(f(z.url,N.Um),l(v,a,x,z),g)}}else if(r!==z.s){if(w=K.Bb[z.s]){x=K.Fa[z.z];D=x instanceof b.wb;g=z.position;j=z.rotation;m=z.scale;e=z.$;q=z.sd;z.z||(x=new b.$c(K.Zl[z.s]));x instanceof
b.$c&&0===x.Fa.length&&(x=new b.$c(K.Zl[z.s]));if(x instanceof b.$c)for(d=0;d<x.Fa.length;d++)D=D||x.Fa[d]instanceof b.wb;D&&w.Pl();z.Qt?D=new b.Sc(w,x):z.Sy?(D=new b.Pi(w,x),r!==z.duration&&(D.duration=z.duration),r!==z.time&&(D.time=z.time),r!==z.bg&&(D.bg=z.bg),x.ya&&w.Pw()):D=new b.ba(w,x);D.name=v;e?(D.Rd=y,D.$.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])):(D.position.set(g[0],g[1],g[2]),q?(D.sd.set(q[0],q[1],q[2],q[3]),D.Df=t):D.rotation.set(j[0],
j[1],j[2]),D.scale.set(m[0],m[1],m[2]));D.visible=z.visible;D.Nd=z.Nd;D.Bi=z.Bi;a.add(D);K.bc[v]=D}}else"DirectionalLight"===z.type||"PointLight"===z.type||"AmbientLight"===z.type?(s=r!==z.color?z.color:16777215,A=r!==z.Zb?z.Zb:1,"DirectionalLight"===z.type?(g=z.direction,Q=new b.Wd(s,A),Q.position.set(g[0],g[1],g[2]),z.target&&(ma.push({object:Q,TA:z.target}),Q.target=u)):"PointLight"===z.type?(g=z.position,d=z.Uc,Q=new b.Xh(s,A,d),Q.position.set(g[0],g[1],g[2])):"AmbientLight"===z.type&&(Q=new b.Yk(s)),
a.add(Q),Q.name=v,K.Ic[v]=Q,K.bc[v]=Q):"PerspectiveCamera"===z.type||"OrthographicCamera"===z.type?("PerspectiveCamera"===z.type?p=new b.Hd(z.dh,z.di,z.mb,z.sb):"OrthographicCamera"===z.type&&(p=new b.Si(z.left,z.right,z.top,z.bottom,z.mb,z.sb)),g=z.position,p.position.set(g[0],g[1],g[2]),a.add(p),p.name=v,K.Ng[v]=p,K.bc[v]=p):(g=z.position,j=z.rotation,m=z.scale,q=z.sd,D=new b.D,D.name=v,D.position.set(g[0],g[1],g[2]),q?(D.sd.set(q[0],q[1],q[2],q[3]),D.Df=t):D.rotation.set(j[0],j[1],j[2]),D.scale.set(m[0],
m[1],m[2]),D.visible=r!==z.visible?z.visible:y,a.add(D),K.bc[v]=D,K.gx[v]=D);if(D){if(r!==z.pa)for(var B in z.pa)D.pa[B]=z.pa[B];if(r!==z.ri)for(d=0;d<z.ri.length;d++)g=z.ri[d],r===K.ri[g]&&(K.ri[g]=[]),K.ri[g].push(v);r!==z.children&&h(D,z.children)}}}function j(a){return function(b,c){K.Bb[a]=b;K.Zl[a]=c;g();W-=1;m()}}function l(a,b,c,e){return function(d){d=d.content?d.content:d.SC?d.se:d;var f=e.position,h=e.rotation,j=e.sd,l=e.scale;d.position.set(f[0],f[1],f[2]);j?(d.sd.set(j[0],j[1],j[2],j[3]),
d.Df=t):d.rotation.set(h[0],h[1],h[2]);d.scale.set(l[0],l[1],l[2]);c&&d.Jq(function(a){a.z=c});var p=r!==e.visible?e.visible:t;d.Jq(function(a){a.visible=p});b.add(d);d.name=a;K.bc[a]=d;g();W-=1;m()}}function e(a){return function(b,c){K.Bb[a]=b;K.Zl[a]=c}}function m(){if(0===W&&0===B){for(var a=0;a<ma.length;a++){var e=ma[a],d=K.bc[e.TA];d?e.object.target=d:(e.object.target=new b.D,K.se.add(e.object.target));e.object.target.pa.cu=e.object}c(K)}}var n=this,q=b.wg.prototype.rs(d),w,x,p,v,z,Q,s,A,W,
B,K,ma=[],N=a,M;for(M in this.Yf)a=this.Yf[M].Ws,this.Yf[M].qm=new a;for(M in this.ti)a=this.ti[M].Ws,this.ti[M].qm=new a;B=W=0;K={se:new b.Ag,Bb:{},Zl:{},Fa:{},Mc:{},bc:{},Ng:{},Ic:{},Ej:{},gx:{},ri:{}};if(N.transform&&(M=N.transform.position,a=N.transform.rotation,d=N.transform.scale,M&&K.se.position.set(M[0],M[1],M[2]),a&&K.se.rotation.set(a[0],a[1],a[2]),d&&K.se.scale.set(d[0],d[1],d[2]),M||a||d))K.se.Se(),K.se.Oc();M=function(a){return function(){B-=a;m()}};for(var F in N.Ej)a=N.Ej[F],"linear"===
a.type?v=new b.Li(0,a.mb,a.sb):"exp2"===a.type&&(v=new b.Sh(0,a.Ul)),a=a.color,v.color.Eb(a[0],a[1],a[2]),K.Ej[F]=v;for(var D in N.Bb)v=N.Bb[D],v.type in this.Yf&&(W+=1);for(var L in N.bc)v=N.bc[L],v.type&&v.type in this.ti&&(W+=1);for(D in N.Bb)if(v=N.Bb[D],"cube"===v.type)w=new b.Ym(v.width,v.height,v.depth,v.Ue,v.Le,v.vo),K.Bb[D]=w;else if("plane"===v.type)w=new b.jr(v.width,v.height,v.Ue,v.Le),K.Bb[D]=w;else if("sphere"===v.type)w=new b.$e(v.V,v.Ue,v.Le),K.Bb[D]=w;else if("cylinder"===v.type)w=
new b.dl(v.IG,v.qC,v.height,v.QF,v.SD),K.Bb[D]=w;else if("torus"===v.type)w=new b.Ar(v.V,v.Lh,v.hG,v.iG),K.Bb[D]=w;else if("icosahedron"===v.type)w=new b.bn(v.V,v.xG),K.Bb[D]=w;else if(v.type in this.Yf){L={};for(z in v)"type"!==z&&"url"!==z&&(L[z]=v[z]);this.Yf[v.type].qm.load(f(v.url,N.Um),j(D),L)}else"embedded"===v.type&&(L=N.embeds[v.id],L.Py=N.Py,L&&this.Yf.cC.qm.es(L,e(D),""));for(var S in N.Mc)if(D=N.Mc[S],D.url instanceof Array){B+=D.url.length;for(z=0;z<D.url.length;z++);}else B+=1;for(S in N.Mc){D=
N.Mc[S];r!==D.oc&&r!==b[D.oc]&&(D.oc=new b[D.oc]);if(D.url instanceof Array){L=D.url.length;v=[];for(z=0;z<L;z++)v[z]=f(D.url[z],N.Um);z=(z=v[0].Xl(".dds"))?b.If.ty(v,D.oc,M(L)):b.If.vy(v,D.oc,M(L))}else z=D.url.toLowerCase().Xl(".dds"),L=f(D.url,N.Um),v=M(1),z=z?b.If.Us(L,D.oc,v):b.If.uy(L,D.oc,v),r!==b[D.ac]&&(z.ac=b[D.ac]),r!==b[D.Jc]&&(z.Jc=b[D.Jc]),D.Tc&&(z.Tc=D.Tc),D.repeat&&(z.repeat.set(D.repeat[0],D.repeat[1]),1!==D.repeat[0]&&(z.Ad=b.Ze),1!==D.repeat[1]&&(z.Bd=b.Ze)),D.offset&&z.offset.set(D.offset[0],
D.offset[1]),D.Hi&&(L={repeat:b.Ze,Qy:b.kn},r!==L[D.Hi[0]]&&(z.Ad=L[D.Hi[0]]),r!==L[D.Hi[1]]&&(z.Bd=L[D.Hi[1]]));K.Mc[S]=z}var P,U;for(P in N.Fa){S=N.Fa[P];for(U in S.M)"envMap"===U||"map"===U||"lightMap"===U||"bumpMap"===U?S.M[U]=K.Mc[S.M[U]]:"shading"===U?S.M[U]="flat"===S.M[U]?b.Rh:b.Id:"side"===U?S.M[U]="double"==S.M[U]?b.Hf:"back"==S.M[U]?b.Qh:b.el:"blending"===U?S.M[U]=S.M[U]in b?b[S.M[U]]:b.Ri:"combine"===U?S.M[U]=S.M[U]in b?b[S.M[U]]:b.gl:"vertexColors"===U?"face"==S.M[U]?S.M[U]=b.tg:S.M[U]&&
(S.M[U]=b.Xi):"wrapRGB"===U&&(M=S.M[U],S.M[U]=new b.c(M[0],M[1],M[2]));r!==S.M.opacity&&1>S.M.opacity&&(S.M.Za=t);S.M.Mb?(M=b.Wi.xm,D=b.Jd.d(M.aa),z=S.M.color,L=S.M.Qe,v=S.M.Ua,F=S.M.lg,D.Yt.value=K.Mc[S.M.Mb],S.M.dg&&D.hu.value.set(S.M.dg[0],S.M.dg[1]),S.M.map&&(D.Xt.value=S.M.map,D.ms.value=t),S.M.Aa&&(D.Wt.value=S.M.Aa,D.ix.value=t,D.gB.value=S.M.Sd),S.M.kb&&(D.Vt.value=S.M.kb,D.ls.value=t),S.M.eb&&(D.Zt.value=K.Mc[S.M.eb],D.ns.value=t),S.M.dx&&(D.RA.value=K.Mc[S.M.dx],D.hx.value=t,D.eB.value=
S.M.qD,D.fB.value=S.M.rD),D.gu.value.Wc(z),D.ku.value.Wc(L),D.fu.value.Wc(v),D.ju.value=F,S.M.opacity&&(D.iu.value=S.M.opacity),x=new b.wb({X:M.X,Y:M.Y,aa:D,Ic:t,G:t})):x=new b[S.type](S.M);K.Fa[P]=x}for(P in N.Fa)if(S=N.Fa[P],S.M.Fa){U=[];for(z=0;z<S.M.Fa.length;z++)U.push(K.Fa[S.M.Fa[z]]);K.Fa[P].Fa=U}g();K.Ng&&N.so.eo&&(K.QC=K.Ng[N.so.eo]);K.Ej&&N.so.G&&(K.se.G=K.Ej[N.so.G]);m()};b.zr=function(){b.Xe.call(this);this.crossOrigin=u};b.zr.prototype={constructor:b.zr,load:function(a){var c=this,d=
new Image;d.addEventListener("load",function(){var a=new b.wc(d);a.va=t;c.dispatchEvent({type:"load",content:a})},y);d.addEventListener("error",function(){c.dispatchEvent({type:"error",message:"Couldn't load URL ["+a+"]"})},y);c.crossOrigin&&(d.crossOrigin=c.crossOrigin);d.src=a}};b.fa=function(){b.Xe.call(this);this.id=b.Uu++;this.name="";this.xf=b.el;this.opacity=1;this.Za=y;this.jc=b.Ri;this.Mg=b.wr;this.Lg=b.gr;this.blendEquation=b.Sq;this.jf=this.Pd=t;this.polygonOffset=y;this.ef=this.nk=this.mk=
0;this.Am=y;this.va=this.visible=t};b.fa.prototype.ue=function(a){if(r!==a)for(var c in a){var d=a[c];if(r===d)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else if(c in this){var f=this[c];f instanceof b.B&&d instanceof b.B?f.copy(d):f instanceof b.B?f.set(d):f instanceof b.c&&d instanceof b.c?f.copy(d):this[c]=d}}};b.fa.prototype.d=function(a){r===a&&(a=new b.fa);a.name=this.name;a.xf=this.xf;a.opacity=this.opacity;a.Za=this.Za;a.jc=this.jc;a.Mg=this.Mg;a.Lg=this.Lg;a.blendEquation=
this.blendEquation;a.Pd=this.Pd;a.jf=this.jf;a.polygonOffset=this.polygonOffset;a.mk=this.mk;a.nk=this.nk;a.ef=this.ef;a.Am=this.Am;a.visible=this.visible;return a};b.Uu=0;b.Qc=function(a){b.fa.call(this);this.color=new b.B(16777215);this.ag=1;this.hp=this.gp="round";this.u=y;this.G=t;this.ue(a)};b.Qc.prototype=Object.create(b.fa.prototype);b.Qc.prototype.d=function(){var a=new b.Qc;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.ag=this.ag;a.gp=this.gp;a.hp=this.hp;a.u=this.u;a.G=this.G;
return a};b.ug=function(a){b.fa.call(this);this.color=new b.B(16777215);this.scale=this.ag=1;this.Xf=3;this.Hj=1;this.u=y;this.G=t;this.ue(a)};b.ug.prototype=Object.create(b.fa.prototype);b.ug.prototype.d=function(){var a=new b.ug;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.ag=this.ag;a.scale=this.scale;a.Xf=this.Xf;a.Hj=this.Hj;a.u=this.u;a.G=this.G;return a};b.pb=function(a){b.fa.call(this);this.color=new b.B(16777215);this.Aa=this.eb=this.kb=this.map=u;this.$d=b.gl;this.Sd=1;this.re=
0.98;this.G=t;this.Pa=b.Id;this.Z=y;this.Ia=1;this.sc=this.rc="round";this.u=b.Qi;this.L=this.Ya=y;this.ue(a)};b.pb.prototype=Object.create(b.fa.prototype);b.pb.prototype.d=function(){var a=new b.pb;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.map=this.map;a.kb=this.kb;a.eb=this.eb;a.Aa=this.Aa;a.$d=this.$d;a.Sd=this.Sd;a.re=this.re;a.G=this.G;a.Pa=this.Pa;a.Z=this.Z;a.Ia=this.Ia;a.rc=this.rc;a.sc=this.sc;a.u=this.u;a.Ya=this.Ya;a.L=this.L;return a};b.Xd=function(a){b.fa.call(this);this.color=
new b.B(16777215);this.Ua=new b.B(16777215);this.Tb=new b.B(0);this.Ae=y;this.Ud=new b.c(1,1,1);this.Aa=this.eb=this.kb=this.map=u;this.$d=b.gl;this.Sd=1;this.re=0.98;this.G=t;this.Pa=b.Id;this.Z=y;this.Ia=1;this.sc=this.rc="round";this.u=b.Qi;this.ya=this.L=this.Ya=y;this.ue(a)};b.Xd.prototype=Object.create(b.fa.prototype);b.Xd.prototype.d=function(){var a=new b.Xd;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.Ua.copy(this.Ua);a.Tb.copy(this.Tb);a.Ae=this.Ae;a.Ud.copy(this.Ud);a.map=this.map;
a.kb=this.kb;a.eb=this.eb;a.Aa=this.Aa;a.$d=this.$d;a.Sd=this.Sd;a.re=this.re;a.G=this.G;a.Pa=this.Pa;a.Z=this.Z;a.Ia=this.Ia;a.rc=this.rc;a.sc=this.sc;a.u=this.u;a.Ya=this.Ya;a.L=this.L;a.ya=this.ya;return a};b.Gd=function(a){b.fa.call(this);this.color=new b.B(16777215);this.Ua=new b.B(16777215);this.Tb=new b.B(0);this.Qe=new b.B(1118481);this.lg=30;this.ck=y;this.zi=t;this.Ae=y;this.Ud=new b.c(1,1,1);this.Cc=this.kb=this.map=u;this.gi=1;this.Mb=u;this.dg=new b.j(1,1);this.Aa=this.eb=u;this.$d=b.gl;
this.Sd=1;this.re=0.98;this.G=t;this.Pa=b.Id;this.Z=y;this.Ia=1;this.sc=this.rc="round";this.u=b.Qi;this.ya=this.L=this.Ya=y;this.ue(a)};b.Gd.prototype=Object.create(b.fa.prototype);b.Gd.prototype.d=function(){var a=new b.Gd;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.Ua.copy(this.Ua);a.Tb.copy(this.Tb);a.Qe.copy(this.Qe);a.lg=this.lg;a.ck=this.ck;a.zi=this.zi;a.Ae=this.Ae;a.Ud.copy(this.Ud);a.map=this.map;a.kb=this.kb;a.Cc=this.Cc;a.gi=this.gi;a.Mb=this.Mb;a.dg.copy(this.dg);a.eb=this.eb;
a.Aa=this.Aa;a.$d=this.$d;a.Sd=this.Sd;a.re=this.re;a.G=this.G;a.Pa=this.Pa;a.Z=this.Z;a.Ia=this.Ia;a.rc=this.rc;a.sc=this.sc;a.u=this.u;a.Ya=this.Ya;a.L=this.L;a.ya=this.ya;return a};b.xg=function(a){b.fa.call(this);this.Z=y;this.Ia=1;this.ue(a)};b.xg.prototype=Object.create(b.fa.prototype);b.xg.prototype.d=function(){var a=new b.Qc;b.fa.prototype.d.call(this,a);a.Z=this.Z;a.Ia=this.Ia;return a};b.yg=function(a){b.fa.call(this);this.Pa=b.Rh;this.Z=y;this.Ia=1;this.ue(a)};b.yg.prototype=Object.create(b.fa.prototype);
b.yg.prototype.d=function(){var a=new b.yg;b.fa.prototype.d.call(this,a);a.Pa=this.Pa;a.Z=this.Z;a.Ia=this.Ia;return a};b.$c=function(a){this.Fa=a instanceof Array?a:[]};b.$c.prototype.d=function(){return new b.$c(this.Fa.slice(0))};b.zg=function(a){b.fa.call(this);this.color=new b.B(16777215);this.map=u;this.size=1;this.Lc=t;this.u=y;this.G=t;this.ue(a)};b.zg.prototype=Object.create(b.fa.prototype);b.zg.prototype.d=function(){var a=new b.zg;b.fa.prototype.d.call(this,a);a.color.copy(this.color);
a.map=this.map;a.size=this.size;a.Lc=this.Lc;a.u=this.u;a.G=this.G;return a};b.il=function(a){b.fa.call(this);this.color=new b.B(16777215);this.pc=Xb();this.ue(a)};b.il.prototype=Object.create(b.fa.prototype);b.il.prototype.d=function(){var a=new b.il;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.pc=this.pc;return a};b.wb=function(a){b.fa.call(this);this.Y=this.X="void main() {}";this.aa={};this.to={};this.attributes=u;this.Pa=b.Id;this.Z=y;this.Ia=1;this.Ic=this.G=y;this.u=b.Qi;this.ya=
this.L=this.Ya=y;this.ue(a)};b.wb.prototype=Object.create(b.fa.prototype);b.wb.prototype.d=function(){var a=new b.wb;b.fa.prototype.d.call(this,a);a.X=this.X;a.Y=this.Y;a.aa=b.Jd.d(this.aa);a.attributes=this.attributes;a.to=this.to;a.Pa=this.Pa;a.Z=this.Z;a.Ia=this.Ia;a.G=this.G;a.Ic=this.Ic;a.u=this.u;a.Ya=this.Ya;a.L=this.L;a.ya=this.ya;return a};b.ml=function(a){b.fa.call(this);this.color=new b.B(16777215);this.map=new b.wc;this.ze=t;this.Pd=!this.ze;this.Lc=!this.ze;this.vk=!this.Lc;this.bi=b.Ce.Hb.d();
this.G=y;this.Fi=new b.j(0,0);this.Gi=new b.j(1,1);this.ue(a);a=a||{};r===a.Pd&&(this.Pd=!this.ze);r===a.Lc&&(this.Lc=!this.ze);r===a.vk&&(this.vk=!this.Lc)};b.ml.prototype=Object.create(b.fa.prototype);b.ml.prototype.d=function(){var a=new b.ml;b.fa.prototype.d.call(this,a);a.color.copy(this.color);a.map=this.map;a.ze=this.ze;a.Lc=this.Lc;a.vk=this.vk;a.bi.copy(this.bi);a.Fi.copy(this.Fi);a.Gi.copy(this.Gi);a.G=this.G;return a};b.Ce={};b.Ce.HG=new b.j(1,-1);b.Ce.GG=new b.j(0,-1);b.Ce.JG=new b.j(-1,
-1);b.Ce.AC=new b.j(1,0);b.Ce.Hb=new b.j(0,0);b.Ce.BC=new b.j(-1,0);b.Ce.sC=new b.j(1,1);b.Ce.rC=new b.j(0,1);b.Ce.tC=new b.j(-1,1);b.wc=function(a,c,d,f,g,h,j,l,e){b.Xe.call(this);this.id=b.rv++;this.name="";this.T=a;this.Kc=[];this.oc=r!==c?c:new b.Br;this.Ad=r!==d?d:b.Ii;this.Bd=r!==f?f:b.Ii;this.Jc=r!==g?g:b.vg;this.ac=r!==h?h:b.hn;this.Tc=r!==e?e:1;this.Ba=r!==j?j:b.Ui;this.type=r!==l?l:b.un;this.offset=new b.j(0,0);this.repeat=new b.j(1,1);this.Vb=t;this.Pp=y;this.bh=t;this.Lq=4;this.va=y;this.ym=
u};b.wc.prototype={constructor:b.wc,d:function(a){r===a&&(a=new b.wc);a.T=this.T;a.Kc=this.Kc.slice(0);a.oc=this.oc;a.Ad=this.Ad;a.Bd=this.Bd;a.Jc=this.Jc;a.ac=this.ac;a.Tc=this.Tc;a.Ba=this.Ba;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.Vb=this.Vb;a.Pp=this.Pp;a.bh=this.bh;a.Lq=this.Lq;return a}};b.rv=0;b.rg=function(a,c,d,f,g,h,j,l,e,m,n){b.wc.call(this,u,h,j,l,e,m,f,g,n);this.T={width:c,height:d};this.Kc=a;this.Vb=y};b.rg.prototype=Object.create(b.wc.prototype);b.rg.prototype.d=
function(){var a=new b.rg;b.wc.prototype.d.call(this,a);return a};b.sg=function(a,c,d,f,g,h,j,l,e,m,n){b.wc.call(this,u,h,j,l,e,m,f,g,n);this.T={data:a,width:c,height:d}};b.sg.prototype=Object.create(b.wc.prototype);b.sg.prototype.d=function(){var a=new b.sg;b.wc.prototype.d.call(this,a);return a};b.Ti=function(a){b.D.call(this);this.z=a};b.Ti.prototype=Object.create(b.D.prototype);b.Ti.prototype.d=function(a){r===a&&(a=new b.Ti(this.z));b.D.prototype.d.call(this,a);return a};b.ad=function(a,c){b.D.call(this);
this.s=a;this.z=r!==c?c:new b.zg({color:16777215*Math.random()});this.Hh=y;this.s&&u===this.s.Bc&&this.s.Nl();this.fh=y};b.ad.prototype=Object.create(b.D.prototype);b.ad.prototype.d=function(a){r===a&&(a=new b.ad(this.s,this.z));a.Hh=this.Hh;b.D.prototype.d.call(this,a);return a};b.fb=function(a,c,d){b.D.call(this);this.s=a;this.z=r!==c?c:new b.Qc({color:16777215*Math.random()});this.type=r!==d?d:b.cr;this.s&&(this.s.Bc||this.s.Nl())};b.cr=0;b.Vh=1;b.fb.prototype=Object.create(b.D.prototype);b.fb.prototype.d=
function(a){r===a&&(a=new b.fb(this.s,this.z,this.type));b.D.prototype.d.call(this,a);return a};b.ba=function(a,c){b.D.call(this);this.s=a;this.z=r!==c?c:new b.pb({color:16777215*Math.random(),Z:t});r!==this.s&&(u===this.s.Bc&&this.s.Nl(),this.mB())};b.ba.prototype=Object.create(b.D.prototype);b.ba.prototype.mB=function(){if(0<this.s.L.length){this.qp=-1;this.it=[];this.le=[];this.Ty={};for(var a=0,b=this.s.L.length;a<b;a++)this.le.push(0),this.Ty[this.s.L[a].name]=a}};b.ba.prototype.d=function(a){r===
a&&(a=new b.ba(this.s,this.z));b.D.prototype.d.call(this,a);return a};b.We=function(a){b.D.call(this);this.Qt=a;this.Pe=new b.O};b.We.prototype=Object.create(b.D.prototype);b.We.prototype.update=function(a,b){this.Rd&&(b|=this.Se());if(b||this.Kb)a?this.Pe.cb(a,this.$):this.Pe.copy(this.$),this.Kb=y,b=t;var d,f=this.children.length;for(d=0;d<f;d++)this.children[d].update(this.Pe,b)};b.Sc=function(a,c,d){b.ba.call(this,a,c);this.Ef=r!==d?d:t;this.Zx=new b.O;this.rb=[];this.jj=[];var f,g,h;if(this.s&&
r!==this.s.rb){for(a=0;a<this.s.rb.length;a++)d=this.s.rb[a],f=d.Cm,g=d.$F,h=d.eG,c=this.Wv(),c.name=d.name,c.position.set(f[0],f[1],f[2]),c.sd.set(g[0],g[1],g[2],g[3]),c.Df=t,r!==h?c.scale.set(h[0],h[1],h[2]):c.scale.set(1,1,1);for(a=0;a<this.rb.length;a++)d=this.s.rb[a],c=this.rb[a],-1===d.parent?this.add(c):this.rb[d.parent].add(c);a=this.rb.length;this.Ef?(this.ei=this.fi=256<a?64:64<a?32:16<a?16:8,this.jj=new Float32Array(4*this.fi*this.ei),this.Tf=new b.sg(this.jj,this.fi,this.ei,b.Ui,b.$m),
this.Tf.ac=b.Wh,this.Tf.Jc=b.Wh,this.Tf.Vb=y,this.Tf.bh=y):this.jj=new Float32Array(16*a);this.Bz()}};b.Sc.prototype=Object.create(b.ba.prototype);b.Sc.prototype.Wv=function(){var a;r===a&&(a=new b.We(this));this.rb.push(a);return a};b.Sc.prototype.Oc=function(a){this.Rd&&this.Se();if(this.Kb||a)this.parent?this.H.cb(this.parent.H,this.$):this.H.copy(this.$),this.Kb=y;a=0;for(var c=this.children.length;a<c;a++){var d=this.children[a];d instanceof b.We?d.update(this.Zx,y):d.Oc(t)}if(r==this.$n){this.$n=
[];a=0;for(c=this.rb.length;a<c;a++)d=new b.O,d.Wb(this.rb[a].Pe),this.$n.push(d)}a=0;for(c=this.rb.length;a<c;a++)b.Sc.pt.cb(this.rb[a].Pe,this.$n[a]),b.Sc.pt.ss(this.jj,16*a);this.Ef&&(this.Tf.va=t)};b.Sc.prototype.Bz=function(){this.Oc(t);for(var a=0;a<this.s.mg.length;a++){var b=this.s.ng[a],d=1/b.Ps();Infinity!==d?b.A(d):b.set(1)}};b.Sc.prototype.d=function(a){r===a&&(a=new b.Sc(this.s,this.z,this.Ef));b.ba.prototype.d.call(this,a);return a};b.Sc.pt=new b.O;b.Pi=function(a,c){b.ba.call(this,
a,c);this.duration=1E3;this.bg=y;this.gs=this.Os=this.time=0;this.direction=1;this.ji=y;this.fA(this.s.L.length-1)};b.Pi.prototype=Object.create(b.ba.prototype);b.Pi.prototype.fA=function(a){this.KA=0;this.jx=a;this.length=this.jx-this.KA+1};b.Pi.prototype.d=function(a){r===a&&(a=new b.Pi(this.s,this.z));a.duration=this.duration;a.bg=this.bg;a.time=this.time;a.Os=this.Os;a.gs=this.gs;a.direction=this.direction;a.ji=this.ji;b.ba.prototype.d.call(this,a);return a};b.Kf=function(a,c){b.D.call(this);
this.s=a;this.z=c};b.Kf.prototype=Object.create(b.D.prototype);b.Kf.prototype.d=function(a){r===a&&(a=new b.Kf(this.s,this.z));b.D.prototype.d.call(this,a);return a};b.gn=function(){b.D.call(this);this.Jf=[]};b.gn.prototype=Object.create(b.D.prototype);b.gn.prototype.update=function(a){if(1<this.Jf.length){a.lb.Wb(a.H);a=a.lb;a=-(a.elements[2]*this.H.elements[12]+a.elements[6]*this.H.elements[13]+a.elements[10]*this.H.elements[14]+a.elements[14]);this.Jf[0].Cp.visible=t;for(var b=1;b<this.Jf.length;b++)if(a>=
this.Jf[b].UG)this.Jf[b-1].Cp.visible=y,this.Jf[b].Cp.visible=t;else break;for(;b<this.Jf.length;b++)this.Jf[b].Cp.visible=y}};b.gn.prototype.d=Xb();b.Bg=function(a){b.D.call(this);this.z=r!==a?a:new b.ml;this.Dt=this.rotation;this.rotation=0};b.Bg.prototype=Object.create(b.D.prototype);b.Bg.prototype.Se=function(){this.$.Ht(this.position);this.Dt.set(0,0,this.rotation);this.$.It(this.Dt);(1!==this.scale.x||1!==this.scale.y)&&this.$.scale(this.scale);this.Kb=t};b.Bg.prototype.d=function(a){r===a&&
(a=new b.Bg(this.z));b.D.prototype.d.call(this,a);return a};b.Ag=function(){b.D.call(this);this.st=this.G=u;this.Rd=y;this.ql=[];this.dd=[];this.Zh=[];this.$h=[]};b.Ag.prototype=Object.create(b.D.prototype);b.Ag.prototype.Er=function(a){if(a instanceof b.hc)-1===this.dd.indexOf(a)&&this.dd.push(a),a.target&&r===a.target.parent&&this.add(a.target);else if(!(a instanceof b.Yc||a instanceof b.We)&&-1===this.ql.indexOf(a)){this.ql.push(a);this.Zh.push(a);var c=this.$h.indexOf(a);-1!==c&&this.$h.splice(c,
1)}for(c=0;c<a.children.length;c++)this.Er(a.children[c])};b.Ag.prototype.Mr=function(a){if(a instanceof b.hc){var c=this.dd.indexOf(a);-1!==c&&this.dd.splice(c,1)}else a instanceof b.Yc||(c=this.ql.indexOf(a),-1!==c&&(this.ql.splice(c,1),this.$h.push(a),c=this.Zh.indexOf(a),-1!==c&&this.Zh.splice(c,1)));for(c=0;c<a.children.length;c++)this.Mr(a.children[c])};b.Li=function(a,c,d){this.name="";this.color=new b.B(a);this.mb=r!==c?c:1;this.sb=r!==d?d:1E3};b.Li.prototype.d=function(){return new b.Li(this.color.kf(),
this.mb,this.sb)};b.Sh=function(a,c){this.name="";this.color=new b.B(a);this.Ul=r!==c?c:2.5E-4};b.Sh.prototype.d=function(){return new b.Sh(this.color.kf(),this.Ul)};b.zB=function(a){function c(a){A!==a&&(A=v.globalAlpha=a)}function d(a){B!==a&&(a===b.Ri?v.globalCompositeOperation="source-over":a===b.Tq?v.globalCompositeOperation="lighter":a===b.xr&&(v.globalCompositeOperation="darker"),B=a)}function f(a){W!==a&&(W=v.strokeStyle=a)}function g(a){F!==a&&(F=v.fillStyle=a)}console.log("THREE.CanvasRenderer",
b.mr);a=a||{};var h=this,j,l,e,m=new b.ln,n=r!==a.canvas?a.canvas:document.createElement("canvas"),q,w,x,p,v=n.getContext("2d"),z=new b.B(0),s=0,A=1,B=0,W=u,F=u,K=u,ma=u,N=u,M,L,D,P,S=new b.cd,T=new b.cd,U,ga,X,Ea,ja,V,Va,J,I,lb,db,R,va=new b.B,Wa=new b.B,Da=new b.B,$a=new b.B,Z=new b.B,wa=new b.B,Ka=new b.B,ic=new b.B,Xa={},qb={},ia,xa,za,Oa,Ca,ab,vb,gb,$b,dc,pb=new b.Gf,eb=new b.Gf,fb=new b.Gf,rc=y,Lb=new b.B,Eb=new b.B,qa=new b.B,wb=new b.c,cb,rb,Qb,Ba,hb,xb,ec=16;cb=document.createElement("canvas");
cb.width=cb.height=2;rb=cb.getContext("2d");rb.fillStyle="rgba(0,0,0,1)";rb.fillRect(0,0,2,2);Qb=rb.getImageData(0,0,2,2);Ba=Qb.data;hb=document.createElement("canvas");hb.width=hb.height=ec;xb=hb.getContext("2d");xb.translate(-ec/2,-ec/2);xb.scale(ec,ec);ec--;this.ee=n;this.devicePixelRatio=r!==a.devicePixelRatio?a.devicePixelRatio:r!==window.devicePixelRatio?window.devicePixelRatio:1;this.zA=this.Qm=this.Il=t;this.info={t:{g:0,l:0}};this.PA=Xb();this.eA=Xb();this.xk=function(a,c){q=a*this.devicePixelRatio;
w=c*this.devicePixelRatio;x=Math.floor(q/2);p=Math.floor(w/2);n.width=q;n.height=w;n.style.width=a+"px";n.style.height=c+"px";pb.set(new b.j(-x,-p),new b.j(x,p));eb.set(new b.j(-x,-p),new b.j(x,p));A=1;B=0;N=ma=K=F=W=u};this.aA=function(a,c){z.copy(a);s=r!==c?c:1;eb.set(new b.j(-x,-p),new b.j(x,p))};this.bA=function(a,c){z.Wc(a);s=r!==c?c:1;eb.set(new b.j(-x,-p),new b.j(x,p))};this.Ix=Yd(0);this.clear=function(){v.setTransform(1,0,0,-1,x,p);y===eb.empty()&&(eb.Ms(pb),eb.Cj(2),1>s&&v.clearRect(eb.min.x|
0,eb.min.y|0,eb.max.x-eb.min.x|0,eb.max.y-eb.min.y|0),0<s&&(d(b.Ri),c(1),g("rgba("+Math.floor(255*z.q)+","+Math.floor(255*z.p)+","+Math.floor(255*z.i)+","+s+")"),v.fillRect(eb.min.x|0,eb.min.y|0,eb.max.x-eb.min.x|0,eb.max.y-eb.min.y|0)),eb.ui())};this.t=function(a,n){function q(a,c,d){for(var f=0,g=e.length;f<g;f++){var h=e[f];ic.copy(h.color);if(h instanceof b.Wd){var j=h.H.nc().normalize(),k=c.Ma(j);0>=k||(k*=h.Zb,d.add(ic.A(k)))}else h instanceof b.Xh&&(j=h.H.nc(),k=c.Ma(wb.W(j,a).normalize()),
0>=k||(k*=0==h.Uc?1:1-Math.min(a.Ug(j)/h.Uc,1),0!=k&&(k*=h.Zb,d.add(ic.A(k)))))}}function w(a,e,f,g,j,k,E,l){h.info.t.g+=3;h.info.t.l++;c(l.opacity);d(l.jc);U=a.f.x;ga=a.f.y;X=e.f.x;Ea=e.f.y;ja=f.f.x;V=f.f.y;z(U,ga,X,Ea,ja,V);(l instanceof b.Xd||l instanceof b.Gd)&&u===l.map&&u===l.map?(wa.copy(l.color),Ka.copy(l.Tb),l.u===b.tg&&wa.multiply(E.color),t===rc?y===l.Z&&l.Pa==b.Id&&3==E.Vm?(Wa.copy(Lb),Da.copy(Lb),$a.copy(Lb),q(E.ia.ne,E.Ff[0],Wa),q(E.oa.ne,E.Ff[1],Da),q(E.qc.ne,E.Ff[2],$a),Wa.multiply(wa).add(Ka),
Da.multiply(wa).add(Ka),$a.multiply(wa).add(Ka),Z.Dl(Da,$a).A(0.5),za=W(Wa,Da,$a,Z),B(U,ga,X,Ea,ja,V,0,0,za)):(va.copy(Lb),q(E.oj,E.th,va),va.multiply(wa).add(Ka),t===l.Z?s(va,l.Ia,l.rc,l.sc):Q(va)):t===l.Z?s(l.color,l.Ia,l.rc,l.sc):Q(l.color)):l instanceof b.pb||l instanceof b.Xd||l instanceof b.Gd?u!==l.map?l.map.oc instanceof b.Br&&(Oa=E.Mh[0],A(U,ga,X,Ea,ja,V,Oa[g].x,Oa[g].y,Oa[j].x,Oa[j].y,Oa[k].x,Oa[k].y,l.map)):u!==l.Aa?l.Aa.oc instanceof b.hv&&(wb.copy(E.Td[g]),Ca=0.5*wb.x+0.5,ab=0.5*wb.y+
0.5,wb.copy(E.Td[j]),vb=0.5*wb.x+0.5,gb=0.5*wb.y+0.5,wb.copy(E.Td[k]),$b=0.5*wb.x+0.5,dc=0.5*wb.y+0.5,A(U,ga,X,Ea,ja,V,Ca,ab,vb,gb,$b,dc,l.Aa)):(va.copy(l.color),l.u===b.tg&&va.multiply(E.color),t===l.Z?s(va,l.Ia,l.rc,l.sc):Q(va)):l instanceof b.xg?(ia=n.mb,xa=n.sb,j=1-F(a.f.a*a.f.e,ia,xa),Wa.Eb(j,j,j),j=1-F(e.f.a*e.f.e,ia,xa),Da.Eb(j,j,j),j=1-F(f.f.a*f.f.e,ia,xa),$a.Eb(j,j,j),Z.Dl(Da,$a).A(0.5),za=W(Wa,Da,$a,Z),B(U,ga,X,Ea,ja,V,0,0,za)):l instanceof b.yg&&(l.Pa==b.Rh?(e=E.wm,va.Eb(e.x,e.y,e.a).A(0.5).ic(0.5),
t===l.Z?s(va,l.Ia,l.rc,l.sc):Q(va)):l.Pa==b.Id&&(e=E.Td[g],Wa.Eb(e.x,e.y,e.a).A(0.5).ic(0.5),e=E.Td[j],Da.Eb(e.x,e.y,e.a).A(0.5).ic(0.5),e=E.Td[k],$a.Eb(e.x,e.y,e.a).A(0.5).ic(0.5),Z.Dl(Da,$a).A(0.5),za=W(Wa,Da,$a,Z),B(U,ga,X,Ea,ja,V,0,0,za)))}function z(a,b,c,e,d,f){v.beginPath();v.moveTo(a,b);v.lineTo(c,e);v.lineTo(d,f);v.closePath()}function k(a,b,c,e,d,f,g,h){v.beginPath();v.moveTo(a,b);v.lineTo(c,e);v.lineTo(d,f);v.lineTo(g,h);v.closePath()}function s(a,b,c,e){K!==b&&(K=v.lineWidth=b);ma!==c&&
(ma=v.lineCap=c);N!==e&&(N=v.lineJoin=e);f(a.qi());v.stroke();fb.Cj(2*b)}function Q(a){g(a.qi());v.fill()}function A(a,c,e,d,f,h,j,k,l,E,m,p,n){if(!(n instanceof b.sg||r===n.T||0==n.T.width)){if(t===n.va){var q=n.Ad==b.Ze,x=n.Bd==b.Ze;Xa[n.id]=v.createPattern(n.T,t===q&&t===x?"repeat":t===q&&y===x?"repeat-x":y===q&&t===x?"repeat-y":"no-repeat");n.va=y}r===Xa[n.id]?g("rgba(0,0,0,1)"):g(Xa[n.id]);var q=n.offset.x/n.repeat.x,x=n.offset.y/n.repeat.y,w=n.T.width*n.repeat.x,pa=n.T.height*n.repeat.y;j=(j+
q)*w;k=(1-k+x)*pa;e-=a;d-=c;f-=a;h-=c;l=(l+q)*w-j;E=(1-E+x)*pa-k;m=(m+q)*w-j;p=(1-p+x)*pa-k;q=l*p-m*E;0===q?(r===qb[n.id]&&(c=document.createElement("canvas"),c.width=n.T.width,c.height=n.T.height,c=c.getContext("2d"),c.drawImage(n.T,0,0),qb[n.id]=c.getImageData(0,0,n.T.width,n.T.height).data),c=qb[n.id],j=4*(Math.floor(j)+Math.floor(k)*n.T.width),va.Eb(c[j]/255,c[j+1]/255,c[j+2]/255),Q(va)):(q=1/q,n=(p*e-E*f)*q,E=(p*d-E*h)*q,e=(l*f-m*e)*q,d=(l*h-m*d)*q,a=a-n*j-e*k,j=c-E*j-d*k,v.save(),v.transform(n,
E,e,d,a,j),v.fill(),v.restore())}}function B(a,b,c,e,d,f,g,h,j){var k,E,l,m,n,p;n=j.width-1;p=j.height-1;g*=n;k=0*p;c-=a;e-=b;d-=a;f-=b;E=1*n-g;h=h*p-k;l=0*n-g;m=1*p-k;p=1/(E*m-l*h);n=(m*c-h*d)*p;h=(m*e-h*f)*p;c=(E*d-l*c)*p;e=(E*f-l*e)*p;a=a-n*g-c*k;b=b-h*g-e*k;v.save();v.transform(n,h,c,e,a,b);v.clip();v.drawImage(j,0,0);v.restore()}function W(a,b,c,e){Ba[0]=255*a.q|0;Ba[1]=255*a.p|0;Ba[2]=255*a.i|0;Ba[4]=255*b.q|0;Ba[5]=255*b.p|0;Ba[6]=255*b.i|0;Ba[8]=255*c.q|0;Ba[9]=255*c.p|0;Ba[10]=255*c.i|0;
Ba[12]=255*e.q|0;Ba[13]=255*e.p|0;Ba[14]=255*e.i|0;rb.putImageData(Qb,0,0);xb.drawImage(cb,0,0);return hb}function F(a,b,c){a=(a-b)/(c-b);return a*a*(3-2*a)}function Jb(a,b){var c=b.x-a.x,e=b.y-a.y,d=c*c+e*e;0!==d&&(d=1/Math.sqrt(d),c*=d,e*=d,b.x+=c,b.y+=e,a.x-=c,a.y-=e)}if(y===n instanceof b.Yc)console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");else{t===this.Il&&this.clear();v.setTransform(1,0,0,-1,x,p);h.info.t.g=0;h.info.t.l=0;j=m.Gz(a,n,this.Qm,this.zA);l=
j.elements;e=j.Ic;rc=0<e.length;if(t===rc){Lb.Eb(0,0,0);Eb.Eb(0,0,0);qa.Eb(0,0,0);for(var Vb=0,fd=e.length;Vb<fd;Vb++){var ea=e[Vb],E=ea.color;ea instanceof b.Yk?Lb.add(E):ea instanceof b.Wd?Eb.add(E):ea instanceof b.Xh&&qa.add(E)}}Vb=0;for(fd=l.length;Vb<fd;Vb++){var na=l[Vb],ea=na.z;if(!(r===ea||y===ea.visible)){fb.ui();if(na instanceof b.tr){M=na;M.x*=x;M.y*=p;var E=M,pa=na;c(ea.opacity);d(ea.jc);var ib=r,Rb=r,gc=r,bc=r,Yc=na=r,Ec=r;ea instanceof b.zg?u===ea.map?(gc=pa.object.scale.x,bc=pa.object.scale.y,
gc*=pa.scale.x*x,bc*=pa.scale.y*p,fb.min.set(E.x-gc,E.y-bc),fb.max.set(E.x+gc,E.y+bc),y!==pb.lh(fb)&&(g(ea.color.qi()),v.save(),v.translate(E.x,E.y),v.rotate(-pa.rotation),v.scale(gc,bc),v.fillRect(-1,-1,2,2),v.restore())):(na=ea.map.T,Yc=na.width>>1,Ec=na.height>>1,gc=pa.scale.x*x,bc=pa.scale.y*p,ib=gc*Yc,Rb=bc*Ec,fb.min.set(E.x-ib,E.y-Rb),fb.max.set(E.x+ib,E.y+Rb),y!==pb.lh(fb)&&(v.save(),v.translate(E.x,E.y),v.rotate(-pa.rotation),v.scale(gc,-bc),v.translate(-Yc,-Ec),v.drawImage(na,0,0),v.restore())):
ea instanceof b.il&&(ib=pa.scale.x*x,Rb=pa.scale.y*p,fb.min.set(E.x-ib,E.y-Rb),fb.max.set(E.x+ib,E.y+Rb),y!==pb.lh(fb)&&(f(ea.color.qi()),g(ea.color.qi()),v.save(),v.translate(E.x,E.y),v.rotate(-pa.rotation),v.scale(ib,Rb),ea.pc(v),v.restore()))}else if(na instanceof b.sr)M=na.ia,L=na.oa,M.f.x*=x,M.f.y*=p,L.f.x*=x,L.f.y*=p,fb.ig([M.f,L.f]),t===pb.lh(fb)&&(E=M,pa=L,c(ea.opacity),d(ea.jc),v.beginPath(),v.moveTo(E.f.x,E.f.y),v.lineTo(pa.f.x,pa.f.y),ea instanceof b.Qc&&(E=ea.ag,K!==E&&(K=v.lineWidth=
E),E=ea.gp,ma!==E&&(ma=v.lineCap=E),E=ea.hp,N!==E&&(N=v.lineJoin=E),f(ea.color.qi()),v.stroke(),fb.Cj(2*ea.ag)));else if(na instanceof b.qr){M=na.ia;L=na.oa;D=na.qc;if(-1>M.f.a||1<M.f.a)continue;if(-1>L.f.a||1<L.f.a)continue;if(-1>D.f.a||1<D.f.a)continue;M.f.x*=x;M.f.y*=p;L.f.x*=x;L.f.y*=p;D.f.x*=x;D.f.y*=p;t===ea.Am&&(Jb(M.f,L.f),Jb(L.f,D.f),Jb(D.f,M.f));fb.ig([M.f,L.f,D.f]);w(M,L,D,0,1,2,na,ea)}else if(na instanceof b.rr){M=na.ia;L=na.oa;D=na.qc;P=na.Pq;if(-1>M.f.a||1<M.f.a)continue;if(-1>L.f.a||
1<L.f.a)continue;if(-1>D.f.a||1<D.f.a)continue;if(-1>P.f.a||1<P.f.a)continue;M.f.x*=x;M.f.y*=p;L.f.x*=x;L.f.y*=p;D.f.x*=x;D.f.y*=p;P.f.x*=x;P.f.y*=p;S.f.copy(L.f);T.f.copy(P.f);t===ea.Am&&(Jb(M.f,L.f),Jb(L.f,P.f),Jb(P.f,M.f),Jb(D.f,S.f),Jb(D.f,T.f));fb.ig([M.f,L.f,D.f,P.f]);E=M;pa=L;ib=D;Rb=P;gc=S;bc=T;Yc=a;h.info.t.g+=4;h.info.t.l++;c(ea.opacity);d(ea.jc);r!==ea.map&&u!==ea.map||r!==ea.Aa&&u!==ea.Aa?(w(E,pa,Rb,0,1,3,na,ea),w(gc,ib,bc,1,2,3,na,ea)):(U=E.f.x,ga=E.f.y,X=pa.f.x,Ea=pa.f.y,ja=ib.f.x,V=
ib.f.y,Va=Rb.f.x,J=Rb.f.y,I=gc.f.x,lb=gc.f.y,db=bc.f.x,R=bc.f.y,ea instanceof b.Xd||ea instanceof b.Gd?(wa.copy(ea.color),Ka.copy(ea.Tb),ea.u===b.tg&&wa.multiply(na.color),t===rc?y===ea.Z&&ea.Pa==b.Id&&4==na.Vm?(Wa.copy(Lb),Da.copy(Lb),$a.copy(Lb),Z.copy(Lb),q(na.ia.ne,na.Ff[0],Wa),q(na.oa.ne,na.Ff[1],Da),q(na.Pq.ne,na.Ff[3],$a),q(na.qc.ne,na.Ff[2],Z),Wa.multiply(wa).add(Ka),Da.multiply(wa).add(Ka),$a.multiply(wa).add(Ka),Z.multiply(wa).add(Ka),za=W(Wa,Da,$a,Z),z(U,ga,X,Ea,Va,J),B(U,ga,X,Ea,Va,J,
0,0,za),z(I,lb,ja,V,db,R),B(I,lb,ja,V,db,R,1,1,za)):(va.copy(Lb),q(na.oj,na.th,va),va.multiply(wa).add(Ka),k(U,ga,X,Ea,ja,V,Va,J),t===ea.Z?s(va,ea.Ia,ea.rc,ea.sc):Q(va)):(va.Dl(wa,Ka),k(U,ga,X,Ea,ja,V,Va,J),t===ea.Z?s(va,ea.Ia,ea.rc,ea.sc):Q(va))):ea instanceof b.pb?(va.copy(ea.color),ea.u===b.tg&&va.multiply(na.color),k(U,ga,X,Ea,ja,V,Va,J),t===ea.Z?s(va,ea.Ia,ea.rc,ea.sc):Q(va)):ea instanceof b.yg?(E=r,ea.Pa==b.Rh?(E=na.wm,va.Eb(E.x,E.y,E.a).A(0.5).ic(0.5),k(U,ga,X,Ea,ja,V,Va,J),t===ea.Z?s(va,ea.Ia,
ea.rc,ea.sc):Q(va)):ea.Pa==b.Id&&(E=na.Td[0],Wa.Eb(E.x,E.y,E.a).A(0.5).ic(0.5),E=na.Td[1],Da.Eb(E.x,E.y,E.a).A(0.5).ic(0.5),E=na.Td[3],$a.Eb(E.x,E.y,E.a).A(0.5).ic(0.5),E=na.Td[2],Z.Eb(E.x,E.y,E.a).A(0.5).ic(0.5),za=W(Wa,Da,$a,Z),z(U,ga,X,Ea,Va,J),B(U,ga,X,Ea,Va,J,0,0,za),z(I,lb,ja,V,db,R),B(I,lb,ja,V,db,R,1,1,za))):ea instanceof b.xg&&(ia=n.mb,xa=n.sb,Wa.q=Wa.p=Wa.i=1-F(E.f.a*E.f.e,ia,xa),Da.q=Da.p=Da.i=1-F(pa.f.a*pa.f.e,ia,xa),$a.q=$a.p=$a.i=1-F(Rb.f.a*Rb.f.e,ia,xa),Z.q=Z.p=Z.i=1-F(ib.f.a*ib.f.e,
ia,xa),za=W(Wa,Da,$a,Z),z(U,ga,X,Ea,Va,J),B(U,ga,X,Ea,Va,J,0,0,za),z(I,lb,ja,V,db,R),B(I,lb,ja,V,db,R,1,1,za)))}eb.mu(fb)}}v.setTransform(1,0,0,1,0,0)}}};b.h={mi:"#ifdef USE_FOG\nuniform vec3 fogColor;\n#ifdef FOG_EXP2\nuniform float fogDensity;\n#else\nuniform float fogNear;\nuniform float fogFar;\n#endif\n#endif",li:"#ifdef USE_FOG\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n#ifdef FOG_EXP2\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n#else\nfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif",
Bo:"#ifdef USE_ENVMAP\nuniform float reflectivity;\nuniform samplerCube envMap;\nuniform float flipEnvMap;\nuniform int combine;\n#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\nuniform bool useRefract;\nuniform float refractionRatio;\n#else\nvarying vec3 vReflect;\n#endif\n#endif",Ao:"#ifdef USE_ENVMAP\nvec3 reflectVec;\n#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\nvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\nif ( useRefract ) {\nreflectVec = refract( cameraToVertex, normal, refractionRatio );\n} else { \nreflectVec = reflect( cameraToVertex, normal );\n}\n#else\nreflectVec = vReflect;\n#endif\n#ifdef DOUBLE_SIDED\nfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\nvec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n#else\nvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n#endif\n#ifdef GAMMA_INPUT\ncubeColor.xyz *= cubeColor.xyz;\n#endif\nif ( combine == 1 ) {\ngl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n} else if ( combine == 2 ) {\ngl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n} else {\ngl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n}\n#endif",
Co:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\nvarying vec3 vReflect;\nuniform float refractionRatio;\nuniform bool useRefract;\n#endif",Wm:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n#ifdef USE_SKINNING\nvec4 worldPosition = modelMatrix * skinned;\n#endif\n#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\nvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n#endif\n#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\nvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n#endif\n#endif",
Do:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\nvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\nworldNormal = normalize( worldNormal );\nvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\nif ( useRefract ) {\nvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n} else {\nvReflect = reflect( cameraToVertex, worldNormal );\n}\n#endif",Ky:"#ifdef USE_MAP\nuniform sampler2D map;\n#endif",
Jy:"#ifdef USE_MAP\ngl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n#endif",lp:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvarying vec2 vUv;\nuniform vec4 offsetRepeat;\n#endif",kp:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\nuniform sampler2D map;\n#endif",mp:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
jp:"#ifdef USE_MAP\nvec4 texelColor = texture2D( map, vUv );\n#ifdef GAMMA_INPUT\ntexelColor.xyz *= texelColor.xyz;\n#endif\ngl_FragColor = gl_FragColor * texelColor;\n#endif",dp:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\nuniform sampler2D lightMap;\n#endif",ep:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\n#endif",cp:"#ifdef USE_LIGHTMAP\ngl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n#endif",fp:"#ifdef USE_LIGHTMAP\nvUv2 = uv2;\n#endif",zw:"#ifdef USE_BUMPMAP\nuniform sampler2D bumpMap;\nuniform float bumpScale;\nvec2 dHdxy_fwd() {\nvec2 dSTdx = dFdx( vUv );\nvec2 dSTdy = dFdy( vUv );\nfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\nfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\nfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\nreturn vec2( dBx, dBy );\n}\nvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\nvec3 vSigmaX = dFdx( surf_pos );\nvec3 vSigmaY = dFdy( surf_pos );\nvec3 vN = surf_norm;\nvec3 R1 = cross( vSigmaY, vN );\nvec3 R2 = cross( vN, vSigmaX );\nfloat fDet = dot( vSigmaX, R1 );\nvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\nreturn normalize( abs( fDet ) * surf_norm - vGrad );\n}\n#endif",
cz:"#ifdef USE_NORMALMAP\nuniform sampler2D normalMap;\nuniform vec2 normalScale;\nvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\nvec3 q0 = dFdx( eye_pos.xyz );\nvec3 q1 = dFdy( eye_pos.xyz );\nvec2 st0 = dFdx( vUv.st );\nvec2 st1 = dFdy( vUv.st );\nvec3 S = normalize(  q0 * st1.t - q1 * st0.t );\nvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\nvec3 N = normalize( surf_norm );\nvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\nmapN.xy = normalScale * mapN.xy;\nmat3 tsn = mat3( S, T, N );\nreturn normalize( tsn * mapN );\n}\n#endif",
xq:"#ifdef USE_SPECULARMAP\nuniform sampler2D specularMap;\n#endif",wq:"float specularStrength;\n#ifdef USE_SPECULARMAP\nvec4 texelSpecular = texture2D( specularMap, vUv );\nspecularStrength = texelSpecular.r;\n#else\nspecularStrength = 1.0;\n#endif",ky:"uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif",
ly:"vLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\nvLightBack = vec3( 0.0 );\n#endif\ntransformedNormal = normalize( transformedNormal );\n#if MAX_DIR_LIGHTS > 0\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( transformedNormal, dirVector );\nvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\ndirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\ndirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n#ifdef DOUBLE_SIDED\nvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n#endif\n}\n#endif\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nfloat dotProduct = dot( transformedNormal, lVector );\nvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\npointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\npointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n#ifdef DOUBLE_SIDED\nvLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\nif ( spotEffect > spotLightAngleCos[ i ] ) {\nspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\nfloat lDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nfloat dotProduct = dot( transformedNormal, lVector );\nvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\nspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\nspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n#ifdef DOUBLE_SIDED\nvLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\nvec3 lVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( transformedNormal, lVector );\nfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\nfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\nvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n#ifdef DOUBLE_SIDED\nvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n#endif\n}\n#endif\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n#ifdef DOUBLE_SIDED\nvLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n#endif",
oy:"#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\nvarying vec3 vWorldPosition;\n#endif",py:"#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nvPointLight[ i ] = vec4( lVector, lDistance );\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nvSpotLight[ i ] = vec4( lVector, lDistance );\n}\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\nvWorldPosition = worldPosition.xyz;\n#endif",
ny:"uniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#else\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#else\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\nvarying vec3 vWorldPosition;\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",
my:"vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#ifdef DOUBLE_SIDED\nnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n#endif\n#ifdef USE_NORMALMAP\nnormal = perturbNormal2Arb( -viewPosition, normal );\n#elif defined( USE_BUMPMAP )\nnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse  = vec3( 0.0 );\nvec3 pointSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz + vViewPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vPointLight[ i ].xyz );\nfloat lDistance = vPointLight[ i ].w;\n#endif\nfloat dotProduct = dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\nfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n#endif\npointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\nvec3 pointHalfVector = normalize( lVector + viewPosition );\nfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );\npointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n#else\npointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvec3 spotDiffuse  = vec3( 0.0 );\nvec3 spotSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz + vViewPosition.xyz;\nfloat lDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vSpotLight[ i ].xyz );\nfloat lDistance = vSpotLight[ i ].w;\n#endif\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\nif ( spotEffect > spotLightAngleCos[ i ] ) {\nspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\nfloat dotProduct = dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\nfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n#else\nfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n#endif\nspotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\nvec3 spotHalfVector = normalize( lVector + viewPosition );\nfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\nfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );\nspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n#else\nspotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse  = vec3( 0.0 );\nvec3 dirSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( normal, dirVector );\n#ifdef WRAP_AROUND\nfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\nfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n#endif\ndirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\nvec3 dirHalfVector = normalize( dirVector + viewPosition );\nfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ndirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nvec3 hemiDiffuse  = vec3( 0.0 );\nvec3 hemiSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\nvec3 lVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( normal, lVector );\nfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\nvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\nhemiDiffuse += diffuse * hemiColor;\nvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\nfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\nfloat hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\nvec3 lVectorGround = -lVector;\nvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\nfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\nfloat hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat dotProductGround = dot( normal, lVectorGround );\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\nvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\nhemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n#else\nhemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;\n#endif\n}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse += dirDiffuse;\ntotalSpecular += dirSpecular;\n#endif\n#if MAX_HEMI_LIGHTS > 0\ntotalDiffuse += hemiDiffuse;\ntotalSpecular += hemiSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse += pointDiffuse;\ntotalSpecular += pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\ntotalDiffuse += spotDiffuse;\ntotalSpecular += spotSpecular;\n#endif\n#ifdef METAL\ngl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif",
rj:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",qj:"#ifdef USE_COLOR\ngl_FragColor = gl_FragColor * vec4( vColor, opacity );\n#endif",sj:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",tj:"#ifdef USE_COLOR\n#ifdef GAMMA_INPUT\nvColor = color * color;\n#else\nvColor = color;\n#endif\n#endif",Nk:"#ifdef USE_SKINNING\n#ifdef BONE_TEXTURE\nuniform sampler2D boneTexture;\nmat4 getBoneMatrix( const in float i ) {\nfloat j = i * 4.0;\nfloat x = mod( j, N_BONE_PIXEL_X );\nfloat y = floor( j / N_BONE_PIXEL_X );\nconst float dx = 1.0 / N_BONE_PIXEL_X;\nconst float dy = 1.0 / N_BONE_PIXEL_Y;\ny = dy * ( y + 0.5 );\nvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\nvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\nvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\nvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\nmat4 bone = mat4( v1, v2, v3, v4 );\nreturn bone;\n}\n#else\nuniform mat4 boneGlobalMatrices[ MAX_BONES ];\nmat4 getBoneMatrix( const in float i ) {\nmat4 bone = boneGlobalMatrices[ int(i) ];\nreturn bone;\n}\n#endif\n#endif",
Mk:"#ifdef USE_SKINNING\nmat4 boneMatX = getBoneMatrix( skinIndex.x );\nmat4 boneMatY = getBoneMatrix( skinIndex.y );\n#endif",Om:"#ifdef USE_SKINNING\n#ifdef USE_MORPHTARGETS\nvec4 skinVertex = vec4( morphed, 1.0 );\n#else\nvec4 skinVertex = vec4( position, 1.0 );\n#endif\nvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\nskinned \t  += boneMatY * skinVertex * skinWeight.y;\n#endif",sm:"#ifdef USE_MORPHTARGETS\n#ifndef USE_MORPHNORMALS\nuniform float morphTargetInfluences[ 8 ];\n#else\nuniform float morphTargetInfluences[ 4 ];\n#endif\n#endif",
tm:"#ifdef USE_MORPHTARGETS\nvec3 morphed = vec3( 0.0 );\nmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\nmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\nmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\nmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n#ifndef USE_MORPHNORMALS\nmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\nmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\nmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\nmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n#endif\nmorphed += position;\n#endif",
Tl:"vec4 mvPosition;\n#ifdef USE_SKINNING\nmvPosition = modelViewMatrix * skinned;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\nmvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\nmvPosition = modelViewMatrix * vec4( position, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;",sp:"#ifdef USE_MORPHNORMALS\nvec3 morphedNormal = vec3( 0.0 );\nmorphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\nmorphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\nmorphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\nmorphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\nmorphedNormal += normal;\n#endif",
Pm:"#ifdef USE_SKINNING\nmat4 skinMatrix = skinWeight.x * boneMatX;\nskinMatrix \t+= skinWeight.y * boneMatY;\n#ifdef USE_MORPHNORMALS\nvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n#else\nvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n#endif\n#endif",ro:"vec3 objectNormal;\n#ifdef USE_SKINNING\nobjectNormal = skinnedNormal.xyz;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\nobjectNormal = morphedNormal;\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\nobjectNormal = normal;\n#endif\n#ifdef FLIP_SIDED\nobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;",
Hk:"#ifdef USE_SHADOWMAP\nuniform sampler2D shadowMap[ MAX_SHADOWS ];\nuniform vec2 shadowMapSize[ MAX_SHADOWS ];\nuniform float shadowDarkness[ MAX_SHADOWS ];\nuniform float shadowBias[ MAX_SHADOWS ];\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nfloat unpackDepth( const in vec4 rgba_depth ) {\nconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\nfloat depth = dot( rgba_depth, bit_shift );\nreturn depth;\n}\n#endif",Gk:"#ifdef USE_SHADOWMAP\n#ifdef SHADOWMAP_DEBUG\nvec3 frustumColors[3];\nfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\nfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\nfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n#endif\n#ifdef SHADOWMAP_CASCADE\nint inFrustumCount = 0;\n#endif\nfloat fDepth;\nvec3 shadowColor = vec3( 1.0 );\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\nbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\nbool inFrustum = all( inFrustumVec );\n#ifdef SHADOWMAP_CASCADE\ninFrustumCount += int( inFrustum );\nbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n#else\nbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n#endif\nbool frustumTest = all( frustumTestVec );\nif ( frustumTest ) {\nshadowCoord.z += shadowBias[ i ];\n#if defined( SHADOWMAP_TYPE_PCF )\nfloat shadow = 0.0;\nconst float shadowDelta = 1.0 / 9.0;\nfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\nfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\nfloat dx0 = -1.25 * xPixelOffset;\nfloat dy0 = -1.25 * yPixelOffset;\nfloat dx1 = 1.25 * xPixelOffset;\nfloat dy1 = 1.25 * yPixelOffset;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\nfloat shadow = 0.0;\nfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\nfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\nfloat dx0 = -1.0 * xPixelOffset;\nfloat dy0 = -1.0 * yPixelOffset;\nfloat dx1 = 1.0 * xPixelOffset;\nfloat dy1 = 1.0 * yPixelOffset;\nmat3 shadowKernel;\nmat3 depthKernel;\ndepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\nif ( depthKernel[0][0] < shadowCoord.z ) shadowKernel[0][0] = 0.25;\nelse shadowKernel[0][0] = 0.0;\ndepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\nif ( depthKernel[0][1] < shadowCoord.z ) shadowKernel[0][1] = 0.25;\nelse shadowKernel[0][1] = 0.0;\ndepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i], shadowCoord.xy + vec2( dx0, dy1 ) ) );\nif ( depthKernel[0][2] < shadowCoord.z ) shadowKernel[0][2] = 0.25;\nelse shadowKernel[0][2] = 0.0;\ndepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\nif ( depthKernel[1][0] < shadowCoord.z ) shadowKernel[1][0] = 0.25;\nelse shadowKernel[1][0] = 0.0;\ndepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\nif ( depthKernel[1][1] < shadowCoord.z ) shadowKernel[1][1] = 0.25;\nelse shadowKernel[1][1] = 0.0;\ndepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\nif ( depthKernel[1][2] < shadowCoord.z ) shadowKernel[1][2] = 0.25;\nelse shadowKernel[1][2] = 0.0;\ndepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\nif ( depthKernel[2][0] < shadowCoord.z ) shadowKernel[2][0] = 0.25;\nelse shadowKernel[2][0] = 0.0;\ndepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\nif ( depthKernel[2][1] < shadowCoord.z ) shadowKernel[2][1] = 0.25;\nelse shadowKernel[2][1] = 0.0;\ndepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\nif ( depthKernel[2][2] < shadowCoord.z ) shadowKernel[2][2] = 0.25;\nelse shadowKernel[2][2] = 0.0;\nvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\nshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\nshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\nvec4 shadowValues;\nshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\nshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\nshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\nshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\nshadow = dot( shadowValues, vec4( 1.0 ) );\nshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n#else\nvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\nfloat fDepth = unpackDepth( rgbaDepth );\nif ( fDepth < shadowCoord.z )\nshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n#endif\n}\n#ifdef SHADOWMAP_DEBUG\n#ifdef SHADOWMAP_CASCADE\nif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n#else\nif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n#endif\n#endif\n}\n#ifdef GAMMA_OUTPUT\nshadowColor *= shadowColor;\n#endif\ngl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n#endif",
Ik:"#ifdef USE_SHADOWMAP\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif",Nm:"#ifdef USE_SHADOWMAP\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n}\n#endif",El:"#ifdef ALPHATEST\nif ( gl_FragColor.a < ALPHATEST ) discard;\n#endif",pm:"#ifdef GAMMA_OUTPUT\ngl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n#endif"};b.Jd={ta:function(a){var b,d,f,g={};for(b=0;b<a.length;b++)for(d in f=this.d(a[b]),f)g[d]=f[d];
return g},d:function(a){var c,d,f,g={};for(c in a)for(d in g[c]={},a[c])f=a[c][d],g[c][d]=f instanceof b.B||f instanceof b.j||f instanceof b.c||f instanceof b.Kd||f instanceof b.O||f instanceof b.wc?f.d():f instanceof Array?f.slice():f;return g}};b.qb={Ml:{Vl:{type:"c",value:new b.B(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:u},iz:{type:"v4",value:new b.Kd(0,0,1,1)},kb:{type:"t",value:u},eb:{type:"t",value:u},Aa:{type:"t",value:u},wx:{type:"f",value:-1},ou:{type:"i",value:0},Sd:{type:"f",
value:1},re:{type:"f",value:0.98},$d:{type:"i",value:0},le:{type:"f",value:0}},yw:{Cc:{type:"t",value:u},gi:{type:"f",value:1}},xm:{Mb:{type:"t",value:u},dg:{type:"v2",value:new b.j(1,1)}},G:{cm:{type:"f",value:2.5E-4},em:{type:"f",value:1},dm:{type:"f",value:2E3},bm:{type:"c",value:new b.B(16777215)}},Ic:{bw:{type:"fv",value:[]},cx:{type:"fv",value:[]},bx:{type:"fv",value:[]},Vx:{type:"fv",value:[]},Xx:{type:"fv",value:[]},Wx:{type:"fv",value:[]},yz:{type:"fv",value:[]},Az:{type:"fv",value:[]},zz:{type:"fv1",
value:[]},DA:{type:"fv",value:[]},HA:{type:"fv",value:[]},EA:{type:"fv",value:[]},FA:{type:"fv1",value:[]},CA:{type:"fv1",value:[]},GA:{type:"fv1",value:[]}},vz:{Iz:{type:"c",value:new b.B(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:u},cm:{type:"f",value:2.5E-4},em:{type:"f",value:1},dm:{type:"f",value:2E3},bm:{type:"c",value:new b.B(16777215)}},Fk:{Eh:{type:"tv",value:[]},Ck:{type:"v2v",value:[]},Ei:{type:"fv1",value:[]},kg:{type:"fv1",
value:[]},Gh:{type:"m4v",value:[]}}};b.Wi={jC:{aa:b.Jd.ta([b.qb.Ml,b.qb.G,b.qb.Fk]),Y:[b.h.lp,b.h.ep,b.h.Co,b.h.sj,b.h.sm,b.h.Nk,b.h.Ik,"void main() {",b.h.mp,b.h.fp,b.h.tj,b.h.Mk,"#ifdef USE_ENVMAP",b.h.sp,b.h.Pm,b.h.ro,"#endif",b.h.tm,b.h.Om,b.h.Tl,b.h.Wm,b.h.Do,b.h.Nm,"}"].join("\n"),X:["uniform vec3 diffuse;\nuniform float opacity;",b.h.rj,b.h.kp,b.h.dp,b.h.Bo,b.h.mi,b.h.Hk,b.h.xq,"void main() {\ngl_FragColor = vec4( diffuse, opacity );",b.h.jp,b.h.El,b.h.wq,b.h.cp,b.h.qj,b.h.Ao,b.h.Gk,b.h.pm,
b.h.li,"}"].join("\n")},bE:{aa:b.Jd.ta([b.qb.Ml,b.qb.G,b.qb.Ic,b.qb.Fk,{Ua:{type:"c",value:new b.B(16777215)},Tb:{type:"c",value:new b.B(0)},Ud:{type:"v3",value:new b.c(1,1,1)}}]),Y:["#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\nvarying vec3 vLightBack;\n#endif",b.h.lp,b.h.ep,b.h.Co,b.h.ky,b.h.sj,b.h.sm,b.h.Nk,b.h.Ik,"void main() {",b.h.mp,b.h.fp,b.h.tj,b.h.sp,b.h.Mk,b.h.Pm,b.h.ro,b.h.tm,b.h.Om,b.h.Tl,b.h.Wm,b.h.Do,b.h.ly,b.h.Nm,"}"].join("\n"),X:["uniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\nvarying vec3 vLightBack;\n#endif",
b.h.rj,b.h.kp,b.h.dp,b.h.Bo,b.h.mi,b.h.Hk,b.h.xq,"void main() {\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );",b.h.jp,b.h.El,b.h.wq,"#ifdef DOUBLE_SIDED\nif ( gl_FrontFacing )\ngl_FragColor.xyz *= vLightFront;\nelse\ngl_FragColor.xyz *= vLightBack;\n#else\ngl_FragColor.xyz *= vLightFront;\n#endif",b.h.cp,b.h.qj,b.h.Ao,b.h.Gk,b.h.pm,b.h.li,"}"].join("\n")},FF:{aa:b.Jd.ta([b.qb.Ml,b.qb.yw,b.qb.xm,b.qb.G,b.qb.Ic,b.qb.Fk,{Ua:{type:"c",value:new b.B(16777215)},Tb:{type:"c",value:new b.B(0)},Qe:{type:"c",
value:new b.B(1118481)},lg:{type:"f",value:30},Ud:{type:"v3",value:new b.c(1,1,1)}}]),Y:["#define PHONG\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",b.h.lp,b.h.ep,b.h.Co,b.h.oy,b.h.sj,b.h.sm,b.h.Nk,b.h.Ik,"void main() {",b.h.mp,b.h.fp,b.h.tj,b.h.sp,b.h.Mk,b.h.Pm,b.h.ro,"vNormal = normalize( transformedNormal );",b.h.tm,b.h.Om,b.h.Tl,"vViewPosition = -mvPosition.xyz;",b.h.Wm,b.h.Do,b.h.py,b.h.Nm,"}"].join("\n"),X:["uniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 ambient;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;",
b.h.rj,b.h.kp,b.h.dp,b.h.Bo,b.h.mi,b.h.ny,b.h.Hk,b.h.zw,b.h.cz,b.h.xq,"void main() {\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );",b.h.jp,b.h.El,b.h.wq,b.h.my,b.h.cp,b.h.qj,b.h.Ao,b.h.Gk,b.h.pm,b.h.li,"}"].join("\n")},CF:{aa:b.Jd.ta([b.qb.vz,b.qb.Fk]),Y:["uniform float size;\nuniform float scale;",b.h.sj,b.h.Ik,"void main() {",b.h.tj,"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n#else\ngl_PointSize = size;\n#endif\ngl_Position = projectionMatrix * mvPosition;",
b.h.Wm,b.h.Nm,"}"].join("\n"),X:["uniform vec3 psColor;\nuniform float opacity;",b.h.rj,b.h.Ky,b.h.mi,b.h.Hk,"void main() {\ngl_FragColor = vec4( psColor, opacity );",b.h.Jy,b.h.El,b.h.qj,b.h.Gk,b.h.li,"}"].join("\n")},lD:{aa:b.Jd.ta([b.qb.Ml,b.qb.G,{scale:{type:"f",value:1},Xf:{type:"f",value:1},ZA:{type:"f",value:2}}]),Y:["uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",b.h.sj,"void main() {",b.h.tj,"vLineDistance = scale * lineDistance;\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n}"].join("\n"),
X:["uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",b.h.rj,b.h.mi,"void main() {\nif ( mod( vLineDistance, totalSize ) > dashSize ) {\ndiscard;\n}\ngl_FragColor = vec4( diffuse, opacity );",b.h.qj,b.h.li,"}"].join("\n")},depth:{aa:{zy:{type:"f",value:1},yy:{type:"f",value:2E3},opacity:{type:"f",value:1}},Y:"void main() {\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",X:"uniform float mNear;\nuniform float mFar;\nuniform float opacity;\nvoid main() {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat color = 1.0 - smoothstep( mNear, mFar, depth );\ngl_FragColor = vec4( vec3( color ), opacity );\n}"},
o:{aa:{opacity:{type:"f",value:1}},Y:"varying vec3 vNormal;\nvoid main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\nvNormal = normalize( normalMatrix * normal );\ngl_Position = projectionMatrix * mvPosition;\n}",X:"uniform float opacity;\nvarying vec3 vNormal;\nvoid main() {\ngl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\n}"},xm:{aa:b.Jd.ta([b.qb.G,b.qb.Ic,b.qb.Fk,{ls:{type:"i",value:0},ms:{type:"i",value:0},ns:{type:"i",value:0},ix:{type:"i",value:0},hx:{type:"i",
value:0},RA:{type:"t",value:u},Xt:{type:"t",value:u},Wt:{type:"t",value:u},Yt:{type:"t",value:u},Zt:{type:"t",value:u},Vt:{type:"t",value:u},hu:{type:"v2",value:new b.j(1,1)},eB:{type:"f",value:0},fB:{type:"f",value:1},gu:{type:"c",value:new b.B(16777215)},ku:{type:"c",value:new b.B(1118481)},fu:{type:"c",value:new b.B(16777215)},ju:{type:"f",value:30},iu:{type:"f",value:1},ou:{type:"i",value:0},NG:{type:"f",value:0.98},gB:{type:"f",value:0.5},MG:{type:"v2",value:new b.j(0,0)},OG:{type:"v2",value:new b.j(1,
1)},Ud:{type:"v3",value:new b.c(1,1,1)}}]),X:["uniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uSpecularColor;\nuniform float uShininess;\nuniform float uOpacity;\nuniform bool enableDiffuse;\nuniform bool enableSpecular;\nuniform bool enableAO;\nuniform bool enableReflection;\nuniform sampler2D tDiffuse;\nuniform sampler2D tNormal;\nuniform sampler2D tSpecular;\nuniform sampler2D tAO;\nuniform samplerCube tCube;\nuniform vec2 uNormalScale;\nuniform bool useRefract;\nuniform float uRefractionRatio;\nuniform float uReflectivity;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",
b.h.Hk,b.h.mi,"void main() {\ngl_FragColor = vec4( vec3( 1.0 ), uOpacity );\nvec3 specularTex = vec3( 1.0 );\nvec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\nnormalTex.xy *= uNormalScale;\nnormalTex = normalize( normalTex );\nif( enableDiffuse ) {\n#ifdef GAMMA_INPUT\nvec4 texelColor = texture2D( tDiffuse, vUv );\ntexelColor.xyz *= texelColor.xyz;\ngl_FragColor = gl_FragColor * texelColor;\n#else\ngl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );\n#endif\n}\nif( enableAO ) {\n#ifdef GAMMA_INPUT\nvec4 aoColor = texture2D( tAO, vUv );\naoColor.xyz *= aoColor.xyz;\ngl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\n#endif\n}\nif( enableSpecular )\nspecularTex = texture2D( tSpecular, vUv ).xyz;\nmat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\nvec3 finalNormal = tsb * normalTex;\n#ifdef FLIP_SIDED\nfinalNormal = -finalNormal;\n#endif\nvec3 normal = normalize( finalNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse = vec3( 0.0 );\nvec3 pointSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 pointVector = lPosition.xyz + vViewPosition.xyz;\nfloat pointDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\npointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );\npointVector = normalize( pointVector );\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );\nfloat pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );\nvec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );\n#endif\npointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;\nvec3 pointHalfVector = normalize( pointVector + viewPosition );\nfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );\npointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;\n#else\npointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvec3 spotDiffuse = vec3( 0.0 );\nvec3 spotSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 spotVector = lPosition.xyz + vViewPosition.xyz;\nfloat spotDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nspotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );\nspotVector = normalize( spotVector );\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\nif ( spotEffect > spotLightAngleCos[ i ] ) {\nspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n#ifdef WRAP_AROUND\nfloat spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );\nfloat spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );\nvec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n#else\nfloat spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );\n#endif\nspotDiffuse += spotDistance * spotLightColor[ i ] * uDiffuseColor * spotDiffuseWeight * spotEffect;\nvec3 spotHalfVector = normalize( spotVector + viewPosition );\nfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\nfloat spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );\nspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;\n#else\nspotSpecular += spotDistance * spotLightColor[ i ] * uSpecularColor * spotSpecularWeight * spotDiffuseWeight * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse = vec3( 0.0 );\nvec3 dirSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\n#ifdef WRAP_AROUND\nfloat directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );\nfloat directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );\nvec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\n#endif\ndirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;\nvec3 dirHalfVector = normalize( dirVector + viewPosition );\nfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ndirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nvec3 hemiDiffuse  = vec3( 0.0 );\nvec3 hemiSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\nvec3 lVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( normal, lVector );\nfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\nvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\nhemiDiffuse += uDiffuseColor * hemiColor;\nvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\nfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\nfloat hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, uShininess ), 0.0 );\nvec3 lVectorGround = -lVector;\nvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\nfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\nfloat hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat dotProductGround = dot( normal, lVectorGround );\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlickSky = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\nvec3 schlickGround = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\nhemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n#else\nhemiSpecular += uSpecularColor * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;\n#endif\n}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse += dirDiffuse;\ntotalSpecular += dirSpecular;\n#endif\n#if MAX_HEMI_LIGHTS > 0\ntotalDiffuse += hemiDiffuse;\ntotalSpecular += hemiSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse += pointDiffuse;\ntotalSpecular += pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\ntotalDiffuse += spotDiffuse;\ntotalSpecular += spotSpecular;\n#endif\n#ifdef METAL\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor + totalSpecular );\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor ) + totalSpecular;\n#endif\nif ( enableReflection ) {\nvec3 vReflect;\nvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\nif ( useRefract ) {\nvReflect = refract( cameraToVertex, normal, uRefractionRatio );\n} else {\nvReflect = reflect( cameraToVertex, normal );\n}\nvec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n#ifdef GAMMA_INPUT\ncubeColor.xyz *= cubeColor.xyz;\n#endif\ngl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );\n}",
b.h.Gk,b.h.pm,b.h.li,"}"].join("\n"),Y:["attribute vec4 tangent;\nuniform vec2 uOffset;\nuniform vec2 uRepeat;\nuniform bool enableDisplacement;\n#ifdef VERTEX_TEXTURES\nuniform sampler2D tDisplacement;\nuniform float uDisplacementScale;\nuniform float uDisplacementBias;\n#endif\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",b.h.Nk,b.h.Ik,"void main() {",b.h.Mk,b.h.Pm,"#ifdef USE_SKINNING\nvNormal = normalize( normalMatrix * skinnedNormal.xyz );\nvec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );\nvTangent = normalize( normalMatrix * skinnedTangent.xyz );\n#else\nvNormal = normalize( normalMatrix * normal );\nvTangent = normalize( normalMatrix * tangent.xyz );\n#endif\nvBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );\nvUv = uv * uRepeat + uOffset;\nvec3 displacedPosition;\n#ifdef VERTEX_TEXTURES\nif ( enableDisplacement ) {\nvec3 dv = texture2D( tDisplacement, uv ).xyz;\nfloat df = uDisplacementScale * dv.x + uDisplacementBias;\ndisplacedPosition = position + normalize( normal ) * df;\n} else {\n#ifdef USE_SKINNING\nvec4 skinVertex = vec4( position, 1.0 );\nvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\nskinned \t  += boneMatY * skinVertex * skinWeight.y;\ndisplacedPosition  = skinned.xyz;\n#else\ndisplacedPosition = position;\n#endif\n}\n#else\n#ifdef USE_SKINNING\nvec4 skinVertex = vec4( position, 1.0 );\nvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\nskinned \t  += boneMatY * skinVertex * skinWeight.y;\ndisplacedPosition  = skinned.xyz;\n#else\ndisplacedPosition = position;\n#endif\n#endif\nvec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );\nvec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\nvWorldPosition = worldPosition.xyz;\nvViewPosition = -mvPosition.xyz;\n#ifdef USE_SHADOWMAP\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n}\n#endif\n}"].join("\n")},
PC:{aa:{Wt:{type:"t",value:u},BG:{type:"f",value:-1}},Y:"varying vec3 vWorldPosition;\nvoid main() {\nvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\nvWorldPosition = worldPosition.xyz;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",X:"uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\nvoid main() {\ngl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n}"},js:{aa:{},Y:[b.h.sm,b.h.Nk,"void main() {",
b.h.Mk,b.h.tm,b.h.Om,b.h.Tl,"}"].join("\n"),X:"vec4 pack_depth( const in float depth ) {\nconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\nconst vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\nvec4 res = fract( depth * bit_shift );\nres -= res.xxyz * bit_mask;\nreturn res;\n}\nvoid main() {\ngl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n}"}};b.yv=function(){function a(a){var b=a.pc;if(r!==b){a.pc=r;var c,e,d=y;a=0;for(c=wa.length;a<c;a++)if(e=
wa[a],e.pc===b){e.Mq--;0===e.Mq&&(d=t);break}if(t===d){d=[];a=0;for(c=wa.length;a<c;a++)e=wa[a],e.pc!==b&&d.push(e);wa=d;k.deleteProgram(b);Z.info.memory.xt--}}}function c(b){b=b.target;b.removeEventListener("dispose",c);a(b)}function d(a){a=a.target;a.removeEventListener("dispose",d);if(a&&a.gd)if(k.deleteTexture(a.gd),a instanceof b.Dg)for(var c=0;6>c;c++)k.deleteFramebuffer(a.af[c]),k.deleteRenderbuffer(a.cf[c]);else k.deleteFramebuffer(a.af),k.deleteRenderbuffer(a.cf);Z.info.memory.Mc--}function f(a){a=
a.target;a.removeEventListener("dispose",f);a.T&&a.T.bj?k.deleteTexture(a.T.bj):a.Pf&&(a.Pf=y,k.deleteTexture(a.gd));Z.info.memory.Mc--}function g(a){a=a.target;a.removeEventListener("dispose",g);a.Pf=r;r!==a.Gb&&k.deleteBuffer(a.Gb);r!==a.bf&&k.deleteBuffer(a.bf);r!==a.wl&&k.deleteBuffer(a.wl);r!==a.ed&&k.deleteBuffer(a.ed);r!==a.yl&&k.deleteBuffer(a.yl);r!==a.xl&&k.deleteBuffer(a.xl);r!==a.ul&&k.deleteBuffer(a.ul);r!==a.vl&&k.deleteBuffer(a.vl);r!==a.rl&&k.deleteBuffer(a.rl);r!==a.sl&&k.deleteBuffer(a.sl);
r!==a.tl&&k.deleteBuffer(a.tl);if(r!==a.tb)for(var b in a.tb){var c=a.tb[b];if(r!==c.wh)for(var e=0,d=c.wh;e<d;e++)k.deleteBuffer(c.ai[e]);if(r!==c.vh){e=0;for(d=c.vh;e<d;e++)k.deleteBuffer(c.$i[e])}j(c)}j(a);Z.info.memory.Bb--}var h;function j(a){if(a.xc)for(var b in a.xc)k.deleteBuffer(a.xc[b].buffer)}function l(a,b){var c=a.g.length,e=b.z;if(e.attributes){r===a.xc&&(a.xc=[]);for(var d in e.attributes){var f=e.attributes[d];if(!f.Fn||f.Uw){f.Fn=t;var g=1;"v2"===f.type?g=2:"v3"===f.type?g=3:"v4"===
f.type?g=4:"c"===f.type&&(g=3);f.size=g;f.b=new Float32Array(c*g);f.buffer=k.createBuffer();f.buffer.Jl=d;f.va=t}a.xc.push(f)}}}function e(a,b){var c=b.s,e=a.$l,d=a.am,f=3*e.length+4*d.length,g=1*e.length+2*d.length,d=3*e.length+4*d.length,e=m(b,a),h=q(e),j=n(e),l=e.u?e.u:y;a.Of=new Float32Array(3*f);j&&(a.pl=new Float32Array(3*f));c.si&&(a.Pr=new Float32Array(4*f));l&&(a.Mf=new Float32Array(3*f));if(h){if(0<c.ge.length||0<c.R.length)a.Rr=new Float32Array(2*f);if(1<c.ge.length||1<c.R.length)a.Qr=
new Float32Array(2*f)}b.s.ng.length&&b.s.mg.length&&(a.Nr=new Float32Array(4*f),a.Or=new Float32Array(4*f));a.Gr=new Uint16Array(3*g);a.Ir=new Uint16Array(2*d);if(a.wh){a.Kr=[];c=0;for(h=a.wh;c<h;c++)a.Kr.push(new Float32Array(3*f))}if(a.vh){a.Jr=[];c=0;for(h=a.vh;c<h;c++)a.Jr.push(new Float32Array(3*f))}a.Dn=3*g;a.Gn=2*d;if(e.attributes){r===a.xc&&(a.xc=[]);for(var p in e.attributes){var g=e.attributes[p],c={},x;for(x in g)c[x]=g[x];if(!c.Fn||c.Uw)c.Fn=t,d=1,"v2"===c.type?d=2:"v3"===c.type?d=3:"v4"===
c.type?d=4:"c"===c.type&&(d=3),c.size=d,c.b=new Float32Array(f*d),c.buffer=k.createBuffer(),c.buffer.Jl=p,g.va=t,c.Iv=g;a.xc.push(c)}}a.Hr=t}function m(a,c){return a.z instanceof b.$c?a.z.Fa[c.Ta]:a.z}function n(a){return a instanceof b.pb&&!a.Aa||a instanceof b.xg?y:a&&r!==a.Pa&&a.Pa===b.Id?b.Id:b.Rh}function q(a){return a.map||a.kb||a.Cc||a.Mb||a.eb||a instanceof b.wb?t:y}function w(a){var b,c,e;for(b in a.attributes)e="index"===b?k.ELEMENT_ARRAY_BUFFER:k.ARRAY_BUFFER,c=a.attributes[b],c.buffer=
k.createBuffer(),k.bindBuffer(e,c.buffer),k.bufferData(e,c.b,k.STATIC_DRAW)}function x(a,b,c){var e=a.attributes,d=e.index,f=e.position,g=e.o,h=e.Ra,j=e.color,e=e.Xc;a.Wg&&r!==d&&(k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,d.buffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,d.b,b));a.Da&&r!==f&&(k.bindBuffer(k.ARRAY_BUFFER,f.buffer),k.bufferData(k.ARRAY_BUFFER,f.b,b));a.rd&&r!==g&&(k.bindBuffer(k.ARRAY_BUFFER,g.buffer),k.bufferData(k.ARRAY_BUFFER,g.b,b));a.Nh&&r!==h&&(k.bindBuffer(k.ARRAY_BUFFER,h.buffer),k.bufferData(k.ARRAY_BUFFER,
h.b,b));a.Wa&&r!==j&&(k.bindBuffer(k.ARRAY_BUFFER,j.buffer),k.bufferData(k.ARRAY_BUFFER,j.b,b));a.og&&r!==e&&(k.bindBuffer(k.ARRAY_BUFFER,e.buffer),k.bufferData(k.ARRAY_BUFFER,e.b,b));if(c)for(var l in a.attributes)delete a.attributes[l].b}function p(a){hb[a]||(k.enableVertexAttribArray(a),hb[a]=t)}function v(){for(var a in hb)hb[a]&&(k.disableVertexAttribArray(a),hb[a]=y)}function z(a,b){return a.a!==b.a?b.a-a.a:b.id-a.id}function s(a,b){return b[0]-a[0]}function A(a,b,c){if(a.length)for(var e=0,
d=a.length;e<d;e++)xa=ic=u,qb=ia=ab=Ca=eb=pb=vb=-1,Lc=t,a[e].t(b,c,Qb,Ba),xa=ic=u,qb=ia=ab=Ca=eb=pb=vb=-1,Lc=t}function B(a,c,e,d,f,g,h,j){var k,l,m,n;c?(l=a.length-1,n=c=-1):(l=0,c=a.length,n=1);for(var p=l;p!==c;p+=n)if(k=a[p],k.t){l=k.object;m=k.buffer;if(j)k=j;else{k=k[e];if(!k)continue;h&&Z.Ci(k.jc,k.blendEquation,k.Mg,k.Lg);Z.Ch(k.Pd);Z.wk(k.jf);U(k.polygonOffset,k.mk,k.nk)}Z.oq(k);m instanceof b.Cd?Z.aq(d,f,g,k,m,l):Z.$p(d,f,g,k,m,l)}}function W(a,b,c,e,d,f,g){for(var h,j,k=0,l=a.length;k<
l;k++)if(h=a[k],j=h.object,j.visible){if(g)h=g;else{h=h[b];if(!h)continue;f&&Z.Ci(h.jc,h.blendEquation,h.Mg,h.Lg);Z.Ch(h.Pd);Z.wk(h.jf);U(h.polygonOffset,h.mk,h.nk)}Z.bq(c,e,d,h,j)}}function L(a,b,c){a.push({buffer:b,object:c,xh:u,Za:u})}function K(a){for(var b in a.attributes)if(a.attributes[b].va)return t;return y}function F(a){for(var b in a.attributes)a.attributes[b].va=y}function N(a,b){for(var c=a.length-1;0<=c;c--)a[c].object===b&&a.splice(c,1)}function M(a,b){for(var c=a.length-1;0<=c;c--)a[c]===
b&&a.splice(c,1)}function P(c,e,d,f,g){Oa=0;f.va&&(f.pc&&a(f),Z.ay(f,e,d,g),f.va=y);f.L&&!g.aj&&(g.aj=new Float32Array(Z.bk));var h=y,j=f.pc,l=j.aa,m=f.aa;j!==ic&&(k.useProgram(j),ic=j,h=t);f.id!==qb&&(qb=f.id,h=t);if(h||c!==xa)k.uniformMatrix4fv(l.Ga,y,c.Ga.elements),c!==xa&&(xa=c);if(f.Ya)if(ea&&g.Ef){if(u!==l.Tf){var n=D();k.uniform1i(l.Tf,n);Z.yk(g.Tf,n)}}else u!==l.ww&&k.uniformMatrix4fv(l.ww,y,g.jj);if(h){d&&f.G&&(m.bm.value=d.color,d instanceof b.Li?(m.em.value=d.mb,m.dm.value=d.sb):d instanceof
b.Sh&&(m.cm.value=d.Ul));if(f instanceof b.Gd||f instanceof b.Xd||f.Ic){if(Lc){var p,q=n=0,x=0,v,w,z,s=pd,Q=s.yj.Ib,A=s.yj.oe,I=s.yh.Ib,B=s.yh.oe,K=s.yh.zj,M=s.xd.Ib,W=s.xd.oe,N=s.xd.zj,L=s.xd.ks,F=s.xd.as,R=s.xd.os,Jb=s.ih.Tt,ma=s.ih.Gs,U=s.ih.oe,X=0,ga=0,T=0,va=0,Vb=0,Da=0,ia=0,wa=0,Y=0;d=z=Y=0;for(h=e.length;d<h;d++)p=e[d],p.zm||(v=p.color,w=p.Zb,z=p.Uc,p instanceof b.Yk?p.visible&&(Z.Je?(n+=v.q*v.q,q+=v.p*v.p,x+=v.i*v.i):(n+=v.q,q+=v.p,x+=v.i)):p instanceof b.Wd?(Vb+=1,p.visible&&(ha.copy(p.H.nc()),
ha.sub(p.target.H.nc()),ha.normalize(),0===ha.x&&0===ha.y&&0===ha.a||(p=3*X,A[p]=ha.x,A[p+1]=ha.y,A[p+2]=ha.a,Z.Je?S(Q,p,v,w*w):ja(Q,p,v,w),X+=1))):p instanceof b.Xh?(Da+=1,p.visible&&(Y=3*ga,Z.Je?S(I,Y,v,w*w):ja(I,Y,v,w),w=p.H.nc(),B[Y]=w.x,B[Y+1]=w.y,B[Y+2]=w.a,K[ga]=z,ga+=1)):p instanceof b.Yh?(ia+=1,p.visible&&(Y=3*T,Z.Je?S(M,Y,v,w*w):ja(M,Y,v,w),w=p.H.nc(),W[Y]=w.x,W[Y+1]=w.y,W[Y+2]=w.a,N[T]=z,ha.copy(w),ha.sub(p.target.H.nc()),ha.normalize(),L[Y]=ha.x,L[Y+1]=ha.y,L[Y+2]=ha.a,F[T]=Math.cos(p.Nn),
R[T]=p.kx,T+=1)):p instanceof b.an&&(wa+=1,p.visible&&(ha.copy(p.H.nc()),ha.normalize(),0===ha.x&&0===ha.y&&0===ha.a||(z=3*va,U[z]=ha.x,U[z+1]=ha.y,U[z+2]=ha.a,v=p.color,p=p.Ke,Z.Je?(w*=w,S(Jb,z,v,w),S(ma,z,p,w)):(ja(Jb,z,v,w),ja(ma,z,p,w)),va+=1))));d=3*X;for(h=Math.max(Q.length,3*Vb);d<h;d++)Q[d]=0;d=3*ga;for(h=Math.max(I.length,3*Da);d<h;d++)I[d]=0;d=3*T;for(h=Math.max(M.length,3*ia);d<h;d++)M[d]=0;d=3*va;for(h=Math.max(Jb.length,3*wa);d<h;d++)Jb[d]=0;d=3*va;for(h=Math.max(ma.length,3*wa);d<h;d++)ma[d]=
0;s.yj.length=X;s.yh.length=ga;s.xd.length=T;s.ih.length=va;s.Ua[0]=n;s.Ua[1]=q;s.Ua[2]=x;Lc=y}d=pd;m.bw.value=d.Ua;m.bx.value=d.yj.Ib;m.cx.value=d.yj.oe;m.yz.value=d.yh.Ib;m.Az.value=d.yh.oe;m.zz.value=d.yh.zj;m.DA.value=d.xd.Ib;m.HA.value=d.xd.oe;m.FA.value=d.xd.zj;m.EA.value=d.xd.ks;m.CA.value=d.xd.as;m.GA.value=d.xd.os;m.Xx.value=d.ih.Tt;m.Wx.value=d.ih.Gs;m.Vx.value=d.ih.oe}if(f instanceof b.pb||f instanceof b.Xd||f instanceof b.Gd){m.opacity.value=f.opacity;Z.Je?m.Vl.value.ii(f.color):m.Vl.value=
f.color;m.map.value=f.map;m.kb.value=f.kb;m.eb.value=f.eb;f.Cc&&(m.Cc.value=f.Cc,m.gi.value=f.gi);f.Mb&&(m.Mb.value=f.Mb,m.dg.value.copy(f.dg));var Sa;f.map?Sa=f.map:f.eb?Sa=f.eb:f.Mb?Sa=f.Mb:f.Cc&&(Sa=f.Cc);r!==Sa&&(d=Sa.offset,Sa=Sa.repeat,m.iz.value.set(d.x,d.y,Sa.x,Sa.y));m.Aa.value=f.Aa;m.wx.value=f.Aa instanceof b.Dg?1:-1;m.Sd.value=f.Sd;m.re.value=f.re;m.$d.value=f.$d;m.ou.value=f.Aa&&f.Aa.oc instanceof b.Du}f instanceof b.Qc?(m.Vl.value=f.color,m.opacity.value=f.opacity):f instanceof b.ug?
(m.Vl.value=f.color,m.opacity.value=f.opacity,m.Xf.value=f.Xf,m.ZA.value=f.Xf+f.Hj,m.scale.value=f.scale):f instanceof b.zg?(m.Iz.value=f.color,m.opacity.value=f.opacity,m.size.value=f.size,m.scale.value=J.height/2,m.map.value=f.map):f instanceof b.Gd?(m.lg.value=f.lg,Z.Je?(m.Ua.value.ii(f.Ua),m.Tb.value.ii(f.Tb),m.Qe.value.ii(f.Qe)):(m.Ua.value=f.Ua,m.Tb.value=f.Tb,m.Qe.value=f.Qe),f.Ae&&m.Ud.value.copy(f.Ud)):f instanceof b.Xd?(Z.Je?(m.Ua.value.ii(f.Ua),m.Tb.value.ii(f.Tb)):(m.Ua.value=f.Ua,m.Tb.value=
f.Tb),f.Ae&&m.Ud.value.copy(f.Ud)):f instanceof b.xg?(m.zy.value=c.mb,m.yy.value=c.sb,m.opacity.value=f.opacity):f instanceof b.yg&&(m.opacity.value=f.opacity);if(g.Bi&&!f.Rf&&m.Gh){d=Sa=0;for(h=e.length;d<h;d++)if(n=e[d],n.Nd&&(n instanceof b.Yh||n instanceof b.Wd&&!n.uq))m.Eh.value[Sa]=n.Eh,m.Ck.value[Sa]=n.Ck,m.Gh.value[Sa]=n.Gh,m.kg.value[Sa]=n.kg,m.Ei.value[Sa]=n.Ei,Sa++}e=f.lu;m=0;for(Sa=e.length;m<Sa;m++)if(h=j.aa[e[m][1]])if(d=e[m][0],q=d.type,n=d.value,"i"===q)k.uniform1i(h,n);else if("f"===
q)k.uniform1f(h,n);else if("v2"===q)k.uniform2f(h,n.x,n.y);else if("v3"===q)k.uniform3f(h,n.x,n.y,n.a);else if("v4"===q)k.uniform4f(h,n.x,n.y,n.a,n.e);else if("c"===q)k.uniform3f(h,n.q,n.p,n.i);else if("iv1"===q)k.uniform1iv(h,n);else if("iv"===q)k.uniform3iv(h,n);else if("fv1"===q)k.uniform1fv(h,n);else if("fv"===q)k.uniform3fv(h,n);else if("v2v"===q){r===d.sa&&(d.sa=new Float32Array(2*n.length));q=0;for(x=n.length;q<x;q++)s=2*q,d.sa[s]=n[q].x,d.sa[s+1]=n[q].y;k.uniform2fv(h,d.sa)}else if("v3v"===
q){r===d.sa&&(d.sa=new Float32Array(3*n.length));q=0;for(x=n.length;q<x;q++)s=3*q,d.sa[s]=n[q].x,d.sa[s+1]=n[q].y,d.sa[s+2]=n[q].a;k.uniform3fv(h,d.sa)}else if("v4v"===q){r===d.sa&&(d.sa=new Float32Array(4*n.length));q=0;for(x=n.length;q<x;q++)s=4*q,d.sa[s]=n[q].x,d.sa[s+1]=n[q].y,d.sa[s+2]=n[q].a,d.sa[s+3]=n[q].e;k.uniform4fv(h,d.sa)}else if("m4"===q)r===d.sa&&(d.sa=new Float32Array(16)),n.vx(d.sa),k.uniformMatrix4fv(h,y,d.sa);else if("m4v"===q){r===d.sa&&(d.sa=new Float32Array(16*n.length));q=0;
for(x=n.length;q<x;q++)n[q].ss(d.sa,16*q);k.uniformMatrix4fv(h,y,d.sa)}else if("t"===q){if(s=n,n=D(),k.uniform1i(h,n),s)if(s.T instanceof Array&&6===s.T.length){if(d=s,h=n,6===d.T.length)if(d.va){d.T.bj||(d.T.bj=k.createTexture(),Z.info.memory.Mc++);k.activeTexture(k.TEXTURE0+h);k.bindTexture(k.TEXTURE_CUBE_MAP,d.T.bj);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,d.bh);h=d instanceof b.rg;n=[];for(q=0;6>q;q++)Z.jw&&!h?(x=n,s=q,Q=d.T[q],I=Uc,Q.width<=I&&Q.height<=I||(B=Math.max(Q.width,Q.height),A=Math.floor(Q.width*
I/B),I=Math.floor(Q.height*I/B),B=document.createElement("canvas"),B.width=A,B.height=I,B.getContext("2d").drawImage(Q,0,0,Q.width,Q.height,0,0,A,I),Q=B),x[s]=Q):n[q]=d.T[q];q=n[0];x=0===(q.width&q.width-1)&&0===(q.height&q.height-1);s=Va(d.Ba);Q=Va(d.type);V(k.TEXTURE_CUBE_MAP,d,x);for(q=0;6>q;q++)if(h){I=n[q].Kc;B=0;for(K=I.length;B<K;B++)A=I[B],k.compressedTexImage2D(k.TEXTURE_CUBE_MAP_POSITIVE_X+q,B,s,A.width,A.height,0,A.data)}else k.texImage2D(k.TEXTURE_CUBE_MAP_POSITIVE_X+q,0,s,s,Q,n[q]);d.Vb&&
x&&k.generateMipmap(k.TEXTURE_CUBE_MAP);d.va=y;d.ym&&d.ym()}else k.activeTexture(k.TEXTURE0+h),k.bindTexture(k.TEXTURE_CUBE_MAP,d.T.bj)}else s instanceof b.Dg?(d=s,k.activeTexture(k.TEXTURE0+n),k.bindTexture(k.TEXTURE_CUBE_MAP,d.gd)):Z.yk(s,n)}else if("tv"===q){r===d.sa&&(d.sa=[]);q=0;for(x=d.value.length;q<x;q++)d.sa[q]=D();k.uniform1iv(h,d.sa);q=0;for(x=d.value.length;q<x;q++)s=d.value[q],n=d.sa[q],s&&Z.yk(s,n)}if((f instanceof b.wb||f instanceof b.Gd||f.Aa)&&u!==l.Aw)e=c.H.nc(),k.uniform3f(l.Aw,
e.x,e.y,e.a);(f instanceof b.Gd||f instanceof b.Xd||f instanceof b.wb||f.Ya)&&u!==l.qB&&k.uniformMatrix4fv(l.qB,y,c.lb.elements)}k.uniformMatrix4fv(l.ht,y,g.De.elements);l.bz&&k.uniformMatrix3fv(l.bz,y,g.In.elements);u!==l.Ry&&k.uniformMatrix4fv(l.Ry,y,g.H.elements);return j}function D(){var a=Oa;a>=Tc&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+Tc);Oa+=1;return a}function X(a,b){a.De.cb(b.lb,a.H);a.In.Wb(a.De);a.In.pg()}function S(a,b,c,e){a[b]=
c.q*c.q*e;a[b+1]=c.p*c.p*e;a[b+2]=c.i*c.i*e}function ja(a,b,c,e){a[b]=c.q*e;a[b+1]=c.p*e;a[b+2]=c.i*e}function U(a,b,c){fb!==a&&(a?k.enable(k.POLYGON_OFFSET_FILL):k.disable(k.POLYGON_OFFSET_FILL),fb=a);if(a&&(rc!==b||Lb!==c))k.polygonOffset(b,c),rc=b,Lb=c}function ga(a){a=a.split("\n");for(var b=0,c=a.length;b<c;b++)a[b]=b+1+": "+a[b];return a.join("\n")}function T(a,b){var c;"fragment"===a?c=k.createShader(k.FRAGMENT_SHADER):"vertex"===a&&(c=k.createShader(k.VERTEX_SHADER));k.shaderSource(c,b);k.compileShader(c);
return!k.getShaderParameter(c,k.COMPILE_STATUS)?(console.error(k.getShaderInfoLog(c)),console.error(ga(b)),u):c}function V(a,c,e){e?(k.texParameteri(a,k.TEXTURE_WRAP_S,Va(c.Ad)),k.texParameteri(a,k.TEXTURE_WRAP_T,Va(c.Bd)),k.texParameteri(a,k.TEXTURE_MAG_FILTER,Va(c.Jc)),k.texParameteri(a,k.TEXTURE_MIN_FILTER,Va(c.ac))):(k.texParameteri(a,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(a,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(a,k.TEXTURE_MAG_FILTER,Ra(c.Jc)),k.texParameteri(a,k.TEXTURE_MIN_FILTER,
Ra(c.ac)));if(fc&&c.type!==b.$m&&(1<c.Tc||c.Hv))k.texParameterf(a,fc.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.Tc,Nc)),c.Hv=c.Tc}function Aa(a,b){k.bindRenderbuffer(k.RENDERBUFFER,a);b.He&&!b.Re?(k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,b.width,b.height),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_ATTACHMENT,k.RENDERBUFFER,a)):b.He&&b.Re?(k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,b.width,b.height),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_STENCIL_ATTACHMENT,k.RENDERBUFFER,
a)):k.renderbufferStorage(k.RENDERBUFFER,k.RGBA4,b.width,b.height)}function Ra(a){return a===b.Wh||a===b.er||a===b.dr?k.NEAREST:k.LINEAR}function Va(a){if(a===b.Ze)return k.REPEAT;if(a===b.Ii)return k.CLAMP_TO_EDGE;if(a===b.kn)return k.MIRRORED_REPEAT;if(a===b.Wh)return k.NEAREST;if(a===b.er)return k.NEAREST_MIPMAP_NEAREST;if(a===b.dr)return k.NEAREST_MIPMAP_LINEAR;if(a===b.vg)return k.LINEAR;if(a===b.Ru)return k.LINEAR_MIPMAP_NEAREST;if(a===b.hn)return k.LINEAR_MIPMAP_LINEAR;if(a===b.un)return k.UNSIGNED_BYTE;
if(a===b.uv)return k.UNSIGNED_SHORT_4_4_4_4;if(a===b.vv)return k.UNSIGNED_SHORT_5_5_5_1;if(a===b.wv)return k.UNSIGNED_SHORT_5_6_5;if(a===b.xu)return k.BYTE;if(a===b.gv)return k.SHORT;if(a===b.xv)return k.UNSIGNED_SHORT;if(a===b.Ou)return k.INT;if(a===b.tv)return k.UNSIGNED_INT;if(a===b.$m)return k.FLOAT;if(a===b.tu)return k.ALPHA;if(a===b.mn)return k.RGB;if(a===b.Ui)return k.RGBA;if(a===b.Tu)return k.LUMINANCE;if(a===b.Su)return k.LUMINANCE_ALPHA;if(a===b.Sq)return k.FUNC_ADD;if(a===b.mv)return k.FUNC_SUBTRACT;
if(a===b.ev)return k.FUNC_REVERSE_SUBTRACT;if(a===b.Av)return k.ZERO;if(a===b.Yu)return k.ONE;if(a===b.kv)return k.SRC_COLOR;if(a===b.av)return k.ONE_MINUS_SRC_COLOR;if(a===b.wr)return k.SRC_ALPHA;if(a===b.gr)return k.ONE_MINUS_SRC_ALPHA;if(a===b.Iu)return k.DST_ALPHA;if(a===b.Zu)return k.ONE_MINUS_DST_ALPHA;if(a===b.Ju)return k.DST_COLOR;if(a===b.$u)return k.ONE_MINUS_DST_COLOR;if(a===b.jv)return k.SRC_ALPHA_SATURATE;if(r!==Hb){if(a===b.pr)return Hb.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===b.cv)return Hb.COMPRESSED_RGBA_S3TC_DXT1_EXT;
if(a===b.nr)return Hb.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===b.or)return Hb.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}console.log("THREE.WebGLRenderer",b.mr);h=h||{};var J=r!==h.canvas?h.canvas:document.createElement("canvas"),I=r!==h.precision?h.precision:"highp",lb=r!==h.alpha?h.alpha:t,db=r!==h.premultipliedAlpha?h.premultipliedAlpha:t,R=r!==h.antialias?h.antialias:y,va=r!==h.stencil?h.stencil:t,Wa=r!==h.preserveDrawingBuffer?h.preserveDrawingBuffer:y,Da=r!==h.clearColor?new b.B(h.clearColor):new b.B(0),
$a=r!==h.Fw?h.Fw:0;this.ee=J;this.na=u;this.devicePixelRatio=r!==h.devicePixelRatio?h.devicePixelRatio:r!==window.devicePixelRatio?window.devicePixelRatio:1;this.Sn=this.lw=this.Qm=this.iw=this.hw=this.gw=this.Il=t;this.Fh=this.vt=this.us=this.Je=y;this.rA=t;this.Dk=b.hr;this.Ot=b.cl;this.Lm=this.Mm=y;this.bk=8;this.rm=4;this.jw=t;this.Bt=[];this.At=[];this.info={memory:{xt:0,Bb:0,Mc:0},t:{ff:0,g:0,l:0,S:0}};var Z=this,wa=[],Ka=0,ic=u,Xa=u,qb=-1,ia=u,xa=u,za=0,Oa=0,Ca=-1,ab=-1,vb=-1,gb=-1,$b=-1,dc=
-1,pb=-1,eb=-1,fb=u,rc=u,Lb=u,Eb=u,qa=0,wb=0,cb=0,rb=0,Qb=0,Ba=0,hb={},xb=new b.Th,ec=new b.O,nc=new b.O,Kc=new b.c,ha=new b.c,Lc=t,pd={Ua:[0,0,0],yj:{length:0,Ib:[],oe:[]},yh:{length:0,Ib:[],oe:[],zj:[]},xd:{length:0,Ib:[],oe:[],zj:[],ks:[],as:[],os:[]},ih:{length:0,Tt:[],Gs:[],oe:[]}},k,yb,Mc,fc,Hb;try{(k=J.getContext("experimental-webgl",{alpha:lb,premultipliedAlpha:db,antialias:R,stencil:va,preserveDrawingBuffer:Wa}))||sa("Error creating WebGL context.")}catch(Sc){console.error(Sc)}yb=k.getExtension("OES_texture_float");
Mc=k.getExtension("OES_standard_derivatives");fc=k.getExtension("EXT_texture_filter_anisotropic")||k.getExtension("MOZ_EXT_texture_filter_anisotropic")||k.getExtension("WEBKIT_EXT_texture_filter_anisotropic");Hb=k.getExtension("WEBGL_compressed_texture_s3tc")||k.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||k.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");yb||console.log("THREE.WebGLRenderer: Float textures not supported.");Mc||console.log("THREE.WebGLRenderer: Standard derivatives not supported.");
fc||console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported.");Hb||console.log("THREE.WebGLRenderer: S3TC compressed textures not supported.");k.clearColor(0,0,0,1);k.clearDepth(1);k.clearStencil(0);k.enable(k.DEPTH_TEST);k.depthFunc(k.LEQUAL);k.frontFace(k.CCW);k.cullFace(k.BACK);k.enable(k.CULL_FACE);k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA);k.clearColor(Da.q,Da.p,Da.i,$a);this.na=k;var Tc=k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS),
Uc=k.getParameter(k.MAX_CUBE_MAP_TEXTURE_SIZE),Nc=fc?k.getParameter(fc.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,wc=0<k.getParameter(k.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ea=wc&&yb,lb=k.getShaderPrecisionFormat(k.FRAGMENT_SHADER,k.HIGH_FLOAT);h=k.getShaderPrecisionFormat(k.FRAGMENT_SHADER,k.MEDIUM_FLOAT);lb=0<k.getShaderPrecisionFormat(k.VERTEX_SHADER,k.HIGH_FLOAT).precision&&0<lb.precision;h=0<k.getShaderPrecisionFormat(k.VERTEX_SHADER,k.MEDIUM_FLOAT).precision&&0<h.precision;"highp"===I&&!lb&&(h?(I="mediump",
console.warn("WebGLRenderer: highp not supported, using mediump")):(I="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp")));"mediump"===I&&!h&&(I="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp"));this.getContext=function(){return k};this.PA=function(){return wc};this.zG=function(){return yb};this.AG=function(){return Mc};this.yG=function(){return Hb};this.Ix=function(){return Nc};this.Cs=function(){return I};this.xk=function(a,b){J.width=a*this.devicePixelRatio;
J.height=b*this.devicePixelRatio;J.style.width=a+"px";J.style.height=b+"px";this.Kt(J.width,J.height)};this.Kt=function(a,b){wb=qa=0;cb=r!==a?a:J.width;rb=r!==b?b:J.height;k.viewport(qa,wb,cb,rb)};this.kG=function(a,b,c,e){k.scissor(a,b,c,e)};this.tD=function(a){a?k.enable(k.SCISSOR_TEST):k.disable(k.SCISSOR_TEST)};this.bA=function(a,b){Da.Wc(a);$a=b;k.clearColor(Da.q,Da.p,Da.i,$a)};this.aA=function(a,b){Da.copy(a);$a=b;k.clearColor(Da.q,Da.p,Da.i,$a)};this.ys=function(){return Da};this.xs=function(){return $a};
this.clear=function(a,b,c){var e=0;if(r===a||a)e|=k.COLOR_BUFFER_BIT;if(r===b||b)e|=k.DEPTH_BUFFER_BIT;if(r===c||c)e|=k.STENCIL_BUFFER_BIT;k.clear(e)};this.GC=function(a,b,c,e){this.Im(a);this.clear(b,c,e)};this.Yr=function(a){a.Ca(this);this.At.push(a)};this.Yv=function(a){a.Ca(this);this.Bt.push(a)};this.QG=function(a,b){ic=u;qb=ia=eb=pb=vb=-1;Lc=t;ab=Ca=-1;this.Pt.update(a,b)};this.Oz=function(a,c,e){a.Sx&&!a.Gb&&(a.Gb=k.createBuffer());a.Rx&&!a.bf&&(a.bf=k.createBuffer());a.Ux&&!a.Ur&&(a.Ur=k.createBuffer());
a.Qx&&!a.ed&&(a.ed=k.createBuffer());a.Sx&&(k.bindBuffer(k.ARRAY_BUFFER,a.Gb),k.bufferData(k.ARRAY_BUFFER,a.JF,k.DYNAMIC_DRAW),k.enableVertexAttribArray(c.attributes.position),k.vertexAttribPointer(c.attributes.position,3,k.FLOAT,y,0,0));if(a.Rx){k.bindBuffer(k.ARRAY_BUFFER,a.bf);if(e.Pa===b.Rh){var d,f,g,h,j,l,m,n,q,p,x,w=3*a.count;for(x=0;x<w;x+=9)p=a.az,d=p[x],f=p[x+1],g=p[x+2],h=p[x+3],l=p[x+4],n=p[x+5],j=p[x+6],m=p[x+7],q=p[x+8],d=(d+h+j)/3,f=(f+l+m)/3,g=(g+n+q)/3,p[x]=d,p[x+1]=f,p[x+2]=g,p[x+
3]=d,p[x+4]=f,p[x+5]=g,p[x+6]=d,p[x+7]=f,p[x+8]=g}k.bufferData(k.ARRAY_BUFFER,a.az,k.DYNAMIC_DRAW);k.enableVertexAttribArray(c.attributes.o);k.vertexAttribPointer(c.attributes.o,3,k.FLOAT,y,0,0)}a.Ux&&e.map&&(k.bindBuffer(k.ARRAY_BUFFER,a.Ur),k.bufferData(k.ARRAY_BUFFER,a.SG,k.DYNAMIC_DRAW),k.enableVertexAttribArray(c.attributes.Ra),k.vertexAttribPointer(c.attributes.Ra,2,k.FLOAT,y,0,0));a.Qx&&e.u!==b.Qi&&(k.bindBuffer(k.ARRAY_BUFFER,a.ed),k.bufferData(k.ARRAY_BUFFER,a.HC,k.DYNAMIC_DRAW),k.enableVertexAttribArray(c.attributes.color),
k.vertexAttribPointer(c.attributes.color,3,k.FLOAT,y,0,0));k.drawArrays(k.TRIANGLES,0,a.count);a.count=0};this.aq=function(a,c,e,d,f,g){if(y!==d.visible)if(e=P(a,c,e,d,g),a=e.attributes,c=y,d=16777215*f.id+2*e.id+(d.Z?1:0),d!==ia&&(ia=d,c=t),c&&v(),g instanceof b.ba)if(g=f.attributes.index){d=f.Dp;1<d.length&&(c=t);e=0;for(var h=d.length;e<h;e++){var j=d[e].index;if(c){var l=f.attributes.position,m=l.Hc;k.bindBuffer(k.ARRAY_BUFFER,l.buffer);p(a.position);k.vertexAttribPointer(a.position,m,k.FLOAT,
y,0,4*j*m);m=f.attributes.o;if(0<=a.o&&m){var n=m.Hc;k.bindBuffer(k.ARRAY_BUFFER,m.buffer);p(a.o);k.vertexAttribPointer(a.o,n,k.FLOAT,y,0,4*j*n)}m=f.attributes.Ra;0<=a.Ra&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.Ra),k.vertexAttribPointer(a.Ra,n,k.FLOAT,y,0,4*j*n));m=f.attributes.color;0<=a.color&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.color),k.vertexAttribPointer(a.color,n,k.FLOAT,y,0,4*j*n));m=f.attributes.Xc;0<=a.Xc&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.Xc),
k.vertexAttribPointer(a.Xc,n,k.FLOAT,y,0,4*j*n));k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,g.buffer)}k.drawElements(k.TRIANGLES,d[e].count,k.UNSIGNED_SHORT,2*d[e].start);Z.info.t.ff++;Z.info.t.g+=d[e].count;Z.info.t.l+=d[e].count/3}}else c&&(l=f.attributes.position,m=l.Hc,k.bindBuffer(k.ARRAY_BUFFER,l.buffer),p(a.position),k.vertexAttribPointer(a.position,m,k.FLOAT,y,0,0),m=f.attributes.o,0<=a.o&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.o),k.vertexAttribPointer(a.o,n,k.FLOAT,y,0,0)),m=f.attributes.Ra,
0<=a.Ra&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.Ra),k.vertexAttribPointer(a.Ra,n,k.FLOAT,y,0,0)),m=f.attributes.color,0<=a.color&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.color),k.vertexAttribPointer(a.color,n,k.FLOAT,y,0,0)),m=f.attributes.Xc,0<=a.Xc&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.Xc),k.vertexAttribPointer(a.Xc,n,k.FLOAT,y,0,0))),k.drawArrays(k.TRIANGLES,0,l.eg/3),Z.info.t.ff++,Z.info.t.g+=l.eg/3,Z.info.t.l+=l.eg/3/3;else g instanceof b.ad?c&&(l=f.attributes.position,
m=l.Hc,k.bindBuffer(k.ARRAY_BUFFER,l.buffer),p(a.position),k.vertexAttribPointer(a.position,m,k.FLOAT,y,0,0),m=f.attributes.color,0<=a.color&&m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.color),k.vertexAttribPointer(a.color,n,k.FLOAT,y,0,0)),k.drawArrays(k.POINTS,0,l.eg/3),Z.info.t.ff++,Z.info.t.S+=l.eg/3):g instanceof b.fb&&c&&(l=f.attributes.position,m=l.Hc,k.bindBuffer(k.ARRAY_BUFFER,l.buffer),p(a.position),k.vertexAttribPointer(a.position,m,k.FLOAT,y,0,0),m=f.attributes.color,0<=a.color&&
m&&(n=m.Hc,k.bindBuffer(k.ARRAY_BUFFER,m.buffer),p(a.color),k.vertexAttribPointer(a.color,n,k.FLOAT,y,0,0)),k.drawArrays(k.LINE_STRIP,0,l.eg/3),Z.info.t.ff++,Z.info.t.S+=l.eg)};this.$p=function(a,c,e,d,f,g){if(y!==d.visible){var h,j;e=P(a,c,e,d,g);c=e.attributes;a=y;e=16777215*f.id+2*e.id+(d.Z?1:0);e!==ia&&(ia=e,a=t);a&&v();if(!d.L&&0<=c.position)a&&(k.bindBuffer(k.ARRAY_BUFFER,f.Gb),p(c.position),k.vertexAttribPointer(c.position,3,k.FLOAT,y,0,0));else if(g.qp){e=d.pc.attributes;-1!==g.qp&&0<=e.position?
(k.bindBuffer(k.ARRAY_BUFFER,f.ai[g.qp]),p(e.position),k.vertexAttribPointer(e.position,3,k.FLOAT,y,0,0)):0<=e.position&&(k.bindBuffer(k.ARRAY_BUFFER,f.Gb),p(e.position),k.vertexAttribPointer(e.position,3,k.FLOAT,y,0,0));if(g.it.length){var l=0;j=g.it;for(h=g.le;l<d.gk&&l<j.length;)0<=e["morphTarget"+l]&&(k.bindBuffer(k.ARRAY_BUFFER,f.ai[j[l]]),p(e["morphTarget"+l]),k.vertexAttribPointer(e["morphTarget"+l],3,k.FLOAT,y,0,0)),0<=e["morphNormal"+l]&&d.ya&&(k.bindBuffer(k.ARRAY_BUFFER,f.$i[j[l]]),p(e["morphNormal"+
l]),k.vertexAttribPointer(e["morphNormal"+l],3,k.FLOAT,y,0,0)),g.aj[l]=h[j[l]],l++}else{j=[];h=g.le;var m,n=h.length;for(m=0;m<n;m++)l=h[m],0<l&&j.push([l,m]);j.length>d.gk?(j.sort(s),j.length=d.gk):j.length>d.ot?j.sort(s):0===j.length&&j.push([0,0]);for(l=0;l<d.gk;)j[l]?(m=j[l][1],0<=e["morphTarget"+l]&&(k.bindBuffer(k.ARRAY_BUFFER,f.ai[m]),p(e["morphTarget"+l]),k.vertexAttribPointer(e["morphTarget"+l],3,k.FLOAT,y,0,0)),0<=e["morphNormal"+l]&&d.ya&&(k.bindBuffer(k.ARRAY_BUFFER,f.$i[m]),p(e["morphNormal"+
l]),k.vertexAttribPointer(e["morphNormal"+l],3,k.FLOAT,y,0,0)),g.aj[l]=h[m]):g.aj[l]=0,l++}u!==d.pc.aa.le&&k.uniform1fv(d.pc.aa.le,g.aj)}if(a){if(f.xc){h=0;for(j=f.xc.length;h<j;h++)e=f.xc[h],0<=c[e.buffer.Jl]&&(k.bindBuffer(k.ARRAY_BUFFER,e.buffer),p(c[e.buffer.Jl]),k.vertexAttribPointer(c[e.buffer.Jl],e.size,k.FLOAT,y,0,0))}0<=c.color&&(k.bindBuffer(k.ARRAY_BUFFER,f.ed),p(c.color),k.vertexAttribPointer(c.color,3,k.FLOAT,y,0,0));0<=c.o&&(k.bindBuffer(k.ARRAY_BUFFER,f.bf),p(c.o),k.vertexAttribPointer(c.o,
3,k.FLOAT,y,0,0));0<=c.Xc&&(k.bindBuffer(k.ARRAY_BUFFER,f.wl),p(c.Xc),k.vertexAttribPointer(c.Xc,4,k.FLOAT,y,0,0));0<=c.Ra&&(k.bindBuffer(k.ARRAY_BUFFER,f.yl),p(c.Ra),k.vertexAttribPointer(c.Ra,2,k.FLOAT,y,0,0));0<=c.pu&&(k.bindBuffer(k.ARRAY_BUFFER,f.xl),p(c.pu),k.vertexAttribPointer(c.pu,2,k.FLOAT,y,0,0));d.Ya&&0<=c.Rt&&0<=c.St&&(k.bindBuffer(k.ARRAY_BUFFER,f.ul),p(c.Rt),k.vertexAttribPointer(c.Rt,4,k.FLOAT,y,0,0),k.bindBuffer(k.ARRAY_BUFFER,f.vl),p(c.St),k.vertexAttribPointer(c.St,4,k.FLOAT,y,
0,0));0<=c.Ss&&(k.bindBuffer(k.ARRAY_BUFFER,f.tl),p(c.Ss),k.vertexAttribPointer(c.Ss,1,k.FLOAT,y,0,0))}g instanceof b.ba?(d.Z?(d=d.Ia,d!==Eb&&(k.lineWidth(d),Eb=d),a&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,f.sl),k.drawElements(k.LINES,f.Gn,k.UNSIGNED_SHORT,0)):(a&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,f.rl),k.drawElements(k.TRIANGLES,f.Dn,k.UNSIGNED_SHORT,0)),Z.info.t.ff++,Z.info.t.g+=f.Dn,Z.info.t.l+=f.Dn/3):g instanceof b.fb?(g=g.type===b.cr?k.LINE_STRIP:k.LINES,d=d.ag,d!==Eb&&(k.lineWidth(d),Eb=d),
k.drawArrays(g,0,f.Gn),Z.info.t.ff++):g instanceof b.ad?(k.drawArrays(k.POINTS,0,f.Tr),Z.info.t.ff++,Z.info.t.S+=f.Tr):g instanceof b.Kf&&(k.drawArrays(k.TRIANGLE_STRIP,0,f.Mv),Z.info.t.ff++)}};this.t=function(a,c,e,d){if(y===c instanceof b.Yc)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var f,g,h,j,l=a.dd,m=a.G;qb=-1;Lc=t;this.Sn&&a.Oc();r===c.parent&&c.Oc();c.lb.Wb(c.H);ec.cb(c.Ga,c.lb);xb.Hm(ec);this.lw&&this.cy(a);A(this.Bt,a,c);Z.info.t.ff=0;Z.info.t.g=
0;Z.info.t.l=0;Z.info.t.S=0;this.Im(e);(this.Il||d)&&this.clear(this.gw,this.hw,this.iw);j=a.fd;d=0;for(f=j.length;d<f;d++)if(g=j[d],h=g.object,g.t=y,h.visible&&(!(h instanceof b.ba||h instanceof b.ad)||!h.fh||xb.mm(h))){X(h,c);var n=g,p=n.buffer,q=r,x=r,x=n.object.z;if(x instanceof b.$c)q=p.Ta,q=x.Fa[q],q.Za?(n.Za=q,n.xh=u):(n.xh=q,n.Za=u);else if(q=x)q.Za?(n.Za=q,n.xh=u):(n.xh=q,n.Za=u);g.t=t;t===this.Qm&&(u!==h.Oe?g.a=h.Oe:(Kc.copy(h.H.nc()),Kc.Fe(ec),g.a=Kc.a),g.id=h.id)}this.Qm&&j.sort(z);j=
a.Qf;d=0;for(f=j.length;d<f;d++)g=j[d],h=g.object,h.visible&&(X(h,c),h=g.object.z,h.Za?(g.Za=h,g.xh=u):(g.xh=h,g.Za=u));a.st?(d=a.st,this.Ci(d.jc,d.blendEquation,d.Mg,d.Lg),this.Ch(d.Pd),this.wk(d.jf),U(d.polygonOffset,d.mk,d.nk),B(a.fd,y,"",c,l,m,t,d),W(a.Qf,"",c,l,m,y,d)):(d=u,this.Ci(b.fr),B(a.fd,t,"opaque",c,l,m,y,d),W(a.Qf,"opaque",c,l,m,y,d),B(a.fd,y,"transparent",c,l,m,t,d),W(a.Qf,"transparent",c,l,m,t,d));A(this.At,a,c);e&&e.Vb&&(e.ac!==b.Wh&&e.ac!==b.vg)&&(e instanceof b.Dg?(k.bindTexture(k.TEXTURE_CUBE_MAP,
e.gd),k.generateMipmap(k.TEXTURE_CUBE_MAP),k.bindTexture(k.TEXTURE_CUBE_MAP,u)):(k.bindTexture(k.TEXTURE_2D,e.gd),k.generateMipmap(k.TEXTURE_2D),k.bindTexture(k.TEXTURE_2D,u)));this.Ch(t);this.wk(t)}};this.bq=function(a,b,c,e,d){var f=P(a,b,c,e,d);ia=-1;Z.oq(e);d.Uo?d.Uo(f,k,xb):d.t(function(a){Z.Oz(a,f,e)})};this.cy=function(a){for(a.fd||(a.fd=[],a.Qf=[],a.Hn=[],a.En=[]);a.Zh.length;){var c=a.Zh[0],d=a,f=r,h=r,j=r,p=r;if(!c.Pf)if(c.Pf=t,c.De=new b.O,c.In=new b.Fd,r!==c.s&&r===c.s.Pf&&(c.s.Pf=t,c.s.addEventListener("dispose",
g)),c instanceof b.ba)if(h=c.s,j=c.z,h instanceof b.Q){if(r===h.tb){var v=h,z=r,A=r,I=r,D=r,B=r,J=r,W={},R=v.L.length,S=v.ya.length,Jb=j instanceof b.$c;v.tb={};z=0;for(A=v.l.length;z<A;z++)I=v.l[z],D=Jb?I.Ta:0,r===W[D]&&(W[D]={hash:D,Ql:0}),J=W[D].hash+"_"+W[D].Ql,r===v.tb[J]&&(v.tb[J]={$l:[],am:[],Ta:D,g:0,wh:R,vh:S}),B=I instanceof b.ja?3:4,65535<v.tb[J].g+B&&(W[D].Ql+=1,J=W[D].hash+"_"+W[D].Ql,r===v.tb[J]&&(v.tb[J]={$l:[],am:[],Ta:D,g:0,wh:R,vh:S})),I instanceof b.ja?v.tb[J].$l.push(z):v.tb[J].am.push(z),
v.tb[J].g+=B;v.Jo=[];var U=r;for(U in v.tb)v.tb[U].id=za++,v.Jo.push(v.tb[U])}for(f in h.tb)if(p=h.tb[f],!p.Gb){var P=p;P.Gb=k.createBuffer();P.bf=k.createBuffer();P.wl=k.createBuffer();P.ed=k.createBuffer();P.yl=k.createBuffer();P.xl=k.createBuffer();P.ul=k.createBuffer();P.vl=k.createBuffer();P.rl=k.createBuffer();P.sl=k.createBuffer();var X=r,ga=r;if(P.wh){P.ai=[];X=0;for(ga=P.wh;X<ga;X++)P.ai.push(k.createBuffer())}if(P.vh){P.$i=[];X=0;for(ga=P.vh;X<ga;X++)P.$i.push(k.createBuffer())}Z.info.memory.Bb++;
e(p,c);h.Da=t;h.rp=t;h.Wg=t;h.Nh=t;h.rd=t;h.og=t;h.Wa=t}}else h instanceof b.Cd&&w(h);else if(c instanceof b.Kf){if(h=c.s,!h.Gb){var T=h;T.Gb=k.createBuffer();T.ed=k.createBuffer();T.bf=k.createBuffer();Z.info.memory.Bb++;var ja=h,va=c,V=ja.g.length;ja.Of=new Float32Array(3*V);ja.Mf=new Float32Array(3*V);ja.pl=new Float32Array(3*V);ja.Mv=V;l(ja,va);h.Da=t;h.Wa=t;h.rd=t}}else if(c instanceof b.fb){if(h=c.s,!h.Gb)if(h instanceof b.Q){var Vb=h;Vb.Gb=k.createBuffer();Vb.ed=k.createBuffer();Vb.tl=k.createBuffer();
Z.info.memory.Bb++;var ea=h,ha=c,Sa=ea.g.length;ea.Of=new Float32Array(3*Sa);ea.Mf=new Float32Array(3*Sa);ea.Fv=new Float32Array(1*Sa);ea.Gn=Sa;l(ea,ha);h.Da=t;h.Wa=t;h.om=t}else h instanceof b.Cd&&w(h)}else if(c instanceof b.ad&&(h=c.s,!h.Gb))if(h instanceof b.Q){var Da=h;Da.Gb=k.createBuffer();Da.ed=k.createBuffer();Z.info.memory.Bb++;var ia=h,Ea=c,wa=ia.g.length;ia.Of=new Float32Array(3*wa);ia.Mf=new Float32Array(3*wa);ia.Kv=[];ia.Tr=wa;l(ia,Ea);h.Da=t;h.Wa=t}else h instanceof b.Cd&&w(h);if(!c.Sr){if(c instanceof
b.ba)if(h=c.s,h instanceof b.Cd)L(d.fd,h,c);else{if(h instanceof b.Q)for(f in h.tb)p=h.tb[f],L(d.fd,p,c)}else c instanceof b.Kf||c instanceof b.fb||c instanceof b.ad?(h=c.s,L(d.fd,h,c)):c instanceof b.dn||c.Uo?d.Qf.push({object:c,xh:u,Za:u}):c instanceof b.Bg?d.Hn.push(c):c instanceof b.Oi&&d.En.push(c);c.Sr=t}a.Zh.splice(0,1)}for(;a.$h.length;){var Wa=a.$h[0],$a=a;Wa instanceof b.ba||Wa instanceof b.ad||Wa instanceof b.Kf||Wa instanceof b.fb?N($a.fd,Wa):Wa instanceof b.Bg?M($a.Hn,Wa):Wa instanceof
b.Oi?M($a.En,Wa):(Wa instanceof b.dn||Wa.Uo)&&N($a.Qf,Wa);Wa.Sr=y;a.$h.splice(0,1)}for(var Xa=0,Ba=a.fd.length;Xa<Ba;Xa++){var qa=a.fd[Xa].object,Y=qa.s,Aa=r,xa=r,Ka=r;if(qa instanceof b.ba)if(Y instanceof b.Cd)(Y.Da||Y.Wg||Y.Nh||Y.rd||Y.Wa||Y.og)&&x(Y,k.DYNAMIC_DRAW,!Y.Aj),Y.Da=y,Y.Wg=y,Y.Nh=y,Y.rd=y,Y.Wa=y,Y.og=y;else{for(var Oa=0,nb=Y.Jo.length;Oa<nb;Oa++)if(Aa=Y.Jo[Oa],Ka=m(qa,Aa),Y.cs&&e(Aa,qa),xa=Ka.attributes&&K(Ka),Y.Da||Y.rp||Y.Wg||Y.Nh||Y.rd||Y.Wa||Y.og||xa){var Fa=Aa,Va=qa,Ca=k.DYNAMIC_DRAW,
eb=!Y.Aj,Ra=Ka;if(Fa.Hr){var qb=n(Ra),db=Ra.u?Ra.u:y,gb=q(Ra),ic=qb===b.Id,O=r,fa=r,cb=r,$=r,hb=r,fb=r,ab=r,wb=r,lb=r,yb=r,Jc=r,aa=r,ba=r,ca=r,ya=r,pb=r,rb=r,vb=r,Lb=r,Ya=r,xb=r,jc=r,Qb=r,Bb=r,Ja=r,Kb=r,cc=r,kc=r,Eb=r,qc=r,$b=r,sc=r,Hb=r,Zb=r,dc=r,Ia=r,rc=r,yc=r,Pb=r,fc=r,Fb=r,Mc=r,Db=r,zb=r,Oc=r,Fc=r,Ga=0,Pa=0,Gc=0,Hc=0,oc=0,Mb=0,Za=0,Sb=0,sb=0,ka=0,ua=0,G=0,Ta=r,Cb=Fa.Of,wc=Fa.Rr,Wc=Fa.Qr,pc=Fa.pl,Ua=Fa.Pr,Gb=Fa.Mf,Ha=Fa.Nr,bb=Fa.Or,Lc=Fa.Kr,Xc=Fa.Jr,Dc=Fa.xc,C=r,zc=Fa.Gr,hc=Fa.Ir,ac=Va.s,Rc=ac.Wg,
xc=ac.Nh,xd=ac.rd,H=ac.og,Qa=ac.Wa,lc=ac.rp,rd=ac.g,Ma=Fa.$l,ta=Fa.am,Yb=ac.l,ne=ac.R[0],Ac=ac.R[1],sd=ac.mg,md=ac.ng,nd=ac.L,Zd=ac.ya;if(ac.Da){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],aa=rd[$.v],ba=rd[$.i],ca=rd[$.w],Cb[Pa]=aa.x,Cb[Pa+1]=aa.y,Cb[Pa+2]=aa.a,Cb[Pa+3]=ba.x,Cb[Pa+4]=ba.y,Cb[Pa+5]=ba.a,Cb[Pa+6]=ca.x,Cb[Pa+7]=ca.y,Cb[Pa+8]=ca.a,Pa+=9;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],aa=rd[$.v],ba=rd[$.i],ca=rd[$.w],ya=rd[$.ua],Cb[Pa]=aa.x,Cb[Pa+1]=aa.y,Cb[Pa+2]=aa.a,Cb[Pa+3]=ba.x,Cb[Pa+4]=ba.y,
Cb[Pa+5]=ba.a,Cb[Pa+6]=ca.x,Cb[Pa+7]=ca.y,Cb[Pa+8]=ca.a,Cb[Pa+9]=ya.x,Cb[Pa+10]=ya.y,Cb[Pa+11]=ya.a,Pa+=12;k.bindBuffer(k.ARRAY_BUFFER,Fa.Gb);k.bufferData(k.ARRAY_BUFFER,Cb,Ca)}if(lc){Fb=0;for(Mc=nd.length;Fb<Mc;Fb++){O=ua=0;for(fa=Ma.length;O<fa;O++)Oc=Ma[O],$=Yb[Oc],aa=nd[Fb].g[$.v],ba=nd[Fb].g[$.i],ca=nd[Fb].g[$.w],Db=Lc[Fb],Db[ua]=aa.x,Db[ua+1]=aa.y,Db[ua+2]=aa.a,Db[ua+3]=ba.x,Db[ua+4]=ba.y,Db[ua+5]=ba.a,Db[ua+6]=ca.x,Db[ua+7]=ca.y,Db[ua+8]=ca.a,Ra.ya&&(ic?(Fc=Zd[Fb].N[Oc],Ya=Fc.v,xb=Fc.i,jc=
Fc.w):jc=xb=Ya=Zd[Fb].Yl[Oc],zb=Xc[Fb],zb[ua]=Ya.x,zb[ua+1]=Ya.y,zb[ua+2]=Ya.a,zb[ua+3]=xb.x,zb[ua+4]=xb.y,zb[ua+5]=xb.a,zb[ua+6]=jc.x,zb[ua+7]=jc.y,zb[ua+8]=jc.a),ua+=9;O=0;for(fa=ta.length;O<fa;O++)Oc=ta[O],$=Yb[Oc],aa=nd[Fb].g[$.v],ba=nd[Fb].g[$.i],ca=nd[Fb].g[$.w],ya=nd[Fb].g[$.ua],Db=Lc[Fb],Db[ua]=aa.x,Db[ua+1]=aa.y,Db[ua+2]=aa.a,Db[ua+3]=ba.x,Db[ua+4]=ba.y,Db[ua+5]=ba.a,Db[ua+6]=ca.x,Db[ua+7]=ca.y,Db[ua+8]=ca.a,Db[ua+9]=ya.x,Db[ua+10]=ya.y,Db[ua+11]=ya.a,Ra.ya&&(ic?(Fc=Zd[Fb].N[Oc],Ya=Fc.v,
xb=Fc.i,jc=Fc.w,Qb=Fc.ua):Qb=jc=xb=Ya=Zd[Fb].Yl[Oc],zb=Xc[Fb],zb[ua]=Ya.x,zb[ua+1]=Ya.y,zb[ua+2]=Ya.a,zb[ua+3]=xb.x,zb[ua+4]=xb.y,zb[ua+5]=xb.a,zb[ua+6]=jc.x,zb[ua+7]=jc.y,zb[ua+8]=jc.a,zb[ua+9]=Qb.x,zb[ua+10]=Qb.y,zb[ua+11]=Qb.a),ua+=12;k.bindBuffer(k.ARRAY_BUFFER,Fa.ai[Fb]);k.bufferData(k.ARRAY_BUFFER,Lc[Fb],Ca);Ra.ya&&(k.bindBuffer(k.ARRAY_BUFFER,Fa.$i[Fb]),k.bufferData(k.ARRAY_BUFFER,Xc[Fb],Ca))}}if(md.length){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],kc=md[$.v],Eb=md[$.i],qc=md[$.w],bb[ka]=kc.x,
bb[ka+1]=kc.y,bb[ka+2]=kc.a,bb[ka+3]=kc.e,bb[ka+4]=Eb.x,bb[ka+5]=Eb.y,bb[ka+6]=Eb.a,bb[ka+7]=Eb.e,bb[ka+8]=qc.x,bb[ka+9]=qc.y,bb[ka+10]=qc.a,bb[ka+11]=qc.e,sc=sd[$.v],Hb=sd[$.i],Zb=sd[$.w],Ha[ka]=sc.x,Ha[ka+1]=sc.y,Ha[ka+2]=sc.a,Ha[ka+3]=sc.e,Ha[ka+4]=Hb.x,Ha[ka+5]=Hb.y,Ha[ka+6]=Hb.a,Ha[ka+7]=Hb.e,Ha[ka+8]=Zb.x,Ha[ka+9]=Zb.y,Ha[ka+10]=Zb.a,Ha[ka+11]=Zb.e,ka+=12;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],kc=md[$.v],Eb=md[$.i],qc=md[$.w],$b=md[$.ua],bb[ka]=kc.x,bb[ka+1]=kc.y,bb[ka+2]=kc.a,bb[ka+3]=kc.e,
bb[ka+4]=Eb.x,bb[ka+5]=Eb.y,bb[ka+6]=Eb.a,bb[ka+7]=Eb.e,bb[ka+8]=qc.x,bb[ka+9]=qc.y,bb[ka+10]=qc.a,bb[ka+11]=qc.e,bb[ka+12]=$b.x,bb[ka+13]=$b.y,bb[ka+14]=$b.a,bb[ka+15]=$b.e,sc=sd[$.v],Hb=sd[$.i],Zb=sd[$.w],dc=sd[$.ua],Ha[ka]=sc.x,Ha[ka+1]=sc.y,Ha[ka+2]=sc.a,Ha[ka+3]=sc.e,Ha[ka+4]=Hb.x,Ha[ka+5]=Hb.y,Ha[ka+6]=Hb.a,Ha[ka+7]=Hb.e,Ha[ka+8]=Zb.x,Ha[ka+9]=Zb.y,Ha[ka+10]=Zb.a,Ha[ka+11]=Zb.e,Ha[ka+12]=dc.x,Ha[ka+13]=dc.y,Ha[ka+14]=dc.a,Ha[ka+15]=dc.e,ka+=16;0<ka&&(k.bindBuffer(k.ARRAY_BUFFER,Fa.ul),k.bufferData(k.ARRAY_BUFFER,
Ha,Ca),k.bindBuffer(k.ARRAY_BUFFER,Fa.vl),k.bufferData(k.ARRAY_BUFFER,bb,Ca))}if(Qa&&db){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],ab=$.u,wb=$.color,3===ab.length&&db===b.Xi?(Bb=ab[0],Ja=ab[1],Kb=ab[2]):Kb=Ja=Bb=wb,Gb[sb]=Bb.q,Gb[sb+1]=Bb.p,Gb[sb+2]=Bb.i,Gb[sb+3]=Ja.q,Gb[sb+4]=Ja.p,Gb[sb+5]=Ja.i,Gb[sb+6]=Kb.q,Gb[sb+7]=Kb.p,Gb[sb+8]=Kb.i,sb+=9;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],ab=$.u,wb=$.color,4===ab.length&&db===b.Xi?(Bb=ab[0],Ja=ab[1],Kb=ab[2],cc=ab[3]):cc=Kb=Ja=Bb=wb,Gb[sb]=Bb.q,Gb[sb+
1]=Bb.p,Gb[sb+2]=Bb.i,Gb[sb+3]=Ja.q,Gb[sb+4]=Ja.p,Gb[sb+5]=Ja.i,Gb[sb+6]=Kb.q,Gb[sb+7]=Kb.p,Gb[sb+8]=Kb.i,Gb[sb+9]=cc.q,Gb[sb+10]=cc.p,Gb[sb+11]=cc.i,sb+=12;0<sb&&(k.bindBuffer(k.ARRAY_BUFFER,Fa.ed),k.bufferData(k.ARRAY_BUFFER,Gb,Ca))}if(H&&ac.si){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],lb=$.Te,pb=lb[0],rb=lb[1],vb=lb[2],Ua[Za]=pb.x,Ua[Za+1]=pb.y,Ua[Za+2]=pb.a,Ua[Za+3]=pb.e,Ua[Za+4]=rb.x,Ua[Za+5]=rb.y,Ua[Za+6]=rb.a,Ua[Za+7]=rb.e,Ua[Za+8]=vb.x,Ua[Za+9]=vb.y,Ua[Za+10]=vb.a,Ua[Za+11]=vb.e,Za+=12;O=
0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],lb=$.Te,pb=lb[0],rb=lb[1],vb=lb[2],Lb=lb[3],Ua[Za]=pb.x,Ua[Za+1]=pb.y,Ua[Za+2]=pb.a,Ua[Za+3]=pb.e,Ua[Za+4]=rb.x,Ua[Za+5]=rb.y,Ua[Za+6]=rb.a,Ua[Za+7]=rb.e,Ua[Za+8]=vb.x,Ua[Za+9]=vb.y,Ua[Za+10]=vb.a,Ua[Za+11]=vb.e,Ua[Za+12]=Lb.x,Ua[Za+13]=Lb.y,Ua[Za+14]=Lb.a,Ua[Za+15]=Lb.e,Za+=16;k.bindBuffer(k.ARRAY_BUFFER,Fa.wl);k.bufferData(k.ARRAY_BUFFER,Ua,Ca)}if(xd&&qb){O=0;for(fa=Ma.length;O<fa;O++)if($=Yb[Ma[O]],hb=$.N,fb=$.o,3===hb.length&&ic)for(Ia=0;3>Ia;Ia++)yc=hb[Ia],
pc[Mb]=yc.x,pc[Mb+1]=yc.y,pc[Mb+2]=yc.a,Mb+=3;else for(Ia=0;3>Ia;Ia++)pc[Mb]=fb.x,pc[Mb+1]=fb.y,pc[Mb+2]=fb.a,Mb+=3;O=0;for(fa=ta.length;O<fa;O++)if($=Yb[ta[O]],hb=$.N,fb=$.o,4===hb.length&&ic)for(Ia=0;4>Ia;Ia++)yc=hb[Ia],pc[Mb]=yc.x,pc[Mb+1]=yc.y,pc[Mb+2]=yc.a,Mb+=3;else for(Ia=0;4>Ia;Ia++)pc[Mb]=fb.x,pc[Mb+1]=fb.y,pc[Mb+2]=fb.a,Mb+=3;k.bindBuffer(k.ARRAY_BUFFER,Fa.bf);k.bufferData(k.ARRAY_BUFFER,pc,Ca)}if(xc&&ne&&gb){O=0;for(fa=Ma.length;O<fa;O++)if(cb=Ma[O],yb=ne[cb],r!==yb)for(Ia=0;3>Ia;Ia++)Pb=
yb[Ia],wc[Gc]=Pb.x,wc[Gc+1]=Pb.y,Gc+=2;O=0;for(fa=ta.length;O<fa;O++)if(cb=ta[O],yb=ne[cb],r!==yb)for(Ia=0;4>Ia;Ia++)Pb=yb[Ia],wc[Gc]=Pb.x,wc[Gc+1]=Pb.y,Gc+=2;0<Gc&&(k.bindBuffer(k.ARRAY_BUFFER,Fa.yl),k.bufferData(k.ARRAY_BUFFER,wc,Ca))}if(xc&&Ac&&gb){O=0;for(fa=Ma.length;O<fa;O++)if(cb=Ma[O],Jc=Ac[cb],r!==Jc)for(Ia=0;3>Ia;Ia++)fc=Jc[Ia],Wc[Hc]=fc.x,Wc[Hc+1]=fc.y,Hc+=2;O=0;for(fa=ta.length;O<fa;O++)if(cb=ta[O],Jc=Ac[cb],r!==Jc)for(Ia=0;4>Ia;Ia++)fc=Jc[Ia],Wc[Hc]=fc.x,Wc[Hc+1]=fc.y,Hc+=2;0<Hc&&(k.bindBuffer(k.ARRAY_BUFFER,
Fa.xl),k.bufferData(k.ARRAY_BUFFER,Wc,Ca))}if(Rc){O=0;for(fa=Ma.length;O<fa;O++)zc[oc]=Ga,zc[oc+1]=Ga+1,zc[oc+2]=Ga+2,oc+=3,hc[Sb]=Ga,hc[Sb+1]=Ga+1,hc[Sb+2]=Ga,hc[Sb+3]=Ga+2,hc[Sb+4]=Ga+1,hc[Sb+5]=Ga+2,Sb+=6,Ga+=3;O=0;for(fa=ta.length;O<fa;O++)zc[oc]=Ga,zc[oc+1]=Ga+1,zc[oc+2]=Ga+3,zc[oc+3]=Ga+1,zc[oc+4]=Ga+2,zc[oc+5]=Ga+3,oc+=6,hc[Sb]=Ga,hc[Sb+1]=Ga+1,hc[Sb+2]=Ga,hc[Sb+3]=Ga+3,hc[Sb+4]=Ga+1,hc[Sb+5]=Ga+2,hc[Sb+6]=Ga+2,hc[Sb+7]=Ga+3,Sb+=8,Ga+=4;k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,Fa.rl);k.bufferData(k.ELEMENT_ARRAY_BUFFER,
zc,Ca);k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,Fa.sl);k.bufferData(k.ELEMENT_ARRAY_BUFFER,hc,Ca)}if(Dc){Ia=0;for(rc=Dc.length;Ia<rc;Ia++)if(C=Dc[Ia],C.Iv.va){G=0;if(1===C.size)if(r===C.hb||"vertices"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],C.b[G]=C.value[$.v],C.b[G+1]=C.value[$.i],C.b[G+2]=C.value[$.w],G+=3;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],C.b[G]=C.value[$.v],C.b[G+1]=C.value[$.i],C.b[G+2]=C.value[$.w],C.b[G+3]=C.value[$.ua],G+=4}else{if("faces"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)Ta=
C.value[Ma[O]],C.b[G]=Ta,C.b[G+1]=Ta,C.b[G+2]=Ta,G+=3;O=0;for(fa=ta.length;O<fa;O++)Ta=C.value[ta[O]],C.b[G]=Ta,C.b[G+1]=Ta,C.b[G+2]=Ta,C.b[G+3]=Ta,G+=4}}else if(2===C.size)if(r===C.hb||"vertices"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],aa=C.value[$.v],ba=C.value[$.i],ca=C.value[$.w],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=ba.x,C.b[G+3]=ba.y,C.b[G+4]=ca.x,C.b[G+5]=ca.y,G+=6;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],aa=C.value[$.v],ba=C.value[$.i],ca=C.value[$.w],ya=C.value[$.ua],C.b[G]=aa.x,
C.b[G+1]=aa.y,C.b[G+2]=ba.x,C.b[G+3]=ba.y,C.b[G+4]=ca.x,C.b[G+5]=ca.y,C.b[G+6]=ya.x,C.b[G+7]=ya.y,G+=8}else{if("faces"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)ca=ba=aa=Ta=C.value[Ma[O]],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=ba.x,C.b[G+3]=ba.y,C.b[G+4]=ca.x,C.b[G+5]=ca.y,G+=6;O=0;for(fa=ta.length;O<fa;O++)ya=ca=ba=aa=Ta=C.value[ta[O]],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=ba.x,C.b[G+3]=ba.y,C.b[G+4]=ca.x,C.b[G+5]=ca.y,C.b[G+6]=ya.x,C.b[G+7]=ya.y,G+=8}}else if(3===C.size){var la;la="c"===C.type?["r","g","b"]:
["x","y","z"];if(r===C.hb||"vertices"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],aa=C.value[$.v],ba=C.value[$.i],ca=C.value[$.w],C.b[G]=aa[la[0]],C.b[G+1]=aa[la[1]],C.b[G+2]=aa[la[2]],C.b[G+3]=ba[la[0]],C.b[G+4]=ba[la[1]],C.b[G+5]=ba[la[2]],C.b[G+6]=ca[la[0]],C.b[G+7]=ca[la[1]],C.b[G+8]=ca[la[2]],G+=9;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],aa=C.value[$.v],ba=C.value[$.i],ca=C.value[$.w],ya=C.value[$.ua],C.b[G]=aa[la[0]],C.b[G+1]=aa[la[1]],C.b[G+2]=aa[la[2]],C.b[G+3]=ba[la[0]],C.b[G+4]=ba[la[1]],
C.b[G+5]=ba[la[2]],C.b[G+6]=ca[la[0]],C.b[G+7]=ca[la[1]],C.b[G+8]=ca[la[2]],C.b[G+9]=ya[la[0]],C.b[G+10]=ya[la[1]],C.b[G+11]=ya[la[2]],G+=12}else if("faces"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)ca=ba=aa=Ta=C.value[Ma[O]],C.b[G]=aa[la[0]],C.b[G+1]=aa[la[1]],C.b[G+2]=aa[la[2]],C.b[G+3]=ba[la[0]],C.b[G+4]=ba[la[1]],C.b[G+5]=ba[la[2]],C.b[G+6]=ca[la[0]],C.b[G+7]=ca[la[1]],C.b[G+8]=ca[la[2]],G+=9;O=0;for(fa=ta.length;O<fa;O++)ya=ca=ba=aa=Ta=C.value[ta[O]],C.b[G]=aa[la[0]],C.b[G+1]=aa[la[1]],C.b[G+2]=
aa[la[2]],C.b[G+3]=ba[la[0]],C.b[G+4]=ba[la[1]],C.b[G+5]=ba[la[2]],C.b[G+6]=ca[la[0]],C.b[G+7]=ca[la[1]],C.b[G+8]=ca[la[2]],C.b[G+9]=ya[la[0]],C.b[G+10]=ya[la[1]],C.b[G+11]=ya[la[2]],G+=12}else if("faceVertices"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)Ta=C.value[Ma[O]],aa=Ta[0],ba=Ta[1],ca=Ta[2],C.b[G]=aa[la[0]],C.b[G+1]=aa[la[1]],C.b[G+2]=aa[la[2]],C.b[G+3]=ba[la[0]],C.b[G+4]=ba[la[1]],C.b[G+5]=ba[la[2]],C.b[G+6]=ca[la[0]],C.b[G+7]=ca[la[1]],C.b[G+8]=ca[la[2]],G+=9;O=0;for(fa=ta.length;O<fa;O++)Ta=
C.value[ta[O]],aa=Ta[0],ba=Ta[1],ca=Ta[2],ya=Ta[3],C.b[G]=aa[la[0]],C.b[G+1]=aa[la[1]],C.b[G+2]=aa[la[2]],C.b[G+3]=ba[la[0]],C.b[G+4]=ba[la[1]],C.b[G+5]=ba[la[2]],C.b[G+6]=ca[la[0]],C.b[G+7]=ca[la[1]],C.b[G+8]=ca[la[2]],C.b[G+9]=ya[la[0]],C.b[G+10]=ya[la[1]],C.b[G+11]=ya[la[2]],G+=12}}else if(4===C.size)if(r===C.hb||"vertices"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)$=Yb[Ma[O]],aa=C.value[$.v],ba=C.value[$.i],ca=C.value[$.w],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=aa.a,C.b[G+3]=aa.e,C.b[G+4]=ba.x,C.b[G+
5]=ba.y,C.b[G+6]=ba.a,C.b[G+7]=ba.e,C.b[G+8]=ca.x,C.b[G+9]=ca.y,C.b[G+10]=ca.a,C.b[G+11]=ca.e,G+=12;O=0;for(fa=ta.length;O<fa;O++)$=Yb[ta[O]],aa=C.value[$.v],ba=C.value[$.i],ca=C.value[$.w],ya=C.value[$.ua],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=aa.a,C.b[G+3]=aa.e,C.b[G+4]=ba.x,C.b[G+5]=ba.y,C.b[G+6]=ba.a,C.b[G+7]=ba.e,C.b[G+8]=ca.x,C.b[G+9]=ca.y,C.b[G+10]=ca.a,C.b[G+11]=ca.e,C.b[G+12]=ya.x,C.b[G+13]=ya.y,C.b[G+14]=ya.a,C.b[G+15]=ya.e,G+=16}else if("faces"===C.hb){O=0;for(fa=Ma.length;O<fa;O++)ca=ba=
aa=Ta=C.value[Ma[O]],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=aa.a,C.b[G+3]=aa.e,C.b[G+4]=ba.x,C.b[G+5]=ba.y,C.b[G+6]=ba.a,C.b[G+7]=ba.e,C.b[G+8]=ca.x,C.b[G+9]=ca.y,C.b[G+10]=ca.a,C.b[G+11]=ca.e,G+=12;O=0;for(fa=ta.length;O<fa;O++)ya=ca=ba=aa=Ta=C.value[ta[O]],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=aa.a,C.b[G+3]=aa.e,C.b[G+4]=ba.x,C.b[G+5]=ba.y,C.b[G+6]=ba.a,C.b[G+7]=ba.e,C.b[G+8]=ca.x,C.b[G+9]=ca.y,C.b[G+10]=ca.a,C.b[G+11]=ca.e,C.b[G+12]=ya.x,C.b[G+13]=ya.y,C.b[G+14]=ya.a,C.b[G+15]=ya.e,G+=16}else if("faceVertices"===
C.hb){O=0;for(fa=Ma.length;O<fa;O++)Ta=C.value[Ma[O]],aa=Ta[0],ba=Ta[1],ca=Ta[2],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=aa.a,C.b[G+3]=aa.e,C.b[G+4]=ba.x,C.b[G+5]=ba.y,C.b[G+6]=ba.a,C.b[G+7]=ba.e,C.b[G+8]=ca.x,C.b[G+9]=ca.y,C.b[G+10]=ca.a,C.b[G+11]=ca.e,G+=12;O=0;for(fa=ta.length;O<fa;O++)Ta=C.value[ta[O]],aa=Ta[0],ba=Ta[1],ca=Ta[2],ya=Ta[3],C.b[G]=aa.x,C.b[G+1]=aa.y,C.b[G+2]=aa.a,C.b[G+3]=aa.e,C.b[G+4]=ba.x,C.b[G+5]=ba.y,C.b[G+6]=ba.a,C.b[G+7]=ba.e,C.b[G+8]=ca.x,C.b[G+9]=ca.y,C.b[G+10]=ca.a,C.b[G+11]=
ca.e,C.b[G+12]=ya.x,C.b[G+13]=ya.y,C.b[G+14]=ya.a,C.b[G+15]=ya.e,G+=16}k.bindBuffer(k.ARRAY_BUFFER,C.buffer);k.bufferData(k.ARRAY_BUFFER,C.b,Ca)}}eb&&(delete Fa.Hr,delete Fa.Mf,delete Fa.pl,delete Fa.Pr,delete Fa.Rr,delete Fa.Qr,delete Fa.Gr,delete Fa.Of,delete Fa.Ir,delete Fa.Nr,delete Fa.Or)}}Y.Da=y;Y.rp=y;Y.Wg=y;Y.Nh=y;Y.rd=y;Y.Wa=y;Y.og=y;Y.cs=y;Ka.attributes&&F(Ka)}else if(qa instanceof b.Kf){Ka=m(qa,Y);xa=Ka.attributes&&K(Ka);if(Y.Da||Y.Wa||Y.rd||xa){var Bc=Y,od=k.DYNAMIC_DRAW,Dd=r,Ed=r,Fd=
r,$d=r,kb=r,ae=r,be=r,ce=r,We=r,Ub=r,Ad=r,tb=r,tc=r,Xe=Bc.g,Ye=Bc.Ib,Ze=Bc.uh,lf=Xe.length,mf=Ye.length,nf=Ze.length,de=Bc.Of,ee=Bc.Mf,fe=Bc.pl,of=Bc.Wa,pd=Bc.rd,Oe=Bc.xc;if(Bc.Da){for(Dd=0;Dd<lf;Dd++)$d=Xe[Dd],kb=3*Dd,de[kb]=$d.x,de[kb+1]=$d.y,de[kb+2]=$d.a;k.bindBuffer(k.ARRAY_BUFFER,Bc.Gb);k.bufferData(k.ARRAY_BUFFER,de,od)}if(of){for(Ed=0;Ed<mf;Ed++)ae=Ye[Ed],kb=3*Ed,ee[kb]=ae.q,ee[kb+1]=ae.p,ee[kb+2]=ae.i;k.bindBuffer(k.ARRAY_BUFFER,Bc.ed);k.bufferData(k.ARRAY_BUFFER,ee,od)}if(pd){for(Fd=0;Fd<
nf;Fd++)be=Ze[Fd],kb=3*Fd,fe[kb]=be.x,fe[kb+1]=be.y,fe[kb+2]=be.a;k.bindBuffer(k.ARRAY_BUFFER,Bc.bf);k.bufferData(k.ARRAY_BUFFER,fe,od)}if(Oe){ce=0;for(We=Oe.length;ce<We;ce++)if(tb=Oe[ce],tb.va&&(r===tb.hb||"vertices"===tb.hb)){kb=0;Ad=tb.value.length;if(1===tb.size)for(Ub=0;Ub<Ad;Ub++)tb.b[Ub]=tb.value[Ub];else if(2===tb.size)for(Ub=0;Ub<Ad;Ub++)tc=tb.value[Ub],tb.b[kb]=tc.x,tb.b[kb+1]=tc.y,kb+=2;else if(3===tb.size)if("c"===tb.type)for(Ub=0;Ub<Ad;Ub++)tc=tb.value[Ub],tb.b[kb]=tc.q,tb.b[kb+1]=tc.p,
tb.b[kb+2]=tc.i,kb+=3;else for(Ub=0;Ub<Ad;Ub++)tc=tb.value[Ub],tb.b[kb]=tc.x,tb.b[kb+1]=tc.y,tb.b[kb+2]=tc.a,kb+=3;else if(4===tb.size)for(Ub=0;Ub<Ad;Ub++)tc=tb.value[Ub],tb.b[kb]=tc.x,tb.b[kb+1]=tc.y,tb.b[kb+2]=tc.a,tb.b[kb+3]=tc.e,kb+=4;k.bindBuffer(k.ARRAY_BUFFER,tb.buffer);k.bufferData(k.ARRAY_BUFFER,tb.b,od)}}}Y.Da=y;Y.Wa=y;Y.rd=y;Ka.attributes&&F(Ka)}else if(qa instanceof b.fb)if(Y instanceof b.Cd)(Y.Da||Y.Wa)&&x(Y,k.DYNAMIC_DRAW,!Y.Aj),Y.Da=y,Y.Wa=y;else{Ka=m(qa,Y);xa=Ka.attributes&&K(Ka);
if(Y.Da||Y.Wa||Y.om||xa){var Ic=Y,Tc=k.DYNAMIC_DRAW,Nc=r,Sc=r,Uc=r,ge=r,Ab=r,he=r,$e=Ic.g,af=Ic.Ib,bf=Ic.Ts,pf=$e.length,qf=af.length,rf=bf.length,ie=Ic.Of,je=Ic.Mf,cf=Ic.Fv,sf=Ic.Wa,tf=Ic.om,Qe=Ic.xc,ke=r,df=r,Wb=r,Bd=r,uc=r,ub=r;if(Ic.Da){for(Nc=0;Nc<pf;Nc++)ge=$e[Nc],Ab=3*Nc,ie[Ab]=ge.x,ie[Ab+1]=ge.y,ie[Ab+2]=ge.a;k.bindBuffer(k.ARRAY_BUFFER,Ic.Gb);k.bufferData(k.ARRAY_BUFFER,ie,Tc)}if(sf){for(Sc=0;Sc<qf;Sc++)he=af[Sc],Ab=3*Sc,je[Ab]=he.q,je[Ab+1]=he.p,je[Ab+2]=he.i;k.bindBuffer(k.ARRAY_BUFFER,
Ic.ed);k.bufferData(k.ARRAY_BUFFER,je,Tc)}if(tf){for(Uc=0;Uc<rf;Uc++)cf[Uc]=bf[Uc];k.bindBuffer(k.ARRAY_BUFFER,Ic.tl);k.bufferData(k.ARRAY_BUFFER,cf,Tc)}if(Qe){ke=0;for(df=Qe.length;ke<df;ke++)if(ub=Qe[ke],ub.va&&(r===ub.hb||"vertices"===ub.hb)){Ab=0;Bd=ub.value.length;if(1===ub.size)for(Wb=0;Wb<Bd;Wb++)ub.b[Wb]=ub.value[Wb];else if(2===ub.size)for(Wb=0;Wb<Bd;Wb++)uc=ub.value[Wb],ub.b[Ab]=uc.x,ub.b[Ab+1]=uc.y,Ab+=2;else if(3===ub.size)if("c"===ub.type)for(Wb=0;Wb<Bd;Wb++)uc=ub.value[Wb],ub.b[Ab]=
uc.q,ub.b[Ab+1]=uc.p,ub.b[Ab+2]=uc.i,Ab+=3;else for(Wb=0;Wb<Bd;Wb++)uc=ub.value[Wb],ub.b[Ab]=uc.x,ub.b[Ab+1]=uc.y,ub.b[Ab+2]=uc.a,Ab+=3;else if(4===ub.size)for(Wb=0;Wb<Bd;Wb++)uc=ub.value[Wb],ub.b[Ab]=uc.x,ub.b[Ab+1]=uc.y,ub.b[Ab+2]=uc.a,ub.b[Ab+3]=uc.e,Ab+=4;k.bindBuffer(k.ARRAY_BUFFER,ub.buffer);k.bufferData(k.ARRAY_BUFFER,ub.b,Tc)}}}Y.Da=y;Y.Wa=y;Y.om=y;Ka.attributes&&F(Ka)}else if(qa instanceof b.ad)if(Y instanceof b.Cd)(Y.Da||Y.Wa)&&x(Y,k.DYNAMIC_DRAW,!Y.Aj),Y.Da=y,Y.Wa=y;else{Ka=m(qa,Y);xa=
Ka.attributes&&K(Ka);if(Y.Da||Y.Wa||qa.Hh||xa){var Zc=Y,Re=k.DYNAMIC_DRAW,Xd=qa,vc=r,$c=r,ad=r,ra=r,bd=r,qd=r,le=Zc.g,Se=le.length,Te=Zc.Ib,ef=Te.length,yd=Zc.Of,zd=Zc.Mf,kd=Zc.Kv,ff=Zc.Da,gf=Zc.Wa,ld=Zc.xc,Pc=r,Cd=r,La=r,Qc=r,ob=r,oa=r;if(Xd.Hh){nc.copy(ec);nc.multiply(Xd.H);for(vc=0;vc<Se;vc++)ad=le[vc],Kc.copy(ad),Kc.Fe(nc),kd[vc]=[Kc.a,vc];kd.sort(s);for(vc=0;vc<Se;vc++)ad=le[kd[vc][1]],ra=3*vc,yd[ra]=ad.x,yd[ra+1]=ad.y,yd[ra+2]=ad.a;for($c=0;$c<ef;$c++)ra=3*$c,qd=Te[kd[$c][1]],zd[ra]=qd.q,zd[ra+
1]=qd.p,zd[ra+2]=qd.i;if(ld){Pc=0;for(Cd=ld.length;Pc<Cd;Pc++)if(oa=ld[Pc],r===oa.hb||"vertices"===oa.hb)if(ra=0,Qc=oa.value.length,1===oa.size)for(La=0;La<Qc;La++)bd=kd[La][1],oa.b[La]=oa.value[bd];else if(2===oa.size)for(La=0;La<Qc;La++)bd=kd[La][1],ob=oa.value[bd],oa.b[ra]=ob.x,oa.b[ra+1]=ob.y,ra+=2;else if(3===oa.size)if("c"===oa.type)for(La=0;La<Qc;La++)bd=kd[La][1],ob=oa.value[bd],oa.b[ra]=ob.q,oa.b[ra+1]=ob.p,oa.b[ra+2]=ob.i,ra+=3;else for(La=0;La<Qc;La++)bd=kd[La][1],ob=oa.value[bd],oa.b[ra]=
ob.x,oa.b[ra+1]=ob.y,oa.b[ra+2]=ob.a,ra+=3;else if(4===oa.size)for(La=0;La<Qc;La++)bd=kd[La][1],ob=oa.value[bd],oa.b[ra]=ob.x,oa.b[ra+1]=ob.y,oa.b[ra+2]=ob.a,oa.b[ra+3]=ob.e,ra+=4}}else{if(ff)for(vc=0;vc<Se;vc++)ad=le[vc],ra=3*vc,yd[ra]=ad.x,yd[ra+1]=ad.y,yd[ra+2]=ad.a;if(gf)for($c=0;$c<ef;$c++)qd=Te[$c],ra=3*$c,zd[ra]=qd.q,zd[ra+1]=qd.p,zd[ra+2]=qd.i;if(ld){Pc=0;for(Cd=ld.length;Pc<Cd;Pc++)if(oa=ld[Pc],oa.va&&(r===oa.hb||"vertices"===oa.hb))if(Qc=oa.value.length,ra=0,1===oa.size)for(La=0;La<Qc;La++)oa.b[La]=
oa.value[La];else if(2===oa.size)for(La=0;La<Qc;La++)ob=oa.value[La],oa.b[ra]=ob.x,oa.b[ra+1]=ob.y,ra+=2;else if(3===oa.size)if("c"===oa.type)for(La=0;La<Qc;La++)ob=oa.value[La],oa.b[ra]=ob.q,oa.b[ra+1]=ob.p,oa.b[ra+2]=ob.i,ra+=3;else for(La=0;La<Qc;La++)ob=oa.value[La],oa.b[ra]=ob.x,oa.b[ra+1]=ob.y,oa.b[ra+2]=ob.a,ra+=3;else if(4===oa.size)for(La=0;La<Qc;La++)ob=oa.value[La],oa.b[ra]=ob.x,oa.b[ra+1]=ob.y,oa.b[ra+2]=ob.a,oa.b[ra+3]=ob.e,ra+=4}}if(ff||Xd.Hh)k.bindBuffer(k.ARRAY_BUFFER,Zc.Gb),k.bufferData(k.ARRAY_BUFFER,
yd,Re);if(gf||Xd.Hh)k.bindBuffer(k.ARRAY_BUFFER,Zc.ed),k.bufferData(k.ARRAY_BUFFER,zd,Re);if(ld){Pc=0;for(Cd=ld.length;Pc<Cd;Pc++)if(oa=ld[Pc],oa.va||Xd.Hh)k.bindBuffer(k.ARRAY_BUFFER,oa.buffer),k.bufferData(k.ARRAY_BUFFER,oa.b,Re)}}Y.Da=y;Y.Wa=y;Ka.attributes&&F(Ka)}}};this.ay=function(a,e,d,f){var g,h,j,l;a.addEventListener("dispose",c);var m,n,p,q,x;a instanceof b.xg?x="depth":a instanceof b.yg?x="normal":a instanceof b.pb?x="basic":a instanceof b.Xd?x="lambert":a instanceof b.Gd?x="phong":a instanceof
b.Qc?x="basic":a instanceof b.ug?x="dashed":a instanceof b.zg&&(x="particle_basic");if(x){var v=b.Wi[x];a.aa=b.Jd.d(v.aa);a.Y=v.Y;a.X=v.X}var w,z,s;g=j=z=s=v=0;for(h=e.length;g<h;g++)w=e[g],w.zm||(w instanceof b.Wd&&j++,w instanceof b.Xh&&z++,w instanceof b.Yh&&s++,w instanceof b.an&&v++);g=j;h=z;j=s;l=v;v=w=0;for(s=e.length;v<s;v++)z=e[v],z.Nd&&(z instanceof b.Yh&&w++,z instanceof b.Wd&&!z.uq&&w++);q=w;ea&&f&&f.Ef?p=1024:(e=k.getParameter(k.MAX_VERTEX_UNIFORM_VECTORS),e=Math.floor((e-20)/4),r!==
f&&f instanceof b.Sc&&(e=Math.min(f.rb.length,e),e<f.rb.length&&console.warn("WebGLRenderer: too many bones - "+f.rb.length+", this GPU supports just "+e+" (try OpenGL instead of ANGLE)")),p=e);a:{z=a.X;s=a.Y;v=a.aa;e=a.attributes;w=a.to;d={map:!!a.map,Aa:!!a.Aa,kb:!!a.kb,Cc:!!a.Cc,Mb:!!a.Mb,eb:!!a.eb,u:a.u,G:d,nu:a.G,yx:d instanceof b.Sh,Lc:a.Lc,Ya:a.Ya,Ly:p,Ef:ea&&f&&f.Ef,fi:f&&f.fi,ei:f&&f.ei,L:a.L,ya:a.ya,bk:this.bk,rm:this.rm,bt:g,dt:h,ft:j,ct:l,et:q,Fh:this.Fh&&f.Bi,Dk:this.Dk,Mm:this.Mm,Lm:this.Lm,
ef:a.ef,ck:a.ck,zi:a.zi,Ae:a.Ae,zo:a.xf===b.Hf,Go:a.xf===b.Qh};var Q,A,D;f=[];x?f.push(x):(f.push(z),f.push(s));for(A in w)f.push(A),f.push(w[A]);for(Q in d)f.push(Q),f.push(d[Q]);x=f.join();Q=0;for(A=wa.length;Q<A;Q++)if(f=wa[Q],f.code===x){f.Mq++;n=f.pc;break a}Q="SHADOWMAP_TYPE_BASIC";d.Dk===b.hr?Q="SHADOWMAP_TYPE_PCF":d.Dk===b.ir&&(Q="SHADOWMAP_TYPE_PCF_SOFT");A=[];for(D in w)f=w[D],y!==f&&(f="#define "+D+" "+f,A.push(f));f=A.join("\n");D=k.createProgram();A=["precision "+I+" float;",f,wc?"#define VERTEX_TEXTURES":
"",Z.Je?"#define GAMMA_INPUT":"",Z.us?"#define GAMMA_OUTPUT":"",Z.vt?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+d.bt,"#define MAX_POINT_LIGHTS "+d.dt,"#define MAX_SPOT_LIGHTS "+d.ft,"#define MAX_HEMI_LIGHTS "+d.ct,"#define MAX_SHADOWS "+d.et,"#define MAX_BONES "+d.Ly,d.map?"#define USE_MAP":"",d.Aa?"#define USE_ENVMAP":"",d.kb?"#define USE_LIGHTMAP":"",d.Cc?"#define USE_BUMPMAP":"",d.Mb?"#define USE_NORMALMAP":"",d.eb?"#define USE_SPECULARMAP":"",d.u?"#define USE_COLOR":"",d.Ya?
"#define USE_SKINNING":"",d.Ef?"#define BONE_TEXTURE":"",d.fi?"#define N_BONE_PIXEL_X "+d.fi.toFixed(1):"",d.ei?"#define N_BONE_PIXEL_Y "+d.ei.toFixed(1):"",d.L?"#define USE_MORPHTARGETS":"",d.ya?"#define USE_MORPHNORMALS":"",d.zi?"#define PHONG_PER_PIXEL":"",d.Ae?"#define WRAP_AROUND":"",d.zo?"#define DOUBLE_SIDED":"",d.Go?"#define FLIP_SIDED":"",d.Fh?"#define USE_SHADOWMAP":"",d.Fh?"#define "+Q:"",d.Mm?"#define SHADOWMAP_DEBUG":"",d.Lm?"#define SHADOWMAP_CASCADE":"",d.Lc?"#define USE_SIZEATTENUATION":
"","uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\nattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\nattribute vec3 morphTarget0;\nattribute vec3 morphTarget1;\nattribute vec3 morphTarget2;\nattribute vec3 morphTarget3;\n#ifdef USE_MORPHNORMALS\nattribute vec3 morphNormal0;\nattribute vec3 morphNormal1;\nattribute vec3 morphNormal2;\nattribute vec3 morphNormal3;\n#else\nattribute vec3 morphTarget4;\nattribute vec3 morphTarget5;\nattribute vec3 morphTarget6;\nattribute vec3 morphTarget7;\n#endif\n#endif\n#ifdef USE_SKINNING\nattribute vec4 skinIndex;\nattribute vec4 skinWeight;\n#endif\n"].join("\n");
Q=["precision "+I+" float;",d.Cc||d.Mb?"#extension GL_OES_standard_derivatives : enable":"",f,"#define MAX_DIR_LIGHTS "+d.bt,"#define MAX_POINT_LIGHTS "+d.dt,"#define MAX_SPOT_LIGHTS "+d.ft,"#define MAX_HEMI_LIGHTS "+d.ct,"#define MAX_SHADOWS "+d.et,d.ef?"#define ALPHATEST "+d.ef:"",Z.Je?"#define GAMMA_INPUT":"",Z.us?"#define GAMMA_OUTPUT":"",Z.vt?"#define PHYSICALLY_BASED_SHADING":"",d.nu&&d.G?"#define USE_FOG":"",d.nu&&d.yx?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.Aa?"#define USE_ENVMAP":
"",d.kb?"#define USE_LIGHTMAP":"",d.Cc?"#define USE_BUMPMAP":"",d.Mb?"#define USE_NORMALMAP":"",d.eb?"#define USE_SPECULARMAP":"",d.u?"#define USE_COLOR":"",d.ck?"#define METAL":"",d.zi?"#define PHONG_PER_PIXEL":"",d.Ae?"#define WRAP_AROUND":"",d.zo?"#define DOUBLE_SIDED":"",d.Go?"#define FLIP_SIDED":"",d.Fh?"#define USE_SHADOWMAP":"",d.Fh?"#define "+Q:"",d.Mm?"#define SHADOWMAP_DEBUG":"",d.Lm?"#define SHADOWMAP_CASCADE":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n");Q=
T("fragment",Q+z);A=T("vertex",A+s);k.attachShader(D,A);k.attachShader(D,Q);k.linkProgram(D);k.getProgramParameter(D,k.LINK_STATUS)||console.error("Could not initialise shader\nVALIDATE_STATUS: "+k.getProgramParameter(D,k.VALIDATE_STATUS)+", gl error ["+k.getError()+"]");k.deleteShader(Q);k.deleteShader(A);D.aa={};D.attributes={};var B;Q="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences".split(" ");d.Ef?Q.push("boneTexture"):Q.push("boneGlobalMatrices");
for(B in v)Q.push(B);B=Q;Q=0;for(A=B.length;Q<A;Q++)v=B[Q],D.aa[v]=k.getUniformLocation(D,v);Q="position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(" ");for(B=0;B<d.bk;B++)Q.push("morphTarget"+B);for(B=0;B<d.rm;B++)Q.push("morphNormal"+B);for(n in e)Q.push(n);n=Q;B=0;for(e=n.length;B<e;B++)Q=n[B],D.attributes[Q]=k.getAttribLocation(D,Q);D.id=Ka++;wa.push({pc:D,code:x,Mq:1});Z.info.memory.xt=wa.length;n=D}a.pc=n;B=a.pc.attributes;if(a.L){a.gk=0;e="morphTarget";for(n=0;n<this.bk;n++)D=
e+n,0<=B[D]&&a.gk++}if(a.ya){a.ot=0;e="morphNormal";for(n=0;n<this.rm;n++)D=e+n,0<=B[D]&&a.ot++}a.lu=[];for(m in a.aa)a.lu.push([a.aa[m],m])};this.eA=function(a,c){a===b.Fu?k.disable(k.CULL_FACE):(c===b.Lu?k.frontFace(k.CW):k.frontFace(k.CCW),a===b.Eu?k.cullFace(k.BACK):a===b.cl?k.cullFace(k.FRONT):k.cullFace(k.FRONT_AND_BACK),k.enable(k.CULL_FACE))};this.oq=function(a){var c=a.xf===b.Hf;a=a.xf===b.Qh;Ca!==c&&(c?k.disable(k.CULL_FACE):k.enable(k.CULL_FACE),Ca=c);ab!==a&&(a?k.frontFace(k.CW):k.frontFace(k.CCW),
ab=a)};this.Ch=function(a){pb!==a&&(a?k.enable(k.DEPTH_TEST):k.disable(k.DEPTH_TEST),pb=a)};this.wk=function(a){eb!==a&&(k.depthMask(a),eb=a)};this.Ci=function(a,c,e,d){a!==vb&&(a===b.fr?k.disable(k.BLEND):a===b.Tq?(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.SRC_ALPHA,k.ONE)):a===b.xr?(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ZERO,k.ONE_MINUS_SRC_COLOR)):a===b.Vu?(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ZERO,k.SRC_COLOR)):a===b.Wq?k.enable(k.BLEND):
(k.enable(k.BLEND),k.blendEquationSeparate(k.FUNC_ADD,k.FUNC_ADD),k.blendFuncSeparate(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA,k.ONE,k.ONE_MINUS_SRC_ALPHA)),vb=a);if(a===b.Wq){if(c!==gb&&(k.blendEquation(Va(c)),gb=c),e!==$b||d!==dc)k.blendFunc(Va(e),Va(d)),$b=e,dc=d}else dc=$b=gb=u};this.yk=function(a,c){if(a.va){a.Pf||(a.Pf=t,a.addEventListener("dispose",f),a.gd=k.createTexture(),Z.info.memory.Mc++);k.activeTexture(k.TEXTURE0+c);k.bindTexture(k.TEXTURE_2D,a.gd);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,a.bh);
k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.Pp);k.pixelStorei(k.UNPACK_ALIGNMENT,a.Lq);var e=a.T,d=0===(e.width&e.width-1)&&0===(e.height&e.height-1),g=Va(a.Ba),h=Va(a.type);V(k.TEXTURE_2D,a,d);var j=a.Kc;if(a instanceof b.sg)if(0<j.length&&d){for(var l=0,m=j.length;l<m;l++)e=j[l],k.texImage2D(k.TEXTURE_2D,l,g,e.width,e.height,0,g,h,e.data);a.Vb=y}else k.texImage2D(k.TEXTURE_2D,0,g,e.width,e.height,0,g,h,e.data);else if(a instanceof b.rg){l=0;for(m=j.length;l<m;l++)e=j[l],k.compressedTexImage2D(k.TEXTURE_2D,
l,g,e.width,e.height,0,e.data)}else if(0<j.length&&d){l=0;for(m=j.length;l<m;l++)e=j[l],k.texImage2D(k.TEXTURE_2D,l,g,g,h,e);a.Vb=y}else k.texImage2D(k.TEXTURE_2D,0,g,g,h,a.T);a.Vb&&d&&k.generateMipmap(k.TEXTURE_2D);a.va=y;a.ym&&a.ym()}else k.activeTexture(k.TEXTURE0+c),k.bindTexture(k.TEXTURE_2D,a.gd)};this.Im=function(a){var c=a instanceof b.Dg;if(a&&!a.af){r===a.He&&(a.He=t);r===a.Re&&(a.Re=t);a.addEventListener("dispose",d);a.gd=k.createTexture();Z.info.memory.Mc++;var e=0===(a.width&a.width-
1)&&0===(a.height&a.height-1),f=Va(a.Ba),g=Va(a.type);if(c){a.af=[];a.cf=[];k.bindTexture(k.TEXTURE_CUBE_MAP,a.gd);V(k.TEXTURE_CUBE_MAP,a,e);for(var h=0;6>h;h++){a.af[h]=k.createFramebuffer();a.cf[h]=k.createRenderbuffer();k.texImage2D(k.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,f,a.width,a.height,0,f,g,u);var j=a,l=k.TEXTURE_CUBE_MAP_POSITIVE_X+h;k.bindFramebuffer(k.FRAMEBUFFER,a.af[h]);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,l,j.gd,0);Aa(a.cf[h],a)}e&&k.generateMipmap(k.TEXTURE_CUBE_MAP)}else a.af=
k.createFramebuffer(),a.cf=a.Jk?a.Jk.cf:k.createRenderbuffer(),k.bindTexture(k.TEXTURE_2D,a.gd),V(k.TEXTURE_2D,a,e),k.texImage2D(k.TEXTURE_2D,0,f,a.width,a.height,0,f,g,u),f=k.TEXTURE_2D,k.bindFramebuffer(k.FRAMEBUFFER,a.af),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,f,a.gd,0),a.Jk?a.He&&!a.Re?k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_ATTACHMENT,k.RENDERBUFFER,a.cf):a.He&&a.Re&&k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_STENCIL_ATTACHMENT,k.RENDERBUFFER,a.cf):Aa(a.cf,a),e&&
k.generateMipmap(k.TEXTURE_2D);c?k.bindTexture(k.TEXTURE_CUBE_MAP,u):k.bindTexture(k.TEXTURE_2D,u);k.bindRenderbuffer(k.RENDERBUFFER,u);k.bindFramebuffer(k.FRAMEBUFFER,u)}a?(c=c?a.af[a.Fg]:a.af,e=a.width,a=a.height,g=f=0):(c=u,e=cb,a=rb,f=qa,g=wb);c!==Xa&&(k.bindFramebuffer(k.FRAMEBUFFER,c),k.viewport(f,g,e,a),Xa=c);Qb=e;Ba=a};this.Pt=new b.on;this.Yv(this.Pt);this.Yr(new b.iv);this.Yr(new b.Qu)};b.Yi=function(a,c,d){b.Xe.call(this);this.width=a;this.height=c;d=d||{};this.Ad=r!==d.Ad?d.Ad:b.Ii;this.Bd=
r!==d.Bd?d.Bd:b.Ii;this.Jc=r!==d.Jc?d.Jc:b.vg;this.ac=r!==d.ac?d.ac:b.hn;this.Tc=r!==d.Tc?d.Tc:1;this.offset=new b.j(0,0);this.repeat=new b.j(1,1);this.Ba=r!==d.Ba?d.Ba:b.Ui;this.type=r!==d.type?d.type:b.un;this.He=r!==d.He?d.He:t;this.Re=r!==d.Re?d.Re:t;this.Vb=t;this.Jk=u};b.Yi.prototype.d=function(){var a=new b.Yi(this.width,this.height);a.Ad=this.Ad;a.Bd=this.Bd;a.Jc=this.Jc;a.ac=this.ac;a.Tc=this.Tc;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.Ba=this.Ba;a.type=this.type;a.He=this.He;
a.Re=this.Re;a.Vb=this.Vb;a.Jk=this.Jk;return a};b.Dg=function(a,c,d){b.Yi.call(this,a,c,d);this.Fg=0};b.Dg.prototype=Object.create(b.Yi.prototype);b.cd=function(){this.ne=new b.c;this.f=new b.Kd;this.visible=t};b.cd.prototype.copy=function(a){this.ne.copy(a.ne);this.f.copy(a.f)};b.qr=function(){this.ia=new b.cd;this.oa=new b.cd;this.qc=new b.cd;this.oj=new b.c;this.th=new b.c;this.wm=new b.c;this.Vm=0;this.Ff=[new b.c,new b.c,new b.c];this.Td=[new b.c,new b.c,new b.c];this.z=this.color=u;this.Mh=
[[]];this.a=u};b.rr=function(){this.ia=new b.cd;this.oa=new b.cd;this.qc=new b.cd;this.Pq=new b.cd;this.oj=new b.c;this.th=new b.c;this.wm=new b.c;this.Vm=0;this.Ff=[new b.c,new b.c,new b.c,new b.c];this.Td=[new b.c,new b.c,new b.c,new b.c];this.z=this.color=u;this.Mh=[[]];this.a=u};b.dv=function(){this.a=this.object=u};b.tr=function(){this.rotation=this.a=this.y=this.x=this.object=u;this.scale=new b.j;this.z=u};b.sr=function(){this.a=u;this.ia=new b.cd;this.oa=new b.cd;this.z=u};b.Vq={VB:function(a,
c,d,f){var g=b.Vq.Ev;a.Gx(g);g.Nj=b.vb.Sb(g.Nj+c,0,1);g.uk=b.vb.Sb(g.uk+d,0,1);g.Vk=b.vb.Sb(g.Vk+f,0,1);a.jA(g.Nj,g.uk,g.Vk)}};b.Vq.Ev={Nj:0,uk:0,Vk:0};b.$a={ta:function(a,c){var d,f,g=a.g.length,h=c instanceof b.ba?c.s:c,j=a.g,l=h.g,e=a.l,m=h.l,n=a.R[0],h=h.R[0];c instanceof b.ba&&(c.Rd&&c.Se(),d=c.$,f=new b.Fd,f.Wb(d),f.pg());for(var q=0,w=l.length;q<w;q++){var x=l[q].d();d&&x.xa(d);j.push(x)}q=0;for(w=m.length;q<w;q++){var x=m[q],p,v,z=x.N,s=x.u;x instanceof b.ja?p=new b.ja(x.v+g,x.i+g,x.w+g):
x instanceof b.za&&(p=new b.za(x.v+g,x.i+g,x.w+g,x.ua+g));p.o.copy(x.o);f&&p.o.Ee(f).normalize();j=0;for(l=z.length;j<l;j++)v=z[j].d(),f&&v.Ee(f).normalize(),p.N.push(v);p.color.copy(x.color);j=0;for(l=s.length;j<l;j++)v=s[j],p.u.push(v.d());p.Ta=x.Ta;p.Ka.copy(x.Ka);d&&p.Ka.xa(d);e.push(p)}q=0;for(w=h.length;q<w;q++){d=h[q];f=[];j=0;for(l=d.length;j<l;j++)f.push(new b.j(d[j].x,d[j].y));n.push(f)}},WF:function(a,b){for(var d={},f=0,g=b.length;f<g;f++)d[b[f]]=t;for(var h,j=[],f=0,g=a.l.length;f<g;f++)h=
a.l[f],h.Ta in d||j.push(h);a.l=j},Vp:function(a,c,d){var f,g,h,j=new b.c,l=b.$a.ma;f=b.$a.random();g=b.$a.random();1<f+g&&(f=1-f,g=1-g);h=1-f-g;j.copy(a);j.A(f);l.copy(c);l.A(g);j.add(l);l.copy(d);l.A(h);j.add(l);return j},Kz:function(a,c,d){var f,g,h;if(a instanceof b.ja)return f=c.g[a.v],g=c.g[a.i],h=c.g[a.w],b.$a.Vp(f,g,h);if(a instanceof b.za){f=c.g[a.v];g=c.g[a.i];h=c.g[a.w];c=c.g[a.ua];var j;d?a.zl&&a.Al?(d=a.zl,j=a.Al):(d=b.$a.Ih(f,g,c),j=b.$a.Ih(g,h,c),a.zl=d,a.Al=j):(d=b.$a.Ih(f,g,c),j=
b.$a.Ih(g,h,c));return b.$a.random()*(d+j)<d?b.$a.Vp(f,g,c):b.$a.Vp(g,h,c)}},VF:function(a,c){function d(a){function b(c,e){if(e<c)return c;var d=c+Math.floor((e-c)/2);return m[d]>a?b(c,d-1):m[d]<a?b(d+1,e):d}return b(0,m.length-1)}var f,g,h=a.l,j=a.g,l=h.length,e=0,m=[],n,q,w,x;for(g=0;g<l;g++)f=h[g],f instanceof b.ja?(n=j[f.v],q=j[f.i],w=j[f.w],f.Vr=b.$a.Ih(n,q,w)):f instanceof b.za&&(n=j[f.v],q=j[f.i],w=j[f.w],x=j[f.ua],f.zl=b.$a.Ih(n,q,x),f.Al=b.$a.Ih(q,w,x),f.Vr=f.zl+f.Al),e+=f.Vr,m[g]=e;f=[];
for(g=0;g<c;g++)j=b.$a.random()*e,j=d(j),f[g]=b.$a.Kz(h[j],a,t);return f},Ih:function(a,c,d){var f=b.$a.ma,g=b.$a.Rb;f.W(c,a);g.W(d,a);f.Od(g);return 0.5*f.length()},Hb:function(a){a.ko();var c=a.Ge,d=new b.c;d.Md(c.min,c.max);d.A(-0.5);a.ci((new b.O).Dy(d.x,d.y,d.a));a.ko();return d},qF:function(a){a=a.R[0];for(var b=0,d=a.length;b<d;b++)for(var f=a[b],g=0,h=f.length;g<h;g++)1!==f[g].x&&(f[g].x-=Math.floor(f[g].x)),1!==f[g].y&&(f[g].y-=Math.floor(f[g].y))},KG:function(a){var c,d,f,g,h=[],j=[],l=
[];c=0;for(d=a.ge.length;c<d;c++)j[c]=[];c=0;for(d=a.R.length;c<d;c++)l[c]=[];c=0;for(d=a.l.length;c<d;c++)if(f=a.l[c],f instanceof b.za){g=f.v;var e=f.i,m=f.w,n=f.ua,q=new b.ja,w=new b.ja;q.color.copy(f.color);w.color.copy(f.color);q.Ta=f.Ta;w.Ta=f.Ta;q.v=g;q.i=e;q.w=n;w.v=e;w.i=m;w.w=n;4===f.u.length&&(q.u[0]=f.u[0].d(),q.u[1]=f.u[1].d(),q.u[2]=f.u[3].d(),w.u[0]=f.u[1].d(),w.u[1]=f.u[2].d(),w.u[2]=f.u[3].d());h.push(q,w);f=0;for(g=a.R.length;f<g;f++)a.R[f].length&&(q=a.R[f][c],e=q[1],m=q[2],n=q[3],
q=[q[0].d(),e.d(),n.d()],e=[e.d(),m.d(),n.d()],l[f].push(q,e));f=0;for(g=a.ge.length;f<g;f++)a.ge[f].length&&(e=a.ge[f][c],j[f].push(e,e))}else{h.push(f);f=0;for(g=a.ge.length;f<g;f++)j[f].push(a.ge[f][c]);f=0;for(g=a.R.length;f<g;f++)l[f].push(a.R[f][c])}a.l=h;a.ge=j;a.R=l;a.kc();a.kd();a.Wf();a.si&&a.Pl()},jG:function(a,b,d,f){a=a.l;f=f||a.length-1;for(d=d||0;d<=f;d++)a[d].Ta=b}};b.$a.random=b.vb.Jz;b.$a.ma=new b.c;b.$a.Rb=new b.c;b.If={crossOrigin:"anonymous",uy:function(a,c,d,f){var g=new Image,
h=new b.wc(g,c);c=new b.cn;c.addEventListener("load",function(a){h.T=a.content;h.va=t;d&&d(h)});c.addEventListener("error",function(a){f&&f(a.message)});c.crossOrigin=this.crossOrigin;c.load(a,g);h.AA=a;return h},Us:function(a,c,d,f){var g=new b.rg;g.oc=c;var h=new XMLHttpRequest;h.onload=function(){var a=b.If.Jp(h.response,t);g.Ba=a.Ba;g.Kc=a.Kc;g.T.width=a.width;g.T.height=a.height;g.Vb=y;g.va=t;d&&d(g)};h.onerror=f;h.open("GET",a,t);h.responseType="arraybuffer";h.send(u);return g},vy:function(a,
c,d,f){var g=[];g.qh=0;var h=new b.wc;h.T=g;r!==c&&(h.oc=c);h.bh=y;c=0;for(var j=a.length;c<j;++c){var l=new Image;g[c]=l;l.onload=function(){g.qh+=1;6===g.qh&&(h.va=t,d&&d(h))};l.onerror=f;l.crossOrigin=this.crossOrigin;l.src=a[c]}return h},ty:function(a,c,d,f){var g=[];g.qh=0;var h=new b.rg;h.T=g;r!==c&&(h.oc=c);h.bh=y;h.Vb=y;c=function(a,c){return function(){var e=b.If.Jp(a.response,t);c.Ba=e.Ba;c.Kc=e.Kc;c.width=e.width;c.height=e.height;g.qh+=1;6===g.qh&&(h.Ba=e.Ba,h.va=t,d&&d(h))}};if(a instanceof
Array)for(var j=0,l=a.length;j<l;++j){var e={};g[j]=e;var m=new XMLHttpRequest;m.onload=c(m,e);m.onerror=f;e=a[j];m.open("GET",e,t);m.responseType="arraybuffer";m.send(u)}else m=new XMLHttpRequest,m.onload=function(){var a=b.If.Jp(m.response,t);if(a.Ns){for(var c=a.Kc.length/a.vi,e=0;e<c;e++){g[e]={Kc:[]};for(var f=0;f<a.vi;f++)g[e].Kc.push(a.Kc[e*a.vi+f]),g[e].Ba=a.Ba,g[e].width=a.width,g[e].height=a.height}h.Ba=a.Ba;h.va=t;d&&d(h)}},m.onerror=f,m.open("GET",a,t),m.responseType="arraybuffer",m.send(u);
return h},Jp:function(a,c){function d(a){return a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)}var f={Kc:[],width:0,height:0,Ba:u,vi:1},g=d("DXT1"),h=d("DXT3"),j=d("DXT5"),l=new Int32Array(a,0,31);if(542327876!==l[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),f;if(!l[20]&4)return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),f;var e=l[21];switch(e){case g:g=8;f.Ba=b.pr;break;case h:g=
16;f.Ba=b.nr;break;case j:g=16;f.Ba=b.or;break;default:return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",String.fromCharCode(e&255,e>>8&255,e>>16&255,e>>24&255)),f}f.vi=1;l[2]&131072&&y!==c&&(f.vi=Math.max(1,l[7]));f.Ns=l[28]&512?t:y;f.width=l[4];f.height=l[3];for(var l=l[1]+4,h=f.width,j=f.height,e=f.Ns?6:1,m=0;m<e;m++){for(var n=0;n<f.vi;n++){var q=Math.max(4,h)/4*Math.max(4,j)/4*g,w={data:new Uint8Array(a,l,q),width:h,height:j};f.Kc.push(w);l+=q;h=Math.max(0.5*h,1);j=Math.max(0.5*
j,1)}h=f.width;j=f.height}return f},JD:function(a,b){b|=1;var d=a.width,f=a.height,g=document.createElement("canvas");g.width=d;g.height=f;var h=g.getContext("2d");h.drawImage(a,0,0);for(var j=h.getImageData(0,0,d,f).data,l=h.createImageData(d,f),e=l.data,m=0;m<d;m++)for(var n=0;n<f;n++){var q=0>n-1?0:n-1,w=n+1>f-1?f-1:n+1,x=0>m-1?0:m-1,p=m+1>d-1?d-1:m+1,v=[],z=[0,0,j[4*(n*d+m)]/255*b];v.push([-1,0,j[4*(n*d+x)]/255*b]);v.push([-1,-1,j[4*(q*d+x)]/255*b]);v.push([0,-1,j[4*(q*d+m)]/255*b]);v.push([1,
-1,j[4*(q*d+p)]/255*b]);v.push([1,0,j[4*(n*d+p)]/255*b]);v.push([1,1,j[4*(w*d+p)]/255*b]);v.push([0,1,j[4*(w*d+m)]/255*b]);v.push([-1,1,j[4*(w*d+x)]/255*b]);q=[];x=v.length;for(w=0;w<x;w++){var p=v[w],s=v[(w+1)%x],p=[p[0]-z[0],p[1]-z[1],p[2]-z[2]],s=[s[0]-z[0],s[1]-z[1],s[2]-z[2]],p=[p[1]*s[2]-p[2]*s[1],p[2]*s[0]-p[0]*s[2],p[0]*s[1]-p[1]*s[0]],s=Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]);q.push([p[0]/s,p[1]/s,p[2]/s])}v=[0,0,0];for(w=0;w<q.length;w++)v[0]+=q[w][0],v[1]+=q[w][1],v[2]+=q[w][2];v[0]/=
q.length;v[1]/=q.length;v[2]/=q.length;z=4*(n*d+m);e[z]=255*((v[0]+1)/2)|0;e[z+1]=255*((v[1]+1)/2)|0;e[z+2]=255*v[2]|0;e[z+3]=255}h.putImageData(l,0,0);return g},GD:function(a,c,d){var f=a*c,g=new Uint8Array(3*f),h=Math.floor(255*d.q),j=Math.floor(255*d.p);d=Math.floor(255*d.i);for(var l=0;l<f;l++)g[3*l]=h,g[3*l+1]=j,g[3*l+2]=d;a=new b.sg(g,a,c,b.mn);a.va=t;return a}};b.MB={NC:function(a,c){for(var d=new b.D,f=0,g=c.length;f<g;f++)d.add(new b.ba(a,c[f]));return d},detach:function(a,b,d){a.ci(b.H);
b.remove(a);d.add(a)},eC:function(a,c,d){var f=new b.O;f.Wb(d.H);a.ci(f);c.remove(a);d.add(a)}};b.Pb={l:{},face:"helvetiker",Oh:"normal",style:"normal",size:150,xo:10,Fx:function(){return this.l[this.face][this.Oh][this.style]},Vs:function(a){var b=a.zD.toLowerCase();this.l[b]=this.l[b]||{};this.l[b][a.oo]=this.l[b][a.oo]||{};this.l[b][a.oo][a.Vw]=a;return this.l[b][a.oo][a.Vw]=a},ex:function(a){var c=this.Fx(),d=this.size/c.YF,f=0,g=String(a).split(""),h=g.length,j=[];for(a=0;a<h;a++){var l=new b.Qb,
l=this.nx(g[a],c,d,f,l),f=f+l.offset;j.push(l.path)}return{ut:j,offset:f/2}},nx:function(a,b,d,f,g){var h=[],j,l,e,m,n,q,w,x,p,v=b.Px[a]||b.Px["?"];if(v){if(v.fz){b=v.Nv||(v.Nv=v.fz.split(" "));m=b.length;for(a=0;a<m;)switch(e=b[a++],e){case "m":e=b[a++]*d+f;n=b[a++]*d;g.moveTo(e,n);break;case "l":e=b[a++]*d+f;n=b[a++]*d;g.lineTo(e,n);break;case "q":e=b[a++]*d+f;n=b[a++]*d;q=b[a++]*d+f;w=b[a++]*d;g.quadraticCurveTo(q,w,e,n);if(h[h.length-1]){j=1;for(l=this.xo;j<=l;j++);}break;case "b":if(e=b[a++]*
d+f,n=b[a++]*d,q=b[a++]*d+f,w=b[a++]*-d,x=b[a++]*d+f,p=b[a++]*-d,g.bezierCurveTo(e,n,q,w,x,p),h[h.length-1]){j=1;for(l=this.xo;j<=l;j++);}}}return{offset:v.RD*d,path:g}}}};b.Pb.Bx=function(a,c){c=c||{};var d=r!==c.wj?c.wj:4,f=r!==c.font?c.font:"helvetiker",g=r!==c.Oh?c.Oh:"normal",h=r!==c.style?c.style:"normal";b.Pb.size=r!==c.size?c.size:100;b.Pb.xo=d;b.Pb.face=f;b.Pb.Oh=g;b.Pb.style=h;d=b.Pb.ex(a).ut;f=[];g=0;for(h=d.length;g<h;g++)Array.prototype.push.apply(f,d[g].YA());return f};X=b.Pb;X.Cg=function(a,
b){var d=a.length;if(3>d)return u;var f=[],g=[],h=[],j,l,e;if(0<T(a))for(l=0;l<d;l++)g[l]=l;else for(l=0;l<d;l++)g[l]=d-1-l;var m=2*d;for(l=d-1;2<d;){if(0>=m--){console.log("Warning, unable to triangulate polygon!");break}j=l;d<=j&&(j=0);l=j+1;d<=l&&(l=0);e=l+1;d<=e&&(e=0);var n;a:{var q=r,w=r,x=r,p=r,v=r,z=r,s=r,A=r,q=a[g[j]].x,w=a[g[j]].y,x=a[g[l]].x,p=a[g[l]].y,v=a[g[e]].x,z=a[g[e]].y;if(1E-10>(x-q)*(z-w)-(p-w)*(v-q))n=y;else{var B=r,W=r,L=r,K=r,F=r,N=r,M=r,P=r,D=r,X=r,D=P=M=A=s=r,B=v-x,W=z-p,
L=q-v,K=w-z,F=x-q,N=p-w;for(n=0;n<d;n++)if(!(n===j||n===l||n===e))if(s=a[g[n]].x,A=a[g[n]].y,M=s-q,P=A-w,D=s-x,X=A-p,s-=v,A-=z,D=B*X-W*D,M=F*P-N*M,P=L*A-K*s,0<=D&&0<=P&&0<=M){n=y;break a}n=t}}if(n){f.push([a[g[j]],a[g[l]],a[g[e]]]);h.push([g[j],g[l],g[e]]);j=l;for(e=l+1;e<d;j++,e++)g[j]=g[e];d--;m=2*d}}return b?h:f};X.Cg.Sf=T;self.TB={l:b.Pb.l,Vs:b.Pb.Vs};b.ga=Xb();b.ga.prototype.bb=function(){console.log("Warning, getPoint() not implemented!");return u};b.ga.prototype.Jj=function(a){a=this.Oo(a);
return this.bb(a)};b.ga.prototype.pi=function(a){a||(a=5);var b,d=[];for(b=0;b<=a;b++)d.push(this.bb(b/a));return d};b.ga.prototype.im=function(a){a||(a=5);var b,d=[];for(b=0;b<=a;b++)d.push(this.Jj(b/a));return d};b.ga.prototype.ni=function(){var a=this.As();return a[a.length-1]};b.ga.prototype.As=function(){var a;a||(a=this.Bv?this.Bv:200);if(this.ao&&this.ao.length==a+1&&!this.va)return this.ao;this.va=y;var b=[],d,f=this.bb(0),g,h=0;b.push(0);for(g=1;g<=a;g++)d=this.bb(g/a),h+=d.Ug(f),b.push(h),
f=d;return this.ao=b};b.ga.prototype.Oo=function(a,b){var d=this.As(),f=0,g=d.length,h;h=b?b:a*d[g-1];for(var j=0,l=g-1,e;j<=l;)if(f=Math.floor(j+(l-j)/2),e=d[f]-h,0>e)j=f+1;else if(0<e)l=f-1;else{l=f;break}f=l;if(d[f]==h)return f/(g-1);j=d[f];return(f+(h-j)/(d[f+1]-j))/(g-1)};b.ga.prototype.jm=function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.bb(b);return this.bb(a).d().sub(b).normalize()};b.ga.prototype.Ox=function(a){a=this.Oo(a);return this.jm(a)};b.Uh=function(a,b){this.ia=a;this.oa=
b};b.Uh.prototype=Object.create(b.ga.prototype);b.Uh.prototype.bb=function(a){var b=this.oa.d().sub(this.ia);b.A(a).add(this.ia);return b};b.Uh.prototype.Jj=function(a){return this.bb(a)};b.Uh.prototype.jm=function(){return this.oa.d().sub(this.ia).normalize()};b.kl=function(a,b,d){this.fc=a;this.ia=b;this.oa=d};b.kl.prototype=Object.create(b.ga.prototype);b.kl.prototype.bb=function(a){var c;c=b.ha.ca.Ig(a,this.fc.x,this.ia.x,this.oa.x);a=b.ha.ca.Ig(a,this.fc.y,this.ia.y,this.oa.y);return new b.j(c,
a)};b.kl.prototype.jm=function(a){var c;c=b.ga.ca.au(a,this.fc.x,this.ia.x,this.oa.x);a=b.ga.ca.au(a,this.fc.y,this.ia.y,this.oa.y);c=new b.j(c,a);c.normalize();return c};b.bl=function(a,b,d,f){this.fc=a;this.ia=b;this.oa=d;this.qc=f};b.bl.prototype=Object.create(b.ga.prototype);b.bl.prototype.bb=function(a){var c;c=b.ha.ca.Jg(a,this.fc.x,this.ia.x,this.oa.x,this.qc.x);a=b.ha.ca.Jg(a,this.fc.y,this.ia.y,this.oa.y,this.qc.y);return new b.j(c,a)};b.bl.prototype.jm=function(a){var c;c=b.ga.ca.$t(a,this.fc.x,
this.ia.x,this.oa.x,this.qc.x);a=b.ga.ca.$t(a,this.fc.y,this.ia.y,this.oa.y,this.qc.y);c=new b.j(c,a);c.normalize();return c};b.qn=function(a){this.S=r==a?[]:a};b.qn.prototype=Object.create(b.ga.prototype);b.qn.prototype.bb=function(a){var c=new b.j,d=[],f=this.S,g;g=(f.length-1)*a;a=Math.floor(g);g-=a;d[0]=0==a?a:a-1;d[1]=a;d[2]=a>f.length-2?f.length-1:a+1;d[3]=a>f.length-3?f.length-1:a+2;c.x=b.ga.ca.Qd(f[d[0]].x,f[d[1]].x,f[d[2]].x,f[d[3]].x,g);c.y=b.ga.ca.Qd(f[d[0]].y,f[d[1]].y,f[d[2]].y,f[d[3]].y,
g);return c};b.Ki=function(a,b,d,f,g,h,j){this.Qv=a;this.Rv=b;this.uB=d;this.vB=f;this.Xr=g;this.Pv=h;this.Ov=j};b.Ki.prototype=Object.create(b.ga.prototype);b.Ki.prototype.bb=function(a){var c=this.Pv-this.Xr;this.Ov||(a=1-a);c=this.Xr+a*c;a=this.Qv+this.uB*Math.cos(c);c=this.Rv+this.vB*Math.sin(c);return new b.j(a,c)};b.uu=function(a,c,d,f,g,h){b.Ki.call(this,a,c,d,d,f,g,h)};b.uu.prototype=Object.create(b.Ki.prototype);b.ga.ca={au:function(a,b,d,f){return 2*(1-a)*(d-b)+2*a*(f-d)},$t:function(a,
b,d,f,g){return-3*b*(1-a)*(1-a)+3*d*(1-a)*(1-a)-6*a*d*(1-a)+6*a*f*(1-a)-3*a*a*f+3*a*a*g},CG:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},Qd:function(a,b,d,f,g){a=0.5*(d-a);f=0.5*(f-b);var h=g*g;return(2*b-2*d+a+f)*g*h+(-3*b+3*d-2*a-f)*h+a*g+b}};b.ga.create=function(a,c){a.prototype=Object.create(b.ga.prototype);a.prototype.bb=c;return a};b.HB=b.ga.create(function(a,b){this.ia=a;this.oa=b},function(a){var c=new b.c;c.W(this.oa,this.ia);c.A(a);c.add(this.ia);return c});b.LB=
b.ga.create(function(a,b,d){this.fc=a;this.ia=b;this.oa=d},function(a){var c,d;c=b.ha.ca.Ig(a,this.fc.x,this.ia.x,this.oa.x);d=b.ha.ca.Ig(a,this.fc.y,this.ia.y,this.oa.y);a=b.ha.ca.Ig(a,this.fc.a,this.ia.a,this.oa.a);return new b.c(c,d,a)});b.CB=b.ga.create(function(a,b,d,f){this.fc=a;this.ia=b;this.oa=d;this.qc=f},function(a){var c,d;c=b.ha.ca.Jg(a,this.fc.x,this.ia.x,this.oa.x,this.qc.x);d=b.ha.ca.Jg(a,this.fc.y,this.ia.y,this.oa.y,this.qc.y);a=b.ha.ca.Jg(a,this.fc.a,this.ia.a,this.oa.a,this.qc.a);
return new b.c(c,d,a)});b.PB=b.ga.create(function(a){this.S=r==a?[]:a},function(a){var c=new b.c,d=[],f=this.S,g;a*=f.length-1;g=Math.floor(a);a-=g;d[0]=0==g?g:g-1;d[1]=g;d[2]=g>f.length-2?f.length-1:g+1;d[3]=g>f.length-3?f.length-1:g+2;g=f[d[0]];var h=f[d[1]],j=f[d[2]],d=f[d[3]];c.x=b.ga.ca.Qd(g.x,h.x,j.x,d.x,a);c.y=b.ga.ca.Qd(g.y,h.y,j.y,d.y,a);c.a=b.ga.ca.Qd(g.a,h.a,j.a,d.a,a);return c});b.AB=b.ga.create(function(a){this.S=r==a?[]:a},function(a){var c=new b.c,d=[],f=this.S,g;g=(f.length-0)*a;a=
Math.floor(g);g-=a;a+=0<a?0:(Math.floor(Math.abs(a)/f.length)+1)*f.length;d[0]=(a-1)%f.length;d[1]=a%f.length;d[2]=(a+1)%f.length;d[3]=(a+2)%f.length;c.x=b.ga.ca.Qd(f[d[0]].x,f[d[1]].x,f[d[2]].x,f[d[3]].x,g);c.y=b.ga.ca.Qd(f[d[0]].y,f[d[1]].y,f[d[2]].y,f[d[3]].y,g);c.a=b.ga.ca.Qd(f[d[0]].a,f[d[1]].a,f[d[2]].a,f[d[3]].a,g);return c});b.Ed=function(){this.Ab=[];this.Kl=[];this.fC=y};b.Ed.prototype=Object.create(b.ga.prototype);b.Ed.prototype.add=function(a){this.Ab.push(a)};b.Ed.prototype.closePath=
function(){var a=this.Ab[0].bb(0),c=this.Ab[this.Ab.length-1].bb(1);a.ab(c)||this.Ab.push(new b.Uh(c,a))};b.Ed.prototype.bb=function(a){var b=a*this.ni(),d=this.zs();for(a=0;a<d.length;){if(d[a]>=b)return b=d[a]-b,a=this.Ab[a],b=1-b/a.ni(),a.Jj(b);a++}return u};b.Ed.prototype.ni=function(){var a=this.zs();return a[a.length-1]};b.Ed.prototype.zs=function(){if(this.co&&this.co.length==this.Ab.length)return this.co;var a=[],b=0,d,f=this.Ab.length;for(d=0;d<f;d++)b+=this.Ab[d].ni(),a.push(b);return this.co=
a};b.Ed.prototype.hm=function(){var a=this.pi(),c,d,f,g,h,j;c=d=Number.NEGATIVE_INFINITY;g=h=Number.POSITIVE_INFINITY;var l,e,m,n,q=a[0]instanceof b.c;n=q?new b.c:new b.j;e=0;for(m=a.length;e<m;e++)l=a[e],l.x>c?c=l.x:l.x<g&&(g=l.x),l.y>d?d=l.y:l.y<h&&(h=l.y),q&&(l.a>f?f=l.a:l.a<j&&(j=l.a)),n.add(l);a={hF:g,iF:h,Ny:c,WE:d,Ka:n.Ie(m)};q&&(a.XE=f,a.jF=j);return a};b.Ed.prototype.Ds=function(a,b){var d=this.pi(a),f,g;b||(b=this.Kl);f=0;for(g=b.length;f<g;f++)d=this.Fs(d,b[f]);return d};b.Ed.prototype.Es=
function(a,b){var d=this.im(a),f,g;b||(b=this.Kl);f=0;for(g=b.length;f<g;f++)d=this.Fs(d,b[f]);return d};b.Ed.prototype.Fs=function(a,b){var d=this.hm(),f,g,h,j,l,e;f=0;for(g=a.length;f<g;f++)h=a[f],j=h.x,l=h.y,e=j/d.Ny,e=b.Oo(e,j),j=b.bb(e),l=b.KD(e).A(l),h.x=j.x+l.x,h.y=j.y+l.y;return a};b.Be=function(){b.D.call(this)};b.Be.prototype=Object.create(b.D.prototype);b.Be.prototype.Oc=function(a){this.Rd&&this.Se();if(this.Kb||a)this.parent?(this.H.cb(this.parent.H,this.$),this.H.Sl(this.du,this.Vz,
this.Ft),this.$.Sl(this.aB,this.Et,this.Yz),this.H.Ow(this.du,this.Et,this.Ft)):this.H.copy(this.$),this.Kb=y,a=t;for(var b=0,d=this.children.length;b<d;b++)this.children[b].Oc(a)};b.Be.prototype.du=new b.c;b.Be.prototype.aB=new b.c;b.Be.prototype.Vz=new b.vc;b.Be.prototype.Et=new b.vc;b.Be.prototype.Ft=new b.c;b.Be.prototype.Yz=new b.c;b.Qb=function(a){b.Ed.call(this);this.wa=[];a&&this.Ax(a)};b.Qb.prototype=Object.create(b.Ed.prototype);b.bd={jn:"moveTo",br:"lineTo",lr:"quadraticCurveTo",Uq:"bezierCurveTo",
yu:"splineThru",su:"arc",Yq:"ellipse"};b.Qb.prototype.Ax=function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,d=a.length;b<d;b++)this.lineTo(a[b].x,a[b].y)};b.Qb.prototype.moveTo=function(a,c){var d=Array.prototype.slice.call(arguments);this.wa.push({action:b.bd.jn,jd:d})};b.Qb.prototype.lineTo=function(a,c){var d=Array.prototype.slice.call(arguments),f=this.wa[this.wa.length-1].jd,f=new b.Uh(new b.j(f[f.length-2],f[f.length-1]),new b.j(a,c));this.Ab.push(f);this.wa.push({action:b.bd.br,jd:d})};b.Qb.prototype.quadraticCurveTo=
function(a,c,d,f){var g=Array.prototype.slice.call(arguments),h=this.wa[this.wa.length-1].jd,h=new b.kl(new b.j(h[h.length-2],h[h.length-1]),new b.j(a,c),new b.j(d,f));this.Ab.push(h);this.wa.push({action:b.bd.lr,jd:g})};b.Qb.prototype.bezierCurveTo=function(a,c,d,f,g,h){var j=Array.prototype.slice.call(arguments),l=this.wa[this.wa.length-1].jd,l=new b.bl(new b.j(l[l.length-2],l[l.length-1]),new b.j(a,c),new b.j(d,f),new b.j(g,h));this.Ab.push(l);this.wa.push({action:b.bd.Uq,jd:j})};b.Qb.prototype.arc=
function(a,b,d,f,g,h){var j=this.wa[this.wa.length-1].jd;this.Sv(a+j[j.length-2],b+j[j.length-1],d,f,g,h)};b.Qb.prototype.Sv=function(a,b,d,f,g,h){this.Tv(a,b,d,d,f,g,h)};b.Qb.prototype.Tv=function(a,c,d,f,g,h,j){var l=Array.prototype.slice.call(arguments),e=new b.Ki(a,c,d,f,g,h,j);this.Ab.push(e);e=e.bb(j?1:0);l.push(e.x);l.push(e.y);this.wa.push({action:b.bd.Yq,jd:l})};b.Qb.prototype.im=function(a){a||(a=40);for(var b=[],d=0;d<a;d++)b.push(this.bb(d/a));return b};b.Qb.prototype.pi=function(a,c){if(this.nB)return console.log("tata"),
this.im(a,c);a=a||12;var d=[],f,g,h,j,l,e,m,n,q,w,x,p,v;f=0;for(g=this.wa.length;f<g;f++)switch(h=this.wa[f],j=h.action,h=h.jd,j){case b.bd.jn:d.push(new b.j(h[0],h[1]));break;case b.bd.br:d.push(new b.j(h[0],h[1]));break;case b.bd.lr:l=h[2];e=h[3];q=h[0];w=h[1];0<d.length?(j=d[d.length-1],x=j.x,p=j.y):(j=this.wa[f-1].jd,x=j[j.length-2],p=j[j.length-1]);for(h=1;h<=a;h++)v=h/a,j=b.ha.ca.Ig(v,x,q,l),v=b.ha.ca.Ig(v,p,w,e),d.push(new b.j(j,v));break;case b.bd.Uq:l=h[4];e=h[5];q=h[0];w=h[1];m=h[2];n=h[3];
0<d.length?(j=d[d.length-1],x=j.x,p=j.y):(j=this.wa[f-1].jd,x=j[j.length-2],p=j[j.length-1]);for(h=1;h<=a;h++)v=h/a,j=b.ha.ca.Jg(v,x,q,m,l),v=b.ha.ca.Jg(v,p,w,n,e),d.push(new b.j(j,v));break;case b.bd.yu:j=this.wa[f-1].jd;v=[new b.j(j[j.length-2],j[j.length-1])];j=a*h[0].length;v=v.concat(h[0]);v=new b.qn(v);for(h=1;h<=j;h++)d.push(v.Jj(h/j));break;case b.bd.su:l=h[0];e=h[1];w=h[2];m=h[3];j=h[4];q=!!h[5];x=j-m;p=2*a;for(h=1;h<=p;h++)v=h/p,q||(v=1-v),v=m+v*x,j=l+w*Math.cos(v),v=e+w*Math.sin(v),d.push(new b.j(j,
v));break;case b.bd.Yq:l=h[0];e=h[1];w=h[2];n=h[3];m=h[4];j=h[5];q=!!h[6];x=j-m;p=2*a;for(h=1;h<=p;h++)v=h/p,q||(v=1-v),v=m+v*x,j=l+w*Math.cos(v),v=e+n*Math.sin(v),d.push(new b.j(j,v))}f=d[d.length-1];1E-10>Math.abs(f.x-d[0].x)&&1E-10>Math.abs(f.y-d[0].y)&&d.splice(d.length-1,1);c&&d.push(d[0]);return d};b.Qb.prototype.YA=function(){var a,c,d,f,g=[],h=new b.Qb;a=0;for(c=this.wa.length;a<c;a++)d=this.wa[a],f=d.jd,d=d.action,d==b.bd.jn&&0!=h.wa.length&&(g.push(h),h=new b.Qb),h[d].apply(h,f);0!=h.wa.length&&
g.push(h);if(0==g.length)return[];var j;f=[];a=!b.ha.ca.kh(g[0].pi());if(1==g.length)return h=g[0],j=new b.ha,j.wa=h.wa,j.Ab=h.Ab,f.push(j),f;if(a){j=new b.ha;a=0;for(c=g.length;a<c;a++)h=g[a],b.ha.ca.kh(h.pi())?(j.wa=h.wa,j.Ab=h.Ab,f.push(j),j=new b.ha):j.Me.push(h)}else{a=0;for(c=g.length;a<c;a++)h=g[a],b.ha.ca.kh(h.pi())?(j&&f.push(j),j=new b.ha,j.wa=h.wa,j.Ab=h.Ab):j.Me.push(h);f.push(j)}return f};b.ha=function(){b.Qb.apply(this,arguments);this.Me=[]};b.ha.prototype=Object.create(b.Qb.prototype);
b.ha.prototype.Jx=function(a){var b,d=this.Me.length,f=[];for(b=0;b<d;b++)f[b]=this.Me[b].Ds(a,this.Kl);return f};b.ha.prototype.Nx=function(a){var b,d=this.Me.length,f=[];for(b=0;b<d;b++)f[b]=this.Me[b].Es(a,this.Kl);return f};b.ha.prototype.lx=function(a){return{shape:this.Ds(a),Me:this.Jx(a)}};b.ha.prototype.qs=function(a){return this.nB?this.mx(a):this.lx(a)};b.ha.prototype.mx=function(a){return{shape:this.Es(a),Me:this.Nx(a)}};b.ha.ca={Mz:function(a,c){var d=a.concat(),f=d.concat(),g,h,j,l,e,
m,n,q,w,x,p=[];for(e=0;e<c.length;e++){m=c[e];Array.prototype.push.apply(f,m);h=Number.POSITIVE_INFINITY;for(g=0;g<m.length;g++){w=m[g];x=[];for(q=0;q<d.length;q++)n=d[q],n=w.Vg(n),x.push(n),n<h&&(h=n,j=g,l=q)}g=0<=l-1?l-1:d.length-1;h=0<=j-1?j-1:m.length-1;var v=[m[j],d[l],d[g]];q=b.Pb.Cg.Sf(v);var z=[m[j],m[h],d[l]];w=b.Pb.Cg.Sf(z);x=l;n=j;l+=1;j+=-1;0>l&&(l+=d.length);l%=d.length;0>j&&(j+=m.length);j%=m.length;g=0<=l-1?l-1:d.length-1;h=0<=j-1?j-1:m.length-1;v=[m[j],d[l],d[g]];v=b.Pb.Cg.Sf(v);z=
[m[j],m[h],d[l]];z=b.Pb.Cg.Sf(z);q+w>v+z&&(l=x,j=n,0>l&&(l+=d.length),l%=d.length,0>j&&(j+=m.length),j%=m.length,g=0<=l-1?l-1:d.length-1,h=0<=j-1?j-1:m.length-1);q=d.slice(0,l);w=d.slice(l);x=m.slice(j);n=m.slice(0,j);h=[m[j],m[h],d[l]];p.push([m[j],d[l],d[g]]);p.push(h);d=q.concat(x).concat(n).concat(w)}return{shape:d,gy:p,aw:f}},eu:function(a,c){var d=b.ha.ca.Mz(a,c),f=d.aw,g=d.gy,d=b.Pb.Cg(d.shape,y),h,j,l,e,m={};h=0;for(j=f.length;h<j;h++)e=f[h].x+":"+f[h].y,r!==m[e]&&console.log("Duplicate point",
e),m[e]=h;h=0;for(j=d.length;h<j;h++){l=d[h];for(f=0;3>f;f++)e=l[f].x+":"+l[f].y,e=m[e],r!==e&&(l[f]=e)}h=0;for(j=g.length;h<j;h++){l=g[h];for(f=0;3>f;f++)e=l[f].x+":"+l[f].y,e=m[e],r!==e&&(l[f]=e)}return d.concat(g)},kh:function(a){return 0>b.Pb.Cg.Sf(a)},mw:function(a,b){var d=1-a;return d*d*b},nw:function(a,b){return 2*(1-a)*a*b},ow:function(a,b){return a*a*b},Ig:function(a,b,d,f){return this.mw(a,b)+this.nw(a,d)+this.ow(a,f)},pw:function(a,b){var d=1-a;return d*d*d*b},qw:function(a,b){var d=1-
a;return 3*d*d*a*b},rw:function(a,b){return 3*(1-a)*a*a*b},sw:function(a,b){return a*a*a*b},Jg:function(a,b,d,f,g){return this.pw(a,b)+this.qw(a,d)+this.rw(a,f)+this.sw(a,g)}};var A=[],B={},X={update:function(a){for(var b=0;b<A.length;b++)A[b].update(a)},Zr:function(a){-1===A.indexOf(a)&&A.push(a)},Dm:function(a){a=A.indexOf(a);-1!==a&&A.splice(a,1)},add:function(a){r!==B[a.name]&&console.log("THREE.AnimationHandler.add: Warning! "+a.name+" already exists in library. Overwriting.");B[a.name]=a;if(t!==
a.Sj){for(var c=0;c<a.C.length;c++){for(var d=0;d<a.C[c].keys.length;d++)if(0>a.C[c].keys[d].time&&(a.C[c].keys[d].time=0),r!==a.C[c].keys[d].gq&&!(a.C[c].keys[d].gq instanceof b.vc)){var f=a.C[c].keys[d].gq;a.C[c].keys[d].gq=new b.vc(f[0],f[1],f[2],f[3])}if(a.C[c].keys.length&&r!==a.C[c].keys[0].L){f={};for(d=0;d<a.C[c].keys.length;d++)for(var g=0;g<a.C[c].keys[d].L.length;g++){var h=a.C[c].keys[d].L[g];f[h]=-1}a.C[c].RG=f;for(d=0;d<a.C[c].keys.length;d++){var j={};for(h in f){for(g=0;g<a.C[c].keys[d].L.length;g++)if(a.C[c].keys[d].L[g]===
h){j[h]=a.C[c].keys[d].Uy[g];break}g===a.C[c].keys[d].L.length&&(j[h]=0)}a.C[c].keys[d].Uy=j}}for(d=1;d<a.C[c].keys.length;d++)a.C[c].keys[d].time===a.C[c].keys[d-1].time&&(a.C[c].keys.splice(d,1),d--);for(d=0;d<a.C[c].keys.length;d++)a.C[c].keys[d].index=d}d=parseInt(a.length*a.Fj,10);a.en={};a.en.C=[];for(c=0;c<a.C.length;c++)a.en.C.push(Array(d));a.Sj=t}},get:function(a){if("string"===typeof a){if(B[a])return B[a];console.log("THREE.AnimationHandler.get: Couldn't find animation "+a);return u}},
parse:function(a){var c=[];if(a instanceof b.Sc)for(var d=0;d<a.rb.length;d++)c.push(a.rb[d]);else s(a,c);return c},LINEAR:0,Xm:1,$k:2};b.ub=X;b.Ve=function(a,c,d){this.root=a;this.data=b.ub.get(c);this.C=b.ub.parse(a);this.currentTime=0;this.Dq=1;this.Wj=y;this.loop=this.of=t;this.Zf=r!==d?d:b.ub.LINEAR;this.S=[];this.target=new b.c};b.Ve.prototype.pause=function(){t===this.of?b.ub.Zr(this):b.ub.Dm(this);this.of=!this.of};b.Ve.prototype.stop=function(){this.of=this.Wj=y;b.ub.Dm(this)};b.Ve.prototype.update=
function(a){if(y!==this.Wj){var c=["pos","rot","scl"],d,f,g,h,j,l,e,m,n;n=this.currentTime+=a*this.Dq;m=this.currentTime%=this.data.length;Math.min(m*this.data.Fj,this.data.length*this.data.Fj);for(var q=0,w=this.C.length;q<w;q++){a=this.C[q];e=a.Fl;for(var x=0;3>x;x++){d=c[x];j=e.Sp[d];l=e.xp[d];if(l.time<=n){if(m<n)if(this.loop){j=this.data.C[q].keys[0];for(l=this.oi(d,q,1);l.time<m;)j=l,l=this.oi(d,q,l.index+1)}else{this.stop();return}else{do j=l,l=this.oi(d,q,l.index+1);while(l.time<m)}e.Sp[d]=
j;e.xp[d]=l}a.Rd=t;a.Kb=t;f=(m-j.time)/(l.time-j.time);g=j[d];h=l[d];if(0>f||1<f)console.log("THREE.Animation.update: Warning! Scale out of bounds:"+f+" on bone "+q),f=0>f?0:1;if("pos"===d)if(d=a.position,this.Zf===b.ub.LINEAR)d.x=g[0]+(h[0]-g[0])*f,d.y=g[1]+(h[1]-g[1])*f,d.a=g[2]+(h[2]-g[2])*f;else{if(this.Zf===b.ub.Xm||this.Zf===b.ub.$k)this.S[0]=this.Ko("pos",q,j.index-1).Cm,this.S[1]=g,this.S[2]=h,this.S[3]=this.oi("pos",q,l.index+1).Cm,f=0.33*f+0.33,g=this.Ls(this.S,f),d.x=g[0],d.y=g[1],d.a=
g[2],this.Zf===b.ub.$k&&(f=this.Ls(this.S,1.01*f),this.target.set(f[0],f[1],f[2]),this.target.sub(d),this.target.y=0,this.target.normalize(),f=Math.atan2(this.target.x,this.target.a),a.rotation.set(0,f,0))}else"rot"===d?b.vc.vq(g,h,a.sd,f):"scl"===d&&(d=a.scale,d.x=g[0]+(h[0]-g[0])*f,d.y=g[1]+(h[1]-g[1])*f,d.a=g[2]+(h[2]-g[2])*f)}}}};b.Ve.prototype.Ls=function(a,b){var d=[],f=[],g,h,j,l,e,m;g=(a.length-1)*b;h=Math.floor(g);g-=h;d[0]=0===h?h:h-1;d[1]=h;d[2]=h>a.length-2?h:h+1;d[3]=h>a.length-3?h:h+
2;h=a[d[0]];l=a[d[1]];e=a[d[2]];m=a[d[3]];d=g*g;j=g*d;f[0]=this.Qd(h[0],l[0],e[0],m[0],g,d,j);f[1]=this.Qd(h[1],l[1],e[1],m[1],g,d,j);f[2]=this.Qd(h[2],l[2],e[2],m[2],g,d,j);return f};b.Ve.prototype.Qd=function(a,b,d,f,g,h,j){a=0.5*(d-a);f=0.5*(f-b);return(2*(b-d)+a+f)*j+(-3*(b-d)-2*a-f)*h+a*g+b};b.Ve.prototype.oi=function(a,c,d){var f=this.data.C[c].keys;for(d=this.Zf===b.ub.Xm||this.Zf===b.ub.$k?d<f.length-1?d:f.length-1:d%f.length;d<f.length;d++)if(r!==f[d][a])return f[d];return this.data.C[c].keys[0]};
b.Ve.prototype.Ko=function(a,c,d){var f=this.data.C[c].keys;for(d=this.Zf===b.ub.Xm||this.Zf===b.ub.$k?0<d?d:0:0<=d?d:d+f.length;0<=d;d--)if(r!==f[d][a])return f[d];return this.data.C[c].keys[f.length-1]};b.Ni=function(a,c,d){this.root=a;this.data=b.ub.get(c);this.C=b.ub.parse(a);this.currentTime=0;this.Dq=0.001;this.Wj=y;this.loop=this.of=t;this.fn=r!==d?d:t;a=0;for(c=this.C.length;a<c;a++){d=this.data.C[a].uA;var f=this.C[a];if(this.data.C[a].keys.length&&d){for(var g=0;g<d.length;g++){var h=d[g],
j=this.oi(h,a,0);j&&j.apply(h)}f.Rd=y;this.data.C[a].mt.Se();f.Kb=t}}};b.Ni.prototype.pause=function(){this.of?b.ub.Zr(this):b.ub.Dm(this);this.of=!this.of};b.Ni.prototype.stop=function(){this.of=this.Wj=y;b.ub.Dm(this);for(var a=0;a<this.data.C.length;a++){var c=this.C[a],d=this.data.C[a];if(r!==d.Fl){var f=d.Fl.rt;c instanceof b.We?(f.copy(c.Pe),c.Pe=f):(f.copy(c.$),c.$=f);delete d.Fl}}};b.Ni.prototype.update=function(a){if(this.Wj){var c,d,f,g,h=this.data.en.C,j,l,e;l=this.currentTime+=a*this.Dq;
j=this.currentTime%=this.data.length;j<this.LA&&(j=this.currentTime=this.LA+j);g=parseInt(Math.min(j*this.data.Fj,this.data.length*this.data.Fj),10);if((e=j<l)&&!this.loop){a=0;for(var m=this.C.length;a<m;a++){var n=this.data.C[a].keys,h=this.data.C[a].uA;f=n.length-1;g=this.C[a];if(n.length){for(n=0;n<h.length;n++)j=h[n],(l=this.Ko(j,a,f))&&l.apply(j);this.data.C[a].mt.Se();g.Kb=t}}this.stop()}else if(!(j<this.startTime)){a=0;for(m=this.C.length;a<m;a++){f=this.C[a];c=this.data.C[a];var n=c.keys,
q=c.Fl;if(this.fn&&r!==h[a][g])f instanceof b.We?(f.Pe=h[a][g],f.Kb=y):(f.$=h[a][g],f.Kb=t);else if(n.length){this.fn&&q&&(f instanceof b.We?f.Pe=q.rt:f.$=q.rt);c=q.Sp;d=q.xp;if(c&&d&&d.time<=l){if(e&&this.loop){c=n[0];for(d=n[1];d.time<j;)c=d,d=n[c.index+1]}else if(!e)for(var w=n.length-1;d.time<j&&d.index!==w;)c=d,d=n[c.index+1];q.Sp=c;q.xp=d}this.data.C[a].mt.Se();f.Kb=t}}if(this.fn&&r===h[0][g]){this.C[0].Oc(t);for(a=0;a<this.C.length;a++)h[a][g]=this.C[a]instanceof b.We?this.C[a].Pe.d():this.C[a].$.d()}}}};
b.Ni.prototype.oi=function(a,b,d){b=this.data.C[b].keys;for(d%=b.length;d<b.length;d++)if(b[d].Tx(a))return b[d];return b[0]};b.Ni.prototype.Ko=function(a,b,d){b=this.data.C[b].keys;for(d=0<=d?d:d+b.length;0<=d;d--)if(b[d].Tx(a))return b[d];return b[b.length-1]};b.Cu=function(a,c,d){b.D.call(this);var f=new b.Hd(90,1,a,c);f.Nc.set(0,-1,0);f.$b(new b.c(1,0,0));this.add(f);var g=new b.Hd(90,1,a,c);g.Nc.set(0,-1,0);g.$b(new b.c(-1,0,0));this.add(g);var h=new b.Hd(90,1,a,c);h.Nc.set(0,0,1);h.$b(new b.c(0,
1,0));this.add(h);var j=new b.Hd(90,1,a,c);j.Nc.set(0,0,-1);j.$b(new b.c(0,-1,0));this.add(j);var l=new b.Hd(90,1,a,c);l.Nc.set(0,-1,0);l.$b(new b.c(0,0,1));this.add(l);var e=new b.Hd(90,1,a,c);e.Nc.set(0,-1,0);e.$b(new b.c(0,0,-1));this.add(e);this.cq=new b.Dg(d,d,{Ba:b.mn,Jc:b.vg,ac:b.vg});this.PG=function(a,b){var c=this.cq,d=c.Vb;c.Vb=y;c.Fg=0;a.t(b,f,c);c.Fg=1;a.t(b,g,c);c.Fg=2;a.t(b,h,c);c.Fg=3;a.t(b,j,c);c.Fg=4;a.t(b,l,c);c.Vb=d;c.Fg=5;a.t(b,e,c)}};b.Cu.prototype=Object.create(b.D.prototype);
b.Ji=function(a,c,d,f,g,h,j){b.Yc.call(this);this.dh=d;this.left=-a/2;this.right=a/2;this.top=c/2;this.bottom=-c/2;this.Vf=new b.Si(a/-2,a/2,c/2,c/-2,h,j);this.gf=new b.Hd(d,a/c,f,g);this.zoom=1;this.Gq()};b.Ji.prototype=Object.create(b.Yc.prototype);b.Ji.prototype.Gq=function(){this.mb=this.gf.mb;this.sb=this.gf.sb;this.gf.dh=this.dh/this.zoom;this.gf.Cf();this.Ga=this.gf.Ga;this.Js=t;this.$x=y};b.Ji.prototype.XA=function(){var a=this.gf.di,b=(this.gf.mb+this.gf.sb)/2,b=Math.tan(this.dh/2)*b,a=2*
b*a/2,b=b/this.zoom,a=a/this.zoom;this.Vf.left=-a;this.Vf.right=a;this.Vf.top=b;this.Vf.bottom=-b;this.Vf.Cf();this.mb=this.Vf.mb;this.sb=this.Vf.sb;this.Ga=this.Vf.Ga;this.Js=y;this.$x=t};b.Ji.prototype.xk=function(a,b){this.gf.di=a/b;this.left=-a/2;this.right=a/2;this.top=b/2;this.bottom=-b/2};b.Ji.prototype.Cf=function(){this.Js?this.Gq():(this.Gq(),this.XA())};b.Zk=function(a,c){b.Q.call(this);for(var d=0.707*a,f=0.707*c,d=[[a,0,0],[c,0,0],[-a,0,0],[-c,0,0],[0,a,0],[0,c,0],[0,-a,0],[0,-c,0],[0,
0,a],[0,0,c],[0,0,-a],[0,0,-c],[d,d,0],[f,f,0],[-d,-d,0],[-f,-f,0],[d,-d,0],[f,-f,0],[-d,d,0],[-f,f,0],[d,0,d],[f,0,f],[-d,0,-d],[-f,0,-f],[d,0,-d],[f,0,-f],[-d,0,d],[-f,0,f],[0,d,d],[0,f,f],[0,-d,-d],[0,-f,-f],[0,d,-d],[0,f,-f],[0,-d,d],[0,-f,f]],f=0,g=d.length;f<g;f++)this.g.push(new b.c(d[f][0],d[f][1],d[f][2]))};b.Zk.prototype=Object.create(b.Q.prototype);b.zu=function(a,c,d,f){b.Q.call(this);a=a||50;d=r!==d?d:0;f=r!==f?f:2*Math.PI;c=r!==c?Math.max(3,c):8;var g,h=[];g=new b.c;var j=new b.j(0.5,
0.5);this.g.push(g);h.push(j);for(g=0;g<=c;g++){var l=new b.c;l.x=a*Math.cos(d+g/c*f);l.y=a*Math.sin(d+g/c*f);this.g.push(l);h.push(new b.j((l.x/a+1)/2,-(l.y/a+1)/2+1))}d=new b.c(0,0,-1);for(g=1;g<=c;g++)this.l.push(new b.ja(g,g+1,0,[d,d,d])),this.R[0].push([h[g],h[g+1],j]);this.kc();this.kd();this.Bc=new b.Lf(new b.c,a)};b.zu.prototype=Object.create(b.Q.prototype);b.Ym=function(a,c,d,f,g,h){function j(a,c,d,f,g,h,j,v){var z,s=l.Ue,A=l.Le,B=g/2,W=h/2,L=l.g.length;if("x"===a&&"y"===c||"y"===a&&"x"===
c)z="z";else if("x"===a&&"z"===c||"z"===a&&"x"===c)z="y",A=l.vo;else if("z"===a&&"y"===c||"y"===a&&"z"===c)z="x",s=l.vo;var K=s+1,F=A+1,N=g/s,M=h/A,P=new b.c;P[z]=0<j?1:-1;for(g=0;g<F;g++)for(h=0;h<K;h++){var D=new b.c;D[a]=(h*N-B)*d;D[c]=(g*M-W)*f;D[z]=j;l.g.push(D)}for(g=0;g<A;g++)for(h=0;h<s;h++)a=new b.za(h+K*g+L,h+K*(g+1)+L,h+1+K*(g+1)+L,h+1+K*g+L),a.o.copy(P),a.N.push(P.d(),P.d(),P.d(),P.d()),a.Ta=v,l.l.push(a),l.R[0].push([new b.j(h/s,1-g/A),new b.j(h/s,1-(g+1)/A),new b.j((h+1)/s,1-(g+1)/A),
new b.j((h+1)/s,1-g/A)])}b.Q.call(this);var l=this;this.width=a;this.height=c;this.depth=d;this.Ue=f||1;this.Le=g||1;this.vo=h||1;a=this.width/2;c=this.height/2;d=this.depth/2;j("z","y",-1,-1,this.depth,this.height,a,0);j("z","y",1,-1,this.depth,this.height,-a,1);j("x","z",1,1,this.width,this.depth,c,2);j("x","z",1,-1,this.width,this.depth,-c,3);j("x","y",1,-1,this.width,this.height,d,4);j("x","y",-1,-1,this.width,this.height,-d,5);this.kc();this.op()};b.Ym.prototype=Object.create(b.Q.prototype);
b.dl=function(a,c,d,f,g,h){b.Q.call(this);a=r!==a?a:20;c=r!==c?c:20;d=r!==d?d:100;var j=d/2;f=f||8;g=g||1;var l,e,m=[],n=[];for(e=0;e<=g;e++){var q=[],w=[],x=e/g,p=x*(c-a)+a;for(l=0;l<=f;l++){var v=l/f,z=new b.c;z.x=p*Math.sin(2*v*Math.PI);z.y=-x*d+j;z.a=p*Math.cos(2*v*Math.PI);this.g.push(z);q.push(this.g.length-1);w.push(new b.j(v,1-x))}m.push(q);n.push(w)}d=(c-a)/d;for(l=0;l<f;l++){0!==a?(q=this.g[m[0][l]].d(),w=this.g[m[0][l+1]].d()):(q=this.g[m[1][l]].d(),w=this.g[m[1][l+1]].d());q.Jm(Math.sqrt(q.x*
q.x+q.a*q.a)*d).normalize();w.Jm(Math.sqrt(w.x*w.x+w.a*w.a)*d).normalize();for(e=0;e<g;e++){var x=m[e][l],p=m[e+1][l],v=m[e+1][l+1],z=m[e][l+1],s=q.d(),A=q.d(),B=w.d(),W=w.d(),L=n[e][l].d(),K=n[e+1][l].d(),F=n[e+1][l+1].d(),N=n[e][l+1].d();this.l.push(new b.za(x,p,v,z,[s,A,B,W]));this.R[0].push([L,K,F,N])}}if(!h&&0<a){this.g.push(new b.c(0,j,0));for(l=0;l<f;l++)x=m[0][l],p=m[0][l+1],v=this.g.length-1,s=new b.c(0,1,0),A=new b.c(0,1,0),B=new b.c(0,1,0),L=n[0][l].d(),K=n[0][l+1].d(),F=new b.j(K.dB,0),
this.l.push(new b.ja(x,p,v,[s,A,B])),this.R[0].push([L,K,F])}if(!h&&0<c){this.g.push(new b.c(0,-j,0));for(l=0;l<f;l++)x=m[e][l+1],p=m[e][l],v=this.g.length-1,s=new b.c(0,-1,0),A=new b.c(0,-1,0),B=new b.c(0,-1,0),L=n[e][l+1].d(),K=n[e][l].d(),F=new b.j(K.dB,1),this.l.push(new b.ja(x,p,v,[s,A,B])),this.R[0].push([L,K,F])}this.kc();this.kd()};b.dl.prototype=Object.create(b.Q.prototype);b.ob=function(a,c){"undefined"!==typeof a&&(b.Q.call(this),a=a instanceof Array?a:[a],this.sA=a[a.length-1].hm(),this.Mn(a,
c),this.kc(),this.kd())};b.ob.prototype=Object.create(b.Q.prototype);b.ob.prototype.Mn=function(a,b){for(var d=a.length,f=0;f<d;f++)this.Ln(a[f],b)};b.ob.prototype.Ln=function(a,c){function d(a,b,e){b||console.log("die");return b.d().A(e).add(a)}function f(a,e,c){var d=b.ob.ma,f=b.ob.Rb,g=b.ob.Nf,h=b.ob.An,j=b.ob.Bn,l=b.ob.Cn;d.set(a.x-e.x,a.y-e.y);f.set(a.x-c.x,a.y-c.y);d=d.normalize();f=f.normalize();g.set(-d.y,d.x);h.set(f.y,-f.x);j.copy(a).add(g);l.copy(a).add(h);if(j.ab(l))return h.d();j.copy(e).add(g);
l.copy(c).add(h);g=d.Ma(h);h=l.sub(j).Ma(h);0===g&&(console.log("Either infinite or no solutions!"),0===h?console.log("Its finite solutions."):console.log("Too bad, no solutions."));h/=g;return 0>h?(e=Math.atan2(e.y-a.y,e.x-a.x),a=Math.atan2(c.y-a.y,c.x-a.x),e>a&&(a+=2*Math.PI),c=(e+a)/2,a=-Math.cos(c),c=-Math.sin(c),new b.j(a,c)):d.A(h).add(j).sub(a).d()}function g(e,d){var f,g;for(J=e.length;0<=--J;){f=J;g=J-1;0>g&&(g=e.length-1);for(var h=0,j=x+2*n,h=0;h<j;h++){var l=Aa*h,m=Aa*(h+1),p=d+f+l,l=
d+g+l,q=d+g+m,m=d+f+m,v=e,w=h,z=j,s=f,I=g,p=p+X,l=l+X,q=q+X,m=m+X;D.l.push(new b.za(p,l,q,m,u,u,A));p=B.Cx(D,a,v,c,p,l,q,m,w,z,s,I);D.R[0].push(p)}}}function h(a,e,c){D.g.push(new b.c(a,e,c))}function j(e,d,f,g){e+=X;d+=X;f+=X;D.l.push(new b.ja(e,d,f,u,u,s));e=g?B.vs(D,a,c,e,d,f):B.ws(D,a,c,e,d,f);D.R[0].push(e)}var l=r!==c.$r?c.$r:100,e=r!==c.Yn?c.Yn:6,m=r!==c.Xn?c.Xn:e-2,n=r!==c.uw?c.uw:3,q=r!==c.Wn?c.Wn:t,w=r!==c.wj?c.wj:12,x=r!==c.MA?c.MA:1,p=c.yD,v,z=y,s=c.z,A=c.xD,B=r!==c.tn?c.tn:b.ob.Dr,W,
L,K,F;p&&(v=p.im(x),z=t,q=y,W=r!==c.frames?c.frames:new b.nl.Zq(p,x,y),L=new b.c,K=new b.c,F=new b.c);q||(m=e=n=0);var N,M,P,D=this,X=this.g.length,w=a.qs(w),S=w.shape,w=w.Me;if(p=!b.ha.ca.kh(S)){S=S.reverse();M=0;for(P=w.length;M<P;M++)N=w[M],b.ha.ca.kh(N)&&(w[M]=N.reverse());p=y}var ja=b.ha.ca.eu(S,w),p=S;M=0;for(P=w.length;M<P;M++)N=w[M],S=S.concat(N);var U,ga,T,V,Aa=S.length,Ra=ja.length,Va=[],J=0,I=p.length;U=I-1;for(ga=J+1;J<I;J++,U++,ga++)U===I&&(U=0),ga===I&&(ga=0),Va[J]=f(p[J],p[U],p[ga]);
var lb=[],db,R=Va.concat();M=0;for(P=w.length;M<P;M++){N=w[M];db=[];J=0;I=N.length;U=I-1;for(ga=J+1;J<I;J++,U++,ga++)U===I&&(U=0),ga===I&&(ga=0),db[J]=f(N[J],N[U],N[ga]);lb.push(db);R=R.concat(db)}for(U=0;U<n;U++){N=U/n;T=e*(1-N);ga=m*Math.sin(N*Math.PI/2);J=0;for(I=p.length;J<I;J++)V=d(p[J],Va[J],ga),h(V.x,V.y,-T);M=0;for(P=w.length;M<P;M++){N=w[M];db=lb[M];J=0;for(I=N.length;J<I;J++)V=d(N[J],db[J],ga),h(V.x,V.y,-T)}}ga=m;for(J=0;J<Aa;J++)V=q?d(S[J],R[J],ga):S[J],z?(K.copy(W.uh[0]).A(V.x),L.copy(W.Ll[0]).A(V.y),
F.copy(v[0]).add(K).add(L),h(F.x,F.y,F.a)):h(V.x,V.y,0);for(N=1;N<=x;N++)for(J=0;J<Aa;J++)V=q?d(S[J],R[J],ga):S[J],z?(K.copy(W.uh[N]).A(V.x),L.copy(W.Ll[N]).A(V.y),F.copy(v[N]).add(K).add(L),h(F.x,F.y,F.a)):h(V.x,V.y,l/x*N);for(U=n-1;0<=U;U--){N=U/n;T=e*(1-N);ga=m*Math.sin(N*Math.PI/2);J=0;for(I=p.length;J<I;J++)V=d(p[J],Va[J],ga),h(V.x,V.y,l+T);M=0;for(P=w.length;M<P;M++){N=w[M];db=lb[M];J=0;for(I=N.length;J<I;J++)V=d(N[J],db[J],ga),z?h(V.x,V.y+v[x-1].y,v[x-1].x+T):h(V.x,V.y,l+T)}}if(q){e=0*Aa;for(J=
0;J<Ra;J++)l=ja[J],j(l[2]+e,l[1]+e,l[0]+e,t);e=Aa*(x+2*n);for(J=0;J<Ra;J++)l=ja[J],j(l[0]+e,l[1]+e,l[2]+e,y)}else{for(J=0;J<Ra;J++)l=ja[J],j(l[2],l[1],l[0],t);for(J=0;J<Ra;J++)l=ja[J],j(l[0]+Aa*x,l[1]+Aa*x,l[2]+Aa*x,y)}l=0;g(p,l);l+=p.length;M=0;for(P=w.length;M<P;M++)N=w[M],g(N,l),l+=N.length};b.ob.Dr={ws:function(a,c,d,f,g,h){c=a.g[g].x;g=a.g[g].y;d=a.g[h].x;h=a.g[h].y;return[new b.j(a.g[f].x,a.g[f].y),new b.j(c,g),new b.j(d,h)]},vs:function(a,b,d,f,g,h){return this.ws(a,b,d,f,g,h)},Cx:function(a,
c,d,f,g,h,j,l){c=a.g[g].x;d=a.g[g].y;g=a.g[g].a;f=a.g[h].x;var e=a.g[h].y;h=a.g[h].a;var m=a.g[j].x,n=a.g[j].y;j=a.g[j].a;var q=a.g[l].x,w=a.g[l].y;a=a.g[l].a;return 0.01>Math.abs(d-e)?[new b.j(c,1-g),new b.j(f,1-h),new b.j(m,1-j),new b.j(q,1-a)]:[new b.j(d,1-g),new b.j(e,1-h),new b.j(n,1-j),new b.j(w,1-a)]}};b.ob.ma=new b.j;b.ob.Rb=new b.j;b.ob.Nf=new b.j;b.ob.An=new b.j;b.ob.Bn=new b.j;b.ob.Cn=new b.j;b.pn=function(a,c){b.Q.call(this);y===a instanceof Array&&(a=[a]);this.sA=a[a.length-1].hm();this.Mn(a,
c);this.kc();this.kd()};b.pn.prototype=Object.create(b.Q.prototype);b.pn.prototype.Mn=function(a,b){for(var d=0,f=a.length;d<f;d++)this.Ln(a[d],b);return this};b.pn.prototype.Ln=function(a,c){r===c&&(c={});var d=c.z,f=r===c.tn?b.ob.Dr:c.tn,g,h,j,l=this.g.length;g=a.qs(r!==c.wj?c.wj:12);var e=g.shape,m=g.Me;if(!b.ha.ca.kh(e)){e=e.reverse();g=0;for(h=m.length;g<h;g++)j=m[g],b.ha.ca.kh(j)&&(m[g]=j.reverse())}var n=b.ha.ca.eu(e,m);g=0;for(h=m.length;g<h;g++)j=m[g],e=e.concat(j);m=e.length;h=n.length;
for(g=0;g<m;g++)j=e[g],this.g.push(new b.c(j.x,j.y,0));for(g=0;g<h;g++)m=n[g],e=m[0]+l,j=m[1]+l,m=m[2]+l,this.l.push(new b.ja(e,j,m,u,u,d)),this.R[0].push(f.vs(this,a,c,e,j,m))};b.Pu=function(a,c,d,f){b.Q.call(this);c=c||12;d=d||0;f=f||2*Math.PI;for(var g=1/(a.length-1),h=1/c,j=0,l=c;j<=l;j++)for(var e=d+j*h*f,m=Math.cos(e),n=Math.sin(e),e=0,q=a.length;e<q;e++){var w=a[e],x=new b.c;x.x=m*w.x-n*w.y;x.y=n*w.x+m*w.y;x.a=w.a;this.g.push(x)}d=a.length;j=0;for(l=c;j<l;j++){e=0;for(q=a.length-1;e<q;e++)f=
c=e+d*j,n=c+d,m=c+1+d,this.l.push(new b.za(f,n,m,c+1)),m=j*h,c=e*g,f=m+h,n=c+g,this.R[0].push([new b.j(m,c),new b.j(f,c),new b.j(f,n),new b.j(m,n)])}this.op();this.kc();this.kd();this.Wf()};b.Pu.prototype=Object.create(b.Q.prototype);b.jr=function(a,c,d,f){b.Q.call(this);this.width=a;this.height=c;this.Ue=d||1;this.Le=f||1;d=a/2;var g=c/2;f=this.Ue;var h=this.Le,j=f+1,l=h+1,e=this.width/f,m=this.height/h,n=new b.c(0,0,1);for(a=0;a<l;a++)for(c=0;c<j;c++)this.g.push(new b.c(c*e-d,-(a*m-g),0));for(a=
0;a<h;a++)for(c=0;c<f;c++)d=new b.za(c+j*a,c+j*(a+1),c+1+j*(a+1),c+1+j*a),d.o.copy(n),d.N.push(n.d(),n.d(),n.d(),n.d()),this.l.push(d),this.R[0].push([new b.j(c/f,1-a/h),new b.j(c/f,1-(a+1)/h),new b.j((c+1)/f,1-(a+1)/h),new b.j((c+1)/f,1-a/h)]);this.kc()};b.jr.prototype=Object.create(b.Q.prototype);b.$e=function(a,c,d,f,g,h,j){b.Q.call(this);this.V=a||50;this.Ue=Math.max(3,Math.floor(c)||8);this.Le=Math.max(2,Math.floor(d)||6);f=r!==f?f:0;g=r!==g?g:2*Math.PI;h=r!==h?h:0;j=r!==j?j:Math.PI;var l=[],
e=[];for(d=0;d<=this.Le;d++){var m=[],n=[];for(c=0;c<=this.Ue;c++){var q=c/this.Ue,w=d/this.Le,x=new b.c;x.x=-this.V*Math.cos(f+q*g)*Math.sin(h+w*j);x.y=this.V*Math.cos(h+w*j);x.a=this.V*Math.sin(f+q*g)*Math.sin(h+w*j);this.g.push(x);m.push(this.g.length-1);n.push(new b.j(q,1-w))}l.push(m);e.push(n)}for(d=0;d<this.Le;d++)for(c=0;c<this.Ue;c++){f=l[d][c+1];g=l[d][c];h=l[d+1][c];j=l[d+1][c+1];var m=this.g[f].d().normalize(),n=this.g[g].d().normalize(),q=this.g[h].d().normalize(),w=this.g[j].d().normalize(),
x=e[d][c+1].d(),p=e[d][c].d(),v=e[d+1][c].d(),z=e[d+1][c+1].d();Math.abs(this.g[f].y)===this.V?(this.l.push(new b.ja(f,h,j,[m,q,w])),this.R[0].push([x,v,z])):Math.abs(this.g[h].y)===this.V?(this.l.push(new b.ja(f,g,h,[m,n,q])),this.R[0].push([x,p,v])):(this.l.push(new b.za(f,g,h,j,[m,n,q,w])),this.R[0].push([x,p,v,z]))}this.kc();this.kd();this.Bc=new b.Lf(new b.c,a)};b.$e.prototype=Object.create(b.Q.prototype);b.qv=function(a,c){var d=b.Pb.Bx(a,c);c.$r=r!==c.height?c.height:50;r===c.Yn&&(c.Yn=10);
r===c.Xn&&(c.Xn=8);r===c.Wn&&(c.Wn=y);b.ob.call(this,d,c)};b.qv.prototype=Object.create(b.ob.prototype);b.Ar=function(a,c,d,f,g){b.Q.call(this);this.V=a||100;this.Lh=c||40;this.Vc=d||8;this.Ob=f||6;this.arc=g||2*Math.PI;g=new b.c;a=[];c=[];for(d=0;d<=this.Vc;d++)for(f=0;f<=this.Ob;f++){var h=f/this.Ob*this.arc,j=2*d/this.Vc*Math.PI;g.x=this.V*Math.cos(h);g.y=this.V*Math.sin(h);var l=new b.c;l.x=(this.V+this.Lh*Math.cos(j))*Math.cos(h);l.y=(this.V+this.Lh*Math.cos(j))*Math.sin(h);l.a=this.Lh*Math.sin(j);
this.g.push(l);a.push(new b.j(f/this.Ob,d/this.Vc));c.push(l.d().sub(g).normalize())}for(d=1;d<=this.Vc;d++)for(f=1;f<=this.Ob;f++){g=(this.Ob+1)*d+f-1;var h=(this.Ob+1)*(d-1)+f-1,j=(this.Ob+1)*(d-1)+f,l=(this.Ob+1)*d+f,e=new b.za(g,h,j,l,[c[g],c[h],c[j],c[l]]);e.o.add(c[g]);e.o.add(c[h]);e.o.add(c[j]);e.o.add(c[l]);e.o.normalize();this.l.push(e);this.R[0].push([a[g].d(),a[h].d(),a[j].d(),a[l].d()])}this.kc()};b.Ar.prototype=Object.create(b.Q.prototype);b.sv=function(a,c,d,f,g,h,j){function l(a,e,
c,d,f,g){var h=Math.cos(a);e=Math.sin(a);a*=c/d;c=Math.cos(a);h*=0.5*f*(2+c);e*=0.5*f*(2+c);f=0.5*g*f*Math.sin(a);return new b.c(h,e,f)}b.Q.call(this);this.V=a||100;this.Lh=c||40;this.Vc=d||64;this.Ob=f||8;this.Ip=g||2;this.zt=h||3;this.Is=j||1;this.od=Array(this.Vc);d=new b.c;f=new b.c;g=new b.c;for(a=0;a<this.Vc;++a){this.od[a]=Array(this.Ob);for(c=0;c<this.Ob;++c){var e=2*(a/this.Vc)*this.Ip*Math.PI;j=2*(c/this.Ob)*Math.PI;h=l(e,j,this.zt,this.Ip,this.V,this.Is);e=l(e+0.01,j,this.zt,this.Ip,this.V,
this.Is);d.W(e,h);f.Md(e,h);g.lc(d,f);f.lc(g,d);g.normalize();f.normalize();e=-this.Lh*Math.cos(j);j=this.Lh*Math.sin(j);h.x+=e*f.x+j*g.x;h.y+=e*f.y+j*g.y;h.a+=e*f.a+j*g.a;this.od[a][c]=this.g.push(new b.c(h.x,h.y,h.a))-1}}for(a=0;a<this.Vc;++a)for(c=0;c<this.Ob;++c){g=(a+1)%this.Vc;h=(c+1)%this.Ob;d=this.od[a][c];f=this.od[g][c];g=this.od[g][h];h=this.od[a][h];j=new b.j(a/this.Vc,c/this.Ob);var e=new b.j((a+1)/this.Vc,c/this.Ob),m=new b.j((a+1)/this.Vc,(c+1)/this.Ob),n=new b.j(a/this.Vc,(c+1)/this.Ob);
this.l.push(new b.za(d,f,g,h));this.R[0].push([j,e,m,n])}this.kc();this.kd();this.Wf()};b.sv.prototype=Object.create(b.Q.prototype);b.nl=function(a,c,d,f,g,h){b.Q.call(this);this.path=a;this.hg=c||64;this.V=d||1;this.fg=f||8;this.closed=g||y;h&&(this.debug=new b.D);this.od=[];var j,l;g=this.hg+1;var e,m,n;h=new b.c;var q,w,x;c=new b.nl.Zq(this.path,this.hg,this.closed);q=c.bu;w=c.uh;x=c.Ll;this.bu=q;this.uh=w;this.Ll=x;for(c=0;c<g;c++){this.od[c]=[];f=c/(g-1);n=a.Jj(f);f=q[c];j=w[c];l=x[c];this.debug&&
(this.debug.add(new b.tc(f,n,d,255)),this.debug.add(new b.tc(j,n,d,16711680)),this.debug.add(new b.tc(l,n,d,65280)));for(f=0;f<this.fg;f++)e=2*(f/this.fg)*Math.PI,m=-this.V*Math.cos(e),e=this.V*Math.sin(e),h.copy(n),h.x+=m*j.x+e*l.x,h.y+=m*j.y+e*l.y,h.a+=m*j.a+e*l.a,this.od[c][f]=this.g.push(new b.c(h.x,h.y,h.a))-1}for(c=0;c<this.hg;c++)for(f=0;f<this.fg;f++)g=this.closed?(c+1)%this.hg:c+1,h=(f+1)%this.fg,a=this.od[c][f],d=this.od[g][f],g=this.od[g][h],h=this.od[c][h],q=new b.j(c/this.hg,f/this.fg),
w=new b.j((c+1)/this.hg,f/this.fg),x=new b.j((c+1)/this.hg,(f+1)/this.fg),j=new b.j(c/this.hg,(f+1)/this.fg),this.l.push(new b.za(a,d,g,h)),this.R[0].push([q,w,x,j]);this.kc();this.kd();this.Wf()};b.nl.prototype=Object.create(b.Q.prototype);b.nl.Zq=function(a,c,d){var f=new b.c,g=[],h=[],j=[],l=new b.c,e=new b.O;c+=1;var m,n,q;this.bu=g;this.uh=h;this.Ll=j;for(m=0;m<c;m++)n=m/(c-1),g[m]=a.Ox(n),g[m].normalize();h[0]=new b.c;j[0]=new b.c;a=Number.MAX_VALUE;m=Math.abs(g[0].x);n=Math.abs(g[0].y);q=Math.abs(g[0].a);
m<=a&&(a=m,f.set(1,0,0));n<=a&&(a=n,f.set(0,1,0));q<=a&&f.set(0,0,1);l.lc(g[0],f).normalize();h[0].lc(g[0],l);j[0].lc(g[0],h[0]);for(m=1;m<c;m++)h[m]=h[m-1].d(),j[m]=j[m-1].d(),l.lc(g[m-1],g[m]),1E-4<l.length()&&(l.normalize(),f=Math.acos(g[m-1].Ma(g[m])),h[m].xa(e.Ys(l,f))),j[m].lc(g[m],h[m]);if(d){f=Math.acos(h[0].Ma(h[c-1]));f/=c-1;0<g[0].Ma(l.lc(h[0],h[c-1]))&&(f=-f);for(m=1;m<c;m++)h[m].xa(e.Ys(g[m],f*m)),j[m].lc(g[m],h[m])}};b.jl=function(a,c,d,f){function g(a){var c=a.normalize().d();c.index=
e.g.push(c)-1;var d=Math.atan2(a.a,-a.x)/2/Math.PI+0.5;a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.a*a.a))/Math.PI+0.5;c.Ra=new b.j(d,1-a);return c}function h(a,c,d,f){1>f?(f=new b.ja(a.index,c.index,d.index,[a.d(),c.d(),d.d()]),f.Ka.add(a).add(c).add(d).Ie(3),f.o=f.Ka.d().normalize(),e.l.push(f),f=Math.atan2(f.Ka.a,-f.Ka.x),e.R[0].push([l(a.Ra,a,f),l(c.Ra,c,f),l(d.Ra,d,f)])):(f-=1,h(a,j(a,c),j(a,d),f),h(j(a,c),c,j(c,d),f),h(j(a,d),j(c,d),d,f),h(j(a,c),j(c,d),j(a,d),f))}function j(a,e){q[a.index]||(q[a.index]=
[]);q[e.index]||(q[e.index]=[]);var c=q[a.index][e.index];r===c&&(q[a.index][e.index]=q[e.index][a.index]=c=g((new b.c).Md(a,e).Ie(2)));return c}function l(a,e,c){0>c&&1===a.x&&(a=new b.j(a.x-1,a.y));0===e.x&&0===e.a&&(a=new b.j(c/2/Math.PI+0.5,a.y));return a}b.Q.call(this);d=d||1;f=f||0;for(var e=this,m=0,n=a.length;m<n;m++)g(new b.c(a[m][0],a[m][1],a[m][2]));var q=[];a=this.g;m=0;for(n=c.length;m<n;m++)h(a[c[m][0]],a[c[m][1]],a[c[m][2]],f);this.op();m=0;for(n=this.g.length;m<n;m++)this.g[m].A(d);
this.kc();this.Bc=new b.Lf(new b.c,d)};b.jl.prototype=Object.create(b.Q.prototype);b.bn=function(a,c){var d=(1+Math.sqrt(5))/2;b.jl.call(this,[[-1,d,0],[1,d,0],[-1,-d,0],[1,-d,0],[0,-1,d],[0,1,d],[0,-1,-d],[0,1,-d],[d,0,-1],[d,0,1],[-d,0,-1],[-d,0,1]],[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]],a,c)};b.bn.prototype=Object.create(b.Q.prototype);b.Xu=function(a,c){b.jl.call(this,
[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]],a,c)};b.Xu.prototype=Object.create(b.Q.prototype);b.pv=function(a,c){b.jl.call(this,[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],[[2,1,0],[0,3,2],[1,3,0],[2,3,1]],a,c)};b.pv.prototype=Object.create(b.Q.prototype);b.bv=function(a,c,d,f){b.Q.call(this);var g=this.g,h=this.l,j=this.R[0];f=r===f?y:f;var l,e,m,n,q=c+1;for(l=0;l<=d;l++){n=l/d;for(e=0;e<=c;e++)m=e/c,m=a(m,n),g.push(m)}var w,
x,p,v;for(l=0;l<d;l++)for(e=0;e<c;e++)a=l*q+e,g=l*q+e+1,n=(l+1)*q+e,m=(l+1)*q+e+1,w=new b.j(e/c,l/d),x=new b.j((e+1)/c,l/d),p=new b.j(e/c,(l+1)/d),v=new b.j((e+1)/c,(l+1)/d),f?(h.push(new b.ja(a,g,n)),h.push(new b.ja(g,m,n)),j.push([w,x,p]),j.push([x,v,p])):(h.push(new b.za(a,g,m,n)),j.push([w,x,v,p]));this.kc();this.kd();this.Wf()};b.bv.prototype=Object.create(b.Q.prototype);b.Bu=function(a){function c(a){var e=a.length();return new b.j(a.x/e,a.y/e)}b.Q.call(this);for(var d=[[0,1,2],[0,2,1]],f=3;f<
a.length;f++){var g=f,h=a[g].d(),j=h.length();h.x+=2E-6*j*(Math.random()-0.5);h.y+=2E-6*j*(Math.random()-0.5);h.a+=2E-6*j*(Math.random()-0.5);for(var j=[],l=0;l<d.length;){var e=d[l],m=h,n=a[e[0]],q;q=n;var w=a[e[1]],x=new b.c,p=new b.c;x.W(a[e[2]],w);p.W(q,w);x.Od(p);x.normalize();q=x;n=q.Ma(n);if(q.Ma(m)>=n){for(m=0;3>m;m++){n=[e[m],e[(m+1)%3]];q=t;for(w=0;w<j.length;w++)if(j[w][0]===n[1]&&j[w][1]===n[0]){j[w]=j[j.length-1];j.pop();q=y;break}q&&j.push(n)}d[l]=d[d.length-1];d.pop()}else l++}for(w=
0;w<j.length;w++)d.push([j[w][0],j[w][1],g])}g=0;h=Array(a.length);for(f=0;f<d.length;f++){j=d[f];for(l=0;3>l;l++)r===h[j[l]]&&(h[j[l]]=g++,this.g.push(a[j[l]])),j[l]=h[j[l]]}for(f=0;f<d.length;f++)this.l.push(new b.ja(d[f][0],d[f][1],d[f][2]));for(f=0;f<this.l.length;f++)j=this.l[f],this.R[0].push([c(this.g[j.v]),c(this.g[j.i]),c(this.g[j.w])]);this.kc();this.kd();this.Wf()};b.Bu.prototype=Object.create(b.Q.prototype);b.wu=function(a){var c=new b.Q;c.g.push(new b.c,new b.c(a||1,0,0),new b.c,new b.c(0,
a||1,0),new b.c,new b.c(0,0,a||1));c.Ib.push(new b.B(16711680),new b.B(16755200),new b.B(65280),new b.B(11206400),new b.B(255),new b.B(43775));a=new b.Qc({u:b.Xi});b.fb.call(this,c,a,b.Vh)};b.wu.prototype=Object.create(b.fb.prototype);b.tc=function(a,c,d,f){b.D.call(this);r===d&&(d=20);r===f&&(f=16776960);var g=new b.Q;g.g.push(new b.c(0,0,0));g.g.push(new b.c(0,1,0));this.Rs=new b.fb(g,new b.Qc({color:f}));this.add(this.Rs);g=new b.dl(0,0.05,0.25,5,1);this.lo=new b.ba(g,new b.pb({color:f}));this.lo.position.set(0,
1,0);this.add(this.lo);c instanceof b.c&&(this.position=c);this.cA(a);this.te(d)};b.tc.prototype=Object.create(b.D.prototype);b.tc.prototype.cA=function(a){var c=b.tc.ma.copy(a).normalize();0.999<c.y?this.rotation.set(0,0,0):-0.999>c.y?this.rotation.set(Math.PI,0,0):(a=b.tc.Rb.set(c.a,0,-c.x).normalize(),c=Math.acos(c.y),a=b.tc.Lr.nq(a,c),this.rotation.dA(a,this.Yg))};b.tc.prototype.te=function(a){this.scale.set(a,a,a)};b.tc.prototype.Gt=function(a){this.Rs.z.color.Wc(a);this.lo.z.color.Wc(a)};b.tc.ma=
new b.c;b.tc.Rb=new b.c;b.tc.Lr=new b.vc;b.Dd=function(a){function c(a,b,c){d(a,c);d(b,c)}function d(a,c){f.s.g.push(new b.c);f.s.Ib.push(new b.B(c));r===f.Bm[a]&&(f.Bm[a]=[]);f.Bm[a].push(f.s.g.length-1)}b.fb.call(this);var f=this;this.s=new b.Q;this.z=new b.Qc({color:16777215,u:b.tg});this.type=b.Vh;this.H=a.H;this.Rd=y;this.Bm={};c("n1","n2",16755200);c("n2","n4",16755200);c("n4","n3",16755200);c("n3","n1",16755200);c("f1","f2",16755200);c("f2","f4",16755200);c("f4","f3",16755200);c("f3","f1",
16755200);c("n1","f1",16755200);c("n2","f2",16755200);c("n3","f3",16755200);c("n4","f4",16755200);c("p","n1",16711680);c("p","n2",16711680);c("p","n3",16711680);c("p","n4",16711680);c("u1","u2",43775);c("u2","u3",43775);c("u3","u1",43775);c("c","t",16777215);c("p","c",3355443);c("cn1","cn2",3355443);c("cn3","cn4",3355443);c("cf1","cf2",3355443);c("cf3","cf4",3355443);this.eo=a;this.update(a)};b.Dd.prototype=Object.create(b.fb.prototype);b.Dd.prototype.update=function(){function a(a,f,g,h){b.Dd.zn.set(f,
g,h);b.Dd.xn.Tm(b.Dd.zn,b.Dd.Fr);a=c.Bm[a];if(r!==a){f=0;for(g=a.length;f<g;f++)c.s.g[a[f]].copy(b.Dd.zn)}}var c=this;b.Dd.Fr.Ga.copy(this.eo.Ga);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",0.7,1.1,-1);a("u2",-0.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);this.s.Da=t};b.Dd.xn=new b.ln;
b.Dd.zn=new b.c;b.Dd.Fr=new b.Yc;b.Xq=function(a,c){b.D.call(this);this.Na=a;this.position=a.position;this.direction=new b.c;this.direction.W(a.target.position,a.position);var d=b.vb.Sb(a.Zb,0,1);this.color=a.color.d();this.color.A(d);var d=this.color.kf(),f=new b.$e(c,16,8),g=new b.Zk(1.25*c,2.25*c),h=new b.pb({color:d,G:y}),j=new b.Qc({color:d,G:y});this.Sa=new b.ba(f,h);this.$f=new b.fb(g,j,b.Vh);this.add(this.Sa);this.add(this.$f);this.Sa.pa.ke=t;this.Sa.pa.Lj=a;this.Sa.pa.Kj=this;this.Fb=u;r!==
a.target.pa.cu&&(f=new b.$e(c,8,4),g=new b.pb({color:d,Z:t,G:y}),this.Fb=new b.ba(f,g),this.Fb.position=a.target.position,this.Fb.pa.ke=t,this.Fb.pa.Lj=a.target,this.Fb.pa.Kj=this.Fb,d=new b.ug({color:d,Xf:4,Hj:4,opacity:0.75,Za:t,G:y}),f=new b.Q,f.g.push(this.position.d()),f.g.push(this.Fb.position.d()),f.Ol(),this.yd=new b.fb(f,d),this.yd.pa.ke=t);this.pa.ke=t};b.Xq.prototype=Object.create(b.D.prototype);b.Xq.prototype.update=function(){this.direction.W(this.Na.target.position,this.Na.position);
var a=b.vb.Sb(this.Na.Zb,0,1);this.color.copy(this.Na.color);this.color.A(a);this.Sa.z.color.copy(this.color);this.$f.z.color.copy(this.color);u!==this.Fb&&(this.Fb.z.color.copy(this.color),this.yd.z.color.copy(this.color),this.yd.s.g[0].copy(this.Na.position),this.yd.s.g[1].copy(this.Na.target.position),this.yd.s.Ol(),this.yd.s.Da=t)};b.ar=function(a,c,d){b.D.call(this);this.Na=a;this.position=a.position;var f=b.vb.Sb(a.Zb,0,1);this.color=a.color.d();this.color.A(f);var g=this.color.kf();this.Ke=
a.Ke.d();this.Ke.A(f);for(var f=this.Ke.kf(),h=new b.$e(c,16,8,0,2*Math.PI,0,0.5*Math.PI),j=new b.$e(c,16,8,0,2*Math.PI,0.5*Math.PI,Math.PI),l=new b.pb({color:g,G:y}),e=new b.pb({color:f,G:y}),m=0,n=h.l.length;m<n;m++)h.l[m].Ta=0;m=0;for(n=j.l.length;m<n;m++)j.l[m].Ta=1;b.$a.ta(h,j);this.Sa=new b.ba(h,new b.$c([l,e]));this.bp=new b.tc(new b.c(0,1,0),new b.c(0,1.1*(c+d),0),d,g);this.bp.rotation.x=Math.PI;this.Qs=new b.tc(new b.c(0,1,0),new b.c(0,-1.1*(c+d),0),d,f);c=new b.D;c.rotation.x=0.5*-Math.PI;
c.add(this.Sa);c.add(this.bp);c.add(this.Qs);this.add(c);this.Sa.pa.ke=t;this.Sa.pa.Lj=a;this.Sa.pa.Kj=this;this.pa.ke=t;this.target=new b.c;this.$b(this.target)};b.ar.prototype=Object.create(b.D.prototype);b.ar.prototype.update=function(){var a=b.vb.Sb(this.Na.Zb,0,1);this.color.copy(this.Na.color);this.color.A(a);this.Ke.copy(this.Na.Ke);this.Ke.A(a);this.Sa.z.Fa[0].color.copy(this.color);this.Sa.z.Fa[1].color.copy(this.Ke);this.bp.Gt(this.color.kf());this.Qs.Gt(this.Ke.kf());this.$b(this.target)};
b.kr=function(a,c){b.D.call(this);this.Na=a;this.position=a.position;var d=b.vb.Sb(a.Zb,0,1);this.color=a.color.d();this.color.A(d);var f=this.color.kf(),d=new b.$e(c,16,8),g=new b.Zk(1.25*c,2.25*c),h=new b.bn(1,2),j=new b.pb({color:f,G:y}),l=new b.Qc({color:f,G:y}),f=new b.pb({color:f,G:y,Z:t,opacity:0.1,Za:t});this.Sa=new b.ba(d,j);this.$f=new b.fb(g,l,b.Vh);this.ph=new b.ba(h,f);d=a.Uc;0===d?this.ph.visible=y:this.ph.scale.set(d,d,d);this.add(this.Sa);this.add(this.$f);this.add(this.ph);this.Sa.pa.ke=
t;this.Sa.pa.Lj=a;this.Sa.pa.Kj=this;this.pa.ke=t};b.kr.prototype=Object.create(b.D.prototype);b.kr.prototype.update=function(){var a=b.vb.Sb(this.Na.Zb,0,1);this.color.copy(this.Na.color);this.color.A(a);this.Sa.z.color.copy(this.color);this.$f.z.color.copy(this.color);this.ph.z.color.copy(this.color);a=this.Na.Uc;0===a?this.ph.visible=y:(this.ph.visible=t,this.ph.scale.set(a,a,a))};b.vr=function(a,c){b.D.call(this);this.Na=a;this.position=a.position;this.direction=new b.c;this.direction.W(a.target.position,
a.position);var d=b.vb.Sb(a.Zb,0,1);this.color=a.color.d();this.color.A(d);var d=this.color.kf(),f=new b.$e(c,16,8),g=new b.Zk(1.25*c,2.25*c),h=new b.dl(1E-4,1,1,8,1,t),j=new b.O;j.Uz(-Math.PI/2);j.translate(new b.c(0,-0.5,0));h.ci(j);var l=new b.pb({color:d,G:y}),j=new b.Qc({color:d,G:y}),e=new b.pb({color:d,G:y,Z:t,opacity:0.3,Za:t});this.Sa=new b.ba(f,l);this.nm=new b.ba(h,e);f=a.Uc?a.Uc:1E4;h=2*f*Math.tan(0.5*a.Nn);this.nm.scale.set(h,h,f);this.$f=new b.fb(g,j,b.Vh);this.Po=new b.Be;this.Po.add(this.Sa);
this.Po.add(this.$f);this.add(this.Po);this.add(this.nm);this.$b(a.target.position);this.Sa.pa.ke=t;this.Sa.pa.Lj=a;this.Sa.pa.Kj=this;this.Fb=u;r!==a.target.pa.cu&&(g=new b.$e(c,8,4),j=new b.pb({color:d,Z:t,G:y}),this.Fb=new b.ba(g,j),this.Fb.position=a.target.position,this.Fb.pa.ke=t,this.Fb.pa.Lj=a.target,this.Fb.pa.Kj=this.Fb,d=new b.ug({color:d,Xf:4,Hj:4,opacity:0.75,Za:t,G:y}),g=new b.Q,g.g.push(this.position.d()),g.g.push(this.Fb.position.d()),g.Ol(),this.yd=new b.fb(g,d),this.yd.pa.ke=t);
this.pa.ke=t};b.vr.prototype=Object.create(b.D.prototype);b.vr.prototype.update=function(){this.direction.W(this.Na.target.position,this.Na.position);this.$b(this.Na.target.position);var a=this.Na.Uc?this.Na.Uc:1E4,c=2*a*Math.tan(0.5*this.Na.Nn);this.nm.scale.set(c,c,a);a=b.vb.Sb(this.Na.Zb,0,1);this.color.copy(this.Na.color);this.color.A(a);this.Sa.z.color.copy(this.color);this.$f.z.color.copy(this.color);this.nm.z.color.copy(this.color);u!==this.Fb&&(this.Fb.z.color.copy(this.color),this.yd.z.color.copy(this.color),
this.yd.s.g[0].copy(this.Na.position),this.yd.s.g[1].copy(this.Na.target.position),this.yd.s.Ol(),this.yd.s.Da=t)};b.dn=function(){b.D.call(this);this.t=Xb()};b.dn.prototype=Object.create(b.D.prototype);b.Oi=function(a,c,d,f,g){b.D.call(this);this.$j=[];this.f=new b.c;this.hs=r;r!==a&&this.add(a,c,d,f,g)};b.Oi.prototype=Object.create(b.D.prototype);b.Oi.prototype.add=function(a,c,d,f,g,h){r===c&&(c=-1);r===d&&(d=0);r===h&&(h=1);r===g&&(g=new b.B(16777215));r===f&&(f=b.Ri);d=Math.min(d,Math.max(0,
d));this.$j.push({UA:a,size:c,Uc:d,x:0,y:0,a:0,scale:1,rotation:1,opacity:h,color:g,jc:f})};b.Oi.prototype.lB=function(){var a,b=this.$j.length,d,f=2*-this.f.x,g=2*-this.f.y;for(a=0;a<b;a++)d=this.$j[a],d.x=this.f.x+f*d.Uc,d.y=this.f.y+g*d.Uc,d.rB=0.25*d.x*Math.PI,d.rotation+=0.25*(d.rB-d.rotation)};b.fl=function(a,c){b.ba.call(this,a,c);this.bs={};this.Pn=[];var d=this.s.L.length;this.Rw(d-1,d/1);this.$z()};b.fl.prototype=Object.create(b.ba.prototype);b.fl.prototype.Rw=function(a,b){var d=0,d={JA:d,
uD:a,length:a-d+1,Fj:b,duration:(a-d)/b,ap:0,vj:0,gb:y,time:0,direction:1,Oh:1,ji:y,bg:y};this.bs.__default=d;this.Pn.push(d)};b.fl.prototype.$z=function(){var a=this.bs.__default;a&&(a.Oh=1)};b.fl.prototype.update=function(a){for(var c=0,d=this.Pn.length;c<d;c++){var f=this.Pn[c];if(f.gb){var g=f.duration/f.length;f.time+=f.direction*a;if(f.bg){if(f.time>f.duration||0>f.time)f.direction*=-1,f.time>f.duration&&(f.time=f.duration,f.ji=t),0>f.time&&(f.time=0,f.ji=y)}else f.time%=f.duration,0>f.time&&
(f.time+=f.duration);var h=f.JA+b.vb.Sb(Math.floor(f.time/g),0,f.length-1),j=f.Oh;h!==f.vj&&(this.le[f.ap]=0,this.le[f.vj]=1*j,this.le[h]=0,f.ap=f.vj,f.vj=h);g=f.time%g/g;f.ji&&(g=1-g);this.le[f.vj]=g*j;this.le[f.ap]=(1-g)*j}}};b.Qu=function(){function a(a,b){var e=c.createProgram(),d=c.createShader(c.FRAGMENT_SHADER),f=c.createShader(c.VERTEX_SHADER),g="precision "+b+" float;\n";c.shaderSource(d,g+a.X);c.shaderSource(f,g+a.Y);c.compileShader(d);c.compileShader(f);c.attachShader(e,d);c.attachShader(e,
f);c.linkProgram(e);return e}var c,d,f,g,h,j,l,e,m,n,q,w,x;this.Ca=function(p){c=p.na;d=p;f=p.Cs();g=new Float32Array(16);h=new Uint16Array(6);p=0;g[p++]=-1;g[p++]=-1;g[p++]=0;g[p++]=0;g[p++]=1;g[p++]=-1;g[p++]=1;g[p++]=0;g[p++]=1;g[p++]=1;g[p++]=1;g[p++]=1;g[p++]=-1;g[p++]=1;g[p++]=0;g[p++]=1;p=0;h[p++]=0;h[p++]=1;h[p++]=2;h[p++]=0;h[p++]=2;h[p++]=3;j=c.createBuffer();l=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,j);c.bufferData(c.ARRAY_BUFFER,g,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
l);c.bufferData(c.ELEMENT_ARRAY_BUFFER,h,c.STATIC_DRAW);e=c.createTexture();m=c.createTexture();c.bindTexture(c.TEXTURE_2D,e);c.texImage2D(c.TEXTURE_2D,0,c.RGB,16,16,0,c.RGB,c.UNSIGNED_BYTE,u);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.bindTexture(c.TEXTURE_2D,m);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,
16,16,0,c.RGBA,c.UNSIGNED_BYTE,u);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);0>=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?(n=y,q=a(b.ur.iy,f)):(n=t,q=a(b.ur.jy,f));w={};x={};w.qu=c.getAttribLocation(q,"position");w.Ra=c.getAttribLocation(q,"uv");x.dq=c.getUniformLocation(q,"renderType");x.map=
c.getUniformLocation(q,"map");x.hz=c.getUniformLocation(q,"occlusionMap");x.opacity=c.getUniformLocation(q,"opacity");x.color=c.getUniformLocation(q,"color");x.scale=c.getUniformLocation(q,"scale");x.rotation=c.getUniformLocation(q,"rotation");x.Gm=c.getUniformLocation(q,"screenPosition")};this.t=function(a,f,g,h){a=a.En;var s=a.length;if(s){var A=new b.c,B=h/g,L=0.5*g,K=0.5*h,F=16/h,N=new b.j(F*B,F),M=new b.c(1,1,0),P=new b.j(1,1),D=x,F=w;c.useProgram(q);c.enableVertexAttribArray(w.qu);c.enableVertexAttribArray(w.Ra);
c.uniform1i(D.hz,0);c.uniform1i(D.map,1);c.bindBuffer(c.ARRAY_BUFFER,j);c.vertexAttribPointer(F.qu,2,c.FLOAT,y,16,0);c.vertexAttribPointer(F.Ra,2,c.FLOAT,y,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l);c.disable(c.CULL_FACE);c.depthMask(y);var X,S,V,U,T;for(X=0;X<s;X++)if(F=16/h,N.set(F*B,F),U=a[X],A.set(U.H.elements[12],U.H.elements[13],U.H.elements[14]),A.xa(f.lb),A.Fe(f.Ga),M.copy(A),P.x=M.x*L+L,P.y=M.y*K+K,n||0<P.x&&P.x<g&&0<P.y&&P.y<h){c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,e);
c.copyTexImage2D(c.TEXTURE_2D,0,c.RGB,P.x-8,P.y-8,16,16,0);c.uniform1i(D.dq,0);c.uniform2f(D.scale,N.x,N.y);c.uniform3f(D.Gm,M.x,M.y,M.a);c.disable(c.BLEND);c.enable(c.DEPTH_TEST);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,m);c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,P.x-8,P.y-8,16,16,0);c.uniform1i(D.dq,1);c.disable(c.DEPTH_TEST);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,e);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);U.f.copy(M);
U.hs?U.hs(U):U.lB();c.uniform1i(D.dq,2);c.enable(c.BLEND);S=0;for(V=U.$j.length;S<V;S++)T=U.$j[S],0.001<T.opacity&&0.001<T.scale&&(M.x=T.x,M.y=T.y,M.a=T.a,F=T.size*T.scale/h,N.x=F*B,N.y=F,c.uniform3f(D.Gm,M.x,M.y,M.a),c.uniform2f(D.scale,N.x,N.y),c.uniform1f(D.rotation,T.rotation),c.uniform1f(D.opacity,T.opacity),c.uniform3f(D.color,T.color.q,T.color.p,T.color.i),d.Ci(T.jc,T.blendEquation,T.Mg,T.Lg),d.yk(T.UA,1),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0))}c.enable(c.CULL_FACE);c.enable(c.DEPTH_TEST);
c.depthMask(t)}}};b.on=function(){var a,c,d,f,g,h,j=new b.Th,l=new b.O,e=new b.c,m=new b.c;this.Ca=function(e){a=e.na;c=e;e=b.Wi.js;var j=b.Jd.d(e.aa);d=new b.wb({X:e.X,Y:e.Y,aa:j});f=new b.wb({X:e.X,Y:e.Y,aa:j,L:t});g=new b.wb({X:e.X,Y:e.Y,aa:j,Ya:t});h=new b.wb({X:e.X,Y:e.Y,aa:j,L:t,Ya:t});d.Rf=t;f.Rf=t;g.Rf=t;h.Rf=t};this.t=function(a,b){c.Fh&&c.rA&&this.update(a,b)};this.update=function(n,q){var w,x,p,v,z,s,A,B,F,L=[];v=0;a.clearColor(1,1,1,1);a.disable(a.BLEND);a.enable(a.CULL_FACE);a.frontFace(a.CCW);
c.Ot===b.cl?a.cullFace(a.FRONT):a.cullFace(a.BACK);c.Ch(t);w=0;for(x=n.dd.length;w<x;w++)if(p=n.dd[w],p.Nd)if(p instanceof b.Wd&&p.uq)for(z=0;z<p.nA;z++){var K;if(p.Km[z])K=p.Km[z];else{F=p;A=z;K=new b.Wd;K.fy=t;K.zm=t;K.Nd=t;K.Ak=F.Ak;K.zk=F.zk;K.rq=F.rq;K.sq=F.sq;K.qq=F.qq;K.tq=F.tq;K.jg=F.jg;K.kg=F.kg;K.Ei=F.Lt[A];K.Ek=F.qA[A];K.Bk=F.oA[A];K.wt=[];K.Mp=[];B=K.wt;s=K.Mp;for(var P=0;8>P;P++)B[P]=new b.c,s[P]=new b.c;B=F.Nt[A];F=F.Mt[A];s[0].set(-1,-1,B);s[1].set(1,-1,B);s[2].set(-1,1,B);s[3].set(1,
1,B);s[4].set(-1,-1,F);s[5].set(1,-1,F);s[6].set(-1,1,F);s[7].set(1,1,F);K.pz=q;s=new b.Be;s.position=p.pA;s.add(K);s.add(K.target);q.add(s);p.Km[z]=K;console.log("Created virtualLight",K)}A=p;B=z;F=A.Km[B];F.position.copy(A.position);F.target.position.copy(A.target.position);F.$b(F.target);F.jg=A.jg;F.kg=A.kg;F.Ei=A.Lt[B];s=A.Nt[B];A=A.Mt[B];F=F.Mp;F[0].a=s;F[1].a=s;F[2].a=s;F[3].a=s;F[4].a=A;F[5].a=A;F[6].a=A;F[7].a=A;L[v]=K;v++}else L[v]=p,v++;w=0;for(x=L.length;w<x;w++){p=L[w];p.Eh||(z=b.vg,c.Dk===
b.ir&&(z=b.Wh),p.Eh=new b.Yi(p.Ek,p.Bk,{ac:z,Jc:z,Ba:b.Ui}),p.Ck=new b.j(p.Ek,p.Bk),p.Gh=new b.O);if(!p.wf){if(p instanceof b.Yh)p.wf=new b.Hd(p.mA,p.Ek/p.Bk,p.Ak,p.zk);else if(p instanceof b.Wd)p.wf=new b.Si(p.rq,p.sq,p.tq,p.qq,p.Ak,p.zk);else{console.error("Unsupported light type for shadow");continue}n.add(p.wf);c.Sn&&n.Oc()}p.jg&&!p.nj&&(p.nj=new b.Dd(p.wf),p.wf.add(p.nj));if(p.fy&&K.pz==q){z=q;v=p.wf;s=p.Mp;F=p.wt;e.set(Infinity,Infinity,Infinity);m.set(-Infinity,-Infinity,-Infinity);for(A=0;8>
A;A++)B=F[A],B.copy(s[A]),b.on.xn.Tm(B,z),B.xa(v.lb),B.x<e.x&&(e.x=B.x),B.x>m.x&&(m.x=B.x),B.y<e.y&&(e.y=B.y),B.y>m.y&&(m.y=B.y),B.a<e.a&&(e.a=B.a),B.a>m.a&&(m.a=B.a);v.left=e.x;v.right=m.x;v.top=m.y;v.bottom=e.y;v.Cf()}v=p.Eh;s=p.Gh;z=p.wf;z.position.copy(p.H.nc());z.$b(p.target.H.nc());z.Oc();z.lb.Wb(z.H);p.nj&&(p.nj.visible=p.jg);p.jg&&p.nj.update();s.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);s.multiply(z.Ga);s.multiply(z.lb);l.cb(z.Ga,z.lb);j.Hm(l);c.Im(v);c.clear();F=n.fd;p=0;for(v=F.length;p<
v;p++)if(A=F[p],s=A.object,A.t=y,s.visible&&s.Nd&&(!(s instanceof b.ba||s instanceof b.ad)||!s.fh||j.mm(s)))s.De.cb(z.lb,s.H),A.t=t;p=0;for(v=F.length;p<v;p++)A=F[p],A.t&&(s=A.object,A=A.buffer,P=s.z instanceof b.$c?s.z.Fa[0]:s.z,B=0<s.s.L.length&&P.L,P=s instanceof b.Sc&&P.Ya,B=s.Rl?s.Rl:P?B?h:g:B?f:d,A instanceof b.Cd?c.aq(z,n.dd,u,B,A,s):c.$p(z,n.dd,u,B,A,s));F=n.Qf;p=0;for(v=F.length;p<v;p++)A=F[p],s=A.object,s.visible&&s.Nd&&(s.De.cb(z.lb,s.H),c.bq(z,n.dd,u,d,s))}w=c.ys();x=c.xs();a.clearColor(w.q,
w.p,w.i,x);a.enable(a.BLEND);c.Ot===b.cl&&a.cullFace(a.BACK)}};b.on.xn=new b.ln;b.iv=function(){function a(a,b){return a.a!==b.a?b.a-a.a:b.id-a.id}var c,d,f,g,h,j,l,e,m,n;this.Ca=function(a){c=a.na;d=a;f=a.Cs();g=new Float32Array(16);h=new Uint16Array(6);a=0;g[a++]=-1;g[a++]=-1;g[a++]=0;g[a++]=0;g[a++]=1;g[a++]=-1;g[a++]=1;g[a++]=0;g[a++]=1;g[a++]=1;g[a++]=1;g[a++]=1;g[a++]=-1;g[a++]=1;g[a++]=0;g[a++]=1;a=0;h[a++]=0;h[a++]=1;h[a++]=2;h[a++]=0;h[a++]=2;h[a++]=3;j=c.createBuffer();l=c.createBuffer();
c.bindBuffer(c.ARRAY_BUFFER,j);c.bufferData(c.ARRAY_BUFFER,g,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l);c.bufferData(c.ELEMENT_ARRAY_BUFFER,h,c.STATIC_DRAW);a=b.fv.IA;var w=c.createProgram(),x=c.createShader(c.FRAGMENT_SHADER),p=c.createShader(c.VERTEX_SHADER),v="precision "+f+" float;\n";c.shaderSource(x,v+a.X);c.shaderSource(p,v+a.Y);c.compileShader(x);c.compileShader(p);c.attachShader(w,x);c.attachShader(w,p);c.linkProgram(w);e=w;m={};n={};m.position=c.getAttribLocation(e,"position");
m.Ra=c.getAttribLocation(e,"uv");n.Fi=c.getUniformLocation(e,"uvOffset");n.Gi=c.getUniformLocation(e,"uvScale");n.rotation=c.getUniformLocation(e,"rotation");n.scale=c.getUniformLocation(e,"scale");n.bi=c.getUniformLocation(e,"alignment");n.color=c.getUniformLocation(e,"color");n.map=c.getUniformLocation(e,"map");n.opacity=c.getUniformLocation(e,"opacity");n.ze=c.getUniformLocation(e,"useScreenCoordinates");n.Lc=c.getUniformLocation(e,"sizeAttenuation");n.Gm=c.getUniformLocation(e,"screenPosition");
n.ht=c.getUniformLocation(e,"modelViewMatrix");n.Ga=c.getUniformLocation(e,"projectionMatrix");n.fm=c.getUniformLocation(e,"fogType");n.cm=c.getUniformLocation(e,"fogDensity");n.em=c.getUniformLocation(e,"fogNear");n.dm=c.getUniformLocation(e,"fogFar");n.bm=c.getUniformLocation(e,"fogColor");n.ef=c.getUniformLocation(e,"alphaTest")};this.t=function(f,g,h,p){var v=f.Hn,s=v.length;if(s){var A=m,B=n,F=p/h;h*=0.5;var L=0.5*p;c.useProgram(e);c.enableVertexAttribArray(A.position);c.enableVertexAttribArray(A.Ra);
c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,j);c.vertexAttribPointer(A.position,2,c.FLOAT,y,16,0);c.vertexAttribPointer(A.Ra,2,c.FLOAT,y,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l);c.uniformMatrix4fv(B.Ga,y,g.Ga.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(B.map,0);var P=A=0,K=f.G;K?(c.uniform3f(B.bm,K.color.q,K.color.p,K.color.i),K instanceof b.Li?(c.uniform1f(B.em,K.mb),c.uniform1f(B.dm,K.sb),c.uniform1i(B.fm,1),P=A=1):K instanceof b.Sh&&(c.uniform1f(B.cm,K.Ul),c.uniform1i(B.fm,
2),P=A=2)):(c.uniform1i(B.fm,0),P=A=0);for(var T,N,M=[],K=0;K<s;K++)T=v[K],N=T.z,T.visible&&0!==N.opacity&&(N.ze?T.a=-T.position.a:(T.De.cb(g.lb,T.H),T.a=-T.De.elements[14]));v.sort(a);for(K=0;K<s;K++)T=v[K],N=T.z,T.visible&&0!==N.opacity&&N.map&&(N.map.T&&N.map.T.width)&&(c.uniform1f(B.ef,N.ef),t===N.ze?(c.uniform1i(B.ze,1),c.uniform3f(B.Gm,(T.position.x*d.devicePixelRatio-h)/h,(L-T.position.y*d.devicePixelRatio)/L,Math.max(0,Math.min(1,T.position.a))),M[0]=d.devicePixelRatio,M[1]=d.devicePixelRatio):
(c.uniform1i(B.ze,0),c.uniform1i(B.Lc,N.Lc?1:0),c.uniformMatrix4fv(B.ht,y,T.De.elements),M[0]=1,M[1]=1),g=f.G&&N.G?P:0,A!==g&&(c.uniform1i(B.fm,g),A=g),g=1/(N.vk?p:1),M[0]*=g*F*T.scale.x,M[1]*=g*T.scale.y,c.uniform2f(B.Gi,N.Gi.x,N.Gi.y),c.uniform2f(B.Fi,N.Fi.x,N.Fi.y),c.uniform2f(B.bi,N.bi.x,N.bi.y),c.uniform1f(B.opacity,N.opacity),c.uniform3f(B.color,N.color.q,N.color.p,N.color.i),c.uniform1f(B.rotation,T.rotation),c.uniform2fv(B.scale,M),d.Ci(N.jc,N.blendEquation,N.Mg,N.Lg),d.Ch(N.Pd),d.wk(N.jf),
d.yk(N.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0));c.enable(c.CULL_FACE)}}};b.EB=function(){this.enabled=y;this.cq=u;var a,c,d,f,g,h,j=new b.Th,l=new b.O;this.Ca=function(e){a=e.na;c=e;e=b.Wi.js;var j=b.Jd.d(e.aa);d=new b.wb({X:e.X,Y:e.Y,aa:j});f=new b.wb({X:e.X,Y:e.Y,aa:j,L:t});g=new b.wb({X:e.X,Y:e.Y,aa:j,Ya:t});h=new b.wb({X:e.X,Y:e.Y,aa:j,L:t,Ya:t});d.Rf=t;f.Rf=t;g.Rf=t;h.Rf=t};this.t=function(a,b){this.enabled&&this.update(a,b)};this.update=function(e,m){var n,q,s,x,p,v;a.clearColor(1,
1,1,1);a.disable(a.BLEND);c.Ch(t);c.Sn&&e.Oc();m.lb.Wb(m.H);l.cb(m.Ga,m.lb);j.Hm(l);c.Im(this.cq);c.clear();v=e.fd;n=0;for(q=v.length;n<q;n++)if(s=v[n],p=s.object,s.t=y,p.visible&&(!(p instanceof b.ba||p instanceof b.ad)||!p.fh||j.mm(p)))p.De.cb(m.lb,p.H),s.t=t;var z;n=0;for(q=v.length;n<q;n++)if(s=v[n],s.t&&(p=s.object,s=s.buffer,!(p instanceof b.ad)||p.Rl))(z=p.z instanceof b.$c?p.z.Fa[0]:p.z)&&c.oq(p.z),x=0<p.s.L.length&&z.L,z=p instanceof b.Sc&&z.Ya,x=p.Rl?p.Rl:z?x?h:g:x?f:d,s instanceof b.Cd?
c.aq(m,e.dd,u,x,s,p):c.$p(m,e.dd,u,x,s,p);v=e.Qf;n=0;for(q=v.length;n<q;n++)s=v[n],p=s.object,p.visible&&(p.De.cb(m.lb,p.H),c.bq(m,e.dd,u,d,p));n=c.ys();q=c.xs();a.clearColor(n.q,n.p,n.i,q);a.enable(a.BLEND)}};b.ur={jy:{Y:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.5 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.1, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.1, 0.5 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility = (       visibility.r / 9.0 ) *\n( 1.0 - visibility.g / 9.0 ) *\n(       visibility.b / 9.0 ) *\n( 1.0 - visibility.a / 9.0 );\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
X:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},iy:{Y:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
X:"precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a +\ntexture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a +\ntexture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a +\ntexture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}};
b.fv={IA:{Y:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position + alignment;\nvec2 rotatedPosition;\nrotatedPosition.x = ( cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y ) * scale.x;\nrotatedPosition.y = ( sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y ) * scale.y;\nvec4 finalPosition;\nif( useScreenCoordinates != 0 ) {\nfinalPosition = vec4( screenPosition.xy + rotatedPosition, screenPosition.z, 1.0 );\n} else {\nfinalPosition = projectionMatrix * modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition * ( sizeAttenuation == 1 ? 1.0 : finalPosition.z );\n}\ngl_Position = finalPosition;\n}",
X:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"}};
V.mc=b});
me.Jb("/client/vendor/THREEx/FullScreen.js",function(F,V){var s=s||{};s.Pc=s.Pc||{};s.Pc.gC=function(){return this.Cl||this.Bl};s.Pc.Uv=function(){if(this.Cl)return document.webkitIsFullScreen;if(this.Bl)return document.mozFullScreen;console.assert(y)};s.Pc.Qz=function(s){s=s||document.body;this.Cl?s.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):this.Bl?s.mozRequestFullScreen():console.assert(y)};s.Pc.cancel=function(){this.Cl?document.webkitCancelFullScreen():this.Bl?document.mozCancelFullScreen():console.assert(y)};
s.Pc.Cl="webkitCancelFullScreen"in document?t:y;s.Pc.Bl="mozCancelFullScreen"in document?t:y;s.Pc.vw=function(F){function b(){s.Pc.Uv()?s.Pc.cancel():s.Pc.Qz(P)}F=F||{};var L=F.charCode||102,X=F.Xw!==r?F.Xw:y,P=F.element;F=function(s){s.which===L&&b()}.bind(this);document.addEventListener("keypress",F,y);X&&document.addEventListener("dblclick",b,y)};V.mc=s.Pc});
me.Jb("/client/vendor/THREE/TrackballControls.js",function(F,V){var s=F("../Three");s.rn=function(F,b){function L(a){A.enabled!==y&&(window.removeEventListener("keydown",L),d=c,c===B.NONE&&(a.keyCode===A.keys[B.ll]&&!A.um?c=B.ll:a.keyCode===A.keys[B.ol]&&!A.yi?c=B.ol:a.keyCode===A.keys[B.hl]&&!A.xi&&(c=B.hl)))}function X(a){A.enabled!==y&&(a.preventDefault(),a.stopPropagation(),c===B.ll&&!A.um?h=A.Ij(a.clientX,a.clientY):c===B.ol&&!A.yi?l=A.gh(a.clientX,a.clientY):c===B.hl&&!A.xi&&(q=A.gh(a.clientX,
a.clientY)))}function P(a){A.enabled!==y&&(a.preventDefault(),a.stopPropagation(),c=B.NONE,document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",P))}function V(a){if(A.enabled!==y){a.preventDefault();a.stopPropagation();var b=0;a.wheelDelta?b=a.wheelDelta/40:a.detail&&(b=-a.detail/3);j.y+=0.05*(1/b)}}s.Xe.call(this);var A=this,B={NONE:-1,ll:0,ol:1,hl:2,ov:3,yr:4,nv:5};this.object=F;this.ee=b!==r?b:document;this.enabled=t;this.screen={width:0,height:0,offsetLeft:0,offsetTop:0};
this.V=(this.screen.width+this.screen.height)/4;this.Ct=1;this.ru=1.2;this.tt=0.3;this.Sm=this.xi=this.yi=this.um=y;this.Wl=0.2;this.pp=0;this.np=Infinity;this.keys=[65,83,68];this.target=new s.c;var a=new s.c,c=B.NONE,d=B.NONE,f=new s.c,g=new s.c,h=new s.c,j=new s.j,l=new s.j,e=0,m=0,n=new s.j,q=new s.j,w={type:"change"};this.Hs=function(){this.screen.width=window.innerWidth;this.screen.height=window.innerHeight;this.screen.offsetLeft=0;this.screen.offsetTop=0;this.V=(this.screen.width+this.screen.height)/
4};this.handleEvent=function(a){if("function"==typeof this[a.type])this[a.type](a)};this.gh=function(a,b){return new s.j(0.5*((a-A.screen.offsetLeft)/A.V),0.5*((b-A.screen.offsetTop)/A.V))};this.Ij=function(a,b){var e=new s.c((a-0.5*A.screen.width-A.screen.offsetLeft)/A.V,(0.5*A.screen.height+A.screen.offsetTop-b)/A.V,0),c=e.length();1<c?e.normalize():e.a=Math.sqrt(1-c*c);f.copy(A.object.position).sub(A.target);c=A.object.Nc.d().te(e.y);c.add(A.object.Nc.d().Od(f).te(e.x));c.add(f.te(e.a));return c};
this.Tz=function(){var a=Math.acos(g.Ma(h)/g.length()/h.length());if(a){var b=(new s.c).lc(g,h).normalize(),e=new s.vc,a=a*A.Ct;e.nq(b,-a);f.Gl(e);A.object.Nc.Gl(e);h.Gl(e);A.Sm?g.copy(h):(e.nq(b,a*(A.Wl-1)),g.Gl(e))}};this.wB=function(){if(c===B.yr){var a=e/m;e=m;f.A(a)}else a=1+(l.y-j.y)*A.ru,1!==a&&0<a&&(f.A(a),A.Sm?j.copy(l):j.y+=(l.y-j.y)*this.Wl)};this.sz=function(){var a=q.d().sub(n);if(a.oh()){a.A(f.length()*A.tt);var b=f.d().Od(A.object.Nc).te(a.x);b.add(A.object.Nc.d().te(a.y));A.object.position.add(b);
A.target.add(b);A.Sm?n=q:n.add(a.W(q,n).A(A.Wl))}};this.Dw=function(){if(!A.yi||!A.xi)A.object.position.oh()>A.np*A.np&&A.object.position.te(A.np),f.oh()<A.pp*A.pp&&A.object.position.Md(A.target,f.te(A.pp))};this.update=function(){f.W(A.object.position,A.target);A.um||A.Tz();A.yi||A.wB();A.xi||A.sz();A.object.position.Md(A.target,f);A.Dw();A.object.$b(A.target);0<a.Vg(A.object.position)&&(A.dispatchEvent(w),a.copy(A.object.position))};this.ee.addEventListener("contextmenu",function(a){a.preventDefault()},
y);this.ee.addEventListener("mousedown",function(a){A.enabled!==y&&(a.preventDefault(),a.stopPropagation(),c===B.NONE&&(c=a.button),c===B.ll&&!A.um?g=h=A.Ij(a.clientX,a.clientY):c===B.ol&&!A.yi?j=l=A.gh(a.clientX,a.clientY):c===B.hl&&!A.xi&&(n=q=A.gh(a.clientX,a.clientY)),document.addEventListener("mousemove",X,y),document.addEventListener("mouseup",P,y))},y);this.ee.addEventListener("mousewheel",V,y);this.ee.addEventListener("DOMMouseScroll",V,y);this.ee.addEventListener("touchstart",function(a){if(A.enabled!==
y)switch(a.touches.length){case 1:c=B.ov;g=h=A.Ij(a.touches[0].pageX,a.touches[0].pageY);break;case 2:c=B.yr;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;m=e=Math.sqrt(b*b+a*a);break;case 3:c=B.nv;n=q=A.gh(a.touches[0].pageX,a.touches[0].pageY);break;default:c=B.NONE}},y);this.ee.addEventListener("touchend",function(a){if(A.enabled!==y){switch(a.touches.length){case 1:g=h=A.Ij(a.touches[0].pageX,a.touches[0].pageY);break;case 2:e=m=0;break;case 3:n=q=A.gh(a.touches[0].pageX,
a.touches[0].pageY)}c=B.NONE}},y);this.ee.addEventListener("touchmove",function(a){if(A.enabled!==y)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:h=A.Ij(a.touches[0].pageX,a.touches[0].pageY);break;case 2:var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;m=Math.sqrt(b*b+a*a);break;case 3:q=A.gh(a.touches[0].pageX,a.touches[0].pageY);break;default:c=B.NONE}},y);window.addEventListener("keydown",L,y);window.addEventListener("keyup",function(){A.enabled!==
y&&(c=d,window.addEventListener("keydown",L,y))},y);this.Hs()};V.mc=s.rn});me.Jb("/client/vendor/THREEx/WindowResize.js",function(F,V){var s=s||{};s.Cr=function(s,b){function F(){s.xk(window.innerWidth,window.innerHeight);b.di=window.innerWidth/window.innerHeight;b.Cf()}window.addEventListener("resize",F,y);return{stop:function(){window.removeEventListener("resize",F)}}};V.mc=s.Cr});
me.Jb("/framework/SceneManager.js",function(F,V){function s(){this.Vv="main";this.vd={};this.gb=u}var T=F("../client/vendor/Three");F("util");s.prototype.add=function(b,s,F){this.vd[b]={scene:s,cameras:F}};s.prototype.get=function(b){return this.vd[b]};s.prototype.setActive=function(b){this.Vv=b;return this.gb=this.vd[b]};s.prototype.t=function(){return this};s.prototype.ij=function(){var b=new T.Ag,s=new T.Hd(75,window.innerWidth/window.innerHeight,0.1,1E4);s.position.x=0;s.position.y=0;s.position.a=
600;b.add(s);this.add("main",b,{main:s});this.setActive("main")};V.mc=s});
me.Jb("util",function(F,V,s){function T(b){return b instanceof Array||Array.isArray(b)||b&&b!==Object.prototype&&T(b.__proto__)}function b(b){return b instanceof RegExp||"object"===typeof b&&"[object RegExp]"===Object.prototype.toString.call(b)}function L(b){if(b instanceof Date)return t;if("object"!==typeof b)return y;var a=Date.prototype&&P(Date.prototype);b=b.__proto__&&P(b.__proto__);return JSON.stringify(b)===JSON.stringify(a)}F("events");s.isArray=T;s.YD=function(b){return"[object Date]"===
Object.prototype.toString.call(b)};s.ZD=function(b){return"[object RegExp]"===Object.prototype.toString.call(b)};s.print=Xb();s.OF=Xb();s.debug=Xb();s.lm=function(A,a,c,d){function f(a,b){var e={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];
return c?"\u001b["+e[c][0]+"m"+a+"\u001b["+e[c][1]+"m":a}function g(c,d){if(c&&"function"===typeof c.lm&&c!==s&&!(c.constructor&&c.constructor.prototype===c))return c.lm(d);switch(typeof c){case "undefined":return f("undefined","undefined");case "string":var e="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(e,"string");case "number":return f(""+c,"number");case "boolean":return f(""+c,"boolean")}if(c===u)return f("null","null");var m=X(c),n=a?P(c):m;
if("function"===typeof c&&0===n.length)return b(c)?f(""+c,"regexp"):f("[Function"+(c.name?": "+c.name:"")+"]","special");if(L(c)&&0===n.length)return f(c.toUTCString(),"date");var q,w;T(c)?(w="Array",e=["[","]"]):(w="Object",e=["{","}"]);"function"===typeof c?(q=c.name?": "+c.name:"",q=b(c)?" "+c:" [Function"+q+"]"):q="";L(c)&&(q=" "+c.toUTCString());if(0===n.length)return e[0]+q+e[1];if(0>d)return b(c)?f(""+c,"regexp"):f("[Object]","special");h.push(c);n=n.map(function(a){var b,e;c.__lookupGetter__&&
(c.__lookupGetter__(a)?e=c.__lookupSetter__(a)?f("[Getter/Setter]","special"):f("[Getter]","special"):c.__lookupSetter__(a)&&(e=f("[Setter]","special")));0>m.indexOf(a)&&(b="["+a+"]");e||(0>h.indexOf(c[a])?(e=d===u?g(c[a]):g(c[a],d-1),-1<e.indexOf("\n")&&(e=T(c)?e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=f("[Circular]","special"));if("undefined"===typeof b){if("Array"===w&&a.match(/^\d+$/))return e;b=JSON.stringify(""+
a);b.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(b=b.substr(1,b.length-2),b=f(b,"name")):(b=b.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),b=f(b,"string"))}return b+": "+e});h.pop();var x=0;return n=50<n.reduce(function(a,b){x++;0<=b.indexOf("\n")&&x++;return a+b.length+1},0)?e[0]+(""===q?"":q+"\n ")+" "+n.join(",\n  ")+" "+e[1]:e[0]+q+" "+n.join(", ")+" "+e[1]}var h=[];d||(f=mb());return g(A,"undefined"===typeof c?2:c)};s.log=Xb();s.MF=u;var X=Object.keys||function(b){var a=[],c;for(c in b)a.push(c);
return a},P=Object.getOwnPropertyNames||function(b){var a=[],c;for(c in b)Object.hasOwnProperty.call(b,c)&&a.push(c);return a},ja=Object.create||function(b,a){var c;b===u?c={__proto__:u}:("object"!==typeof b&&sa(new TypeError("typeof prototype["+typeof b+"] != 'object'")),c=Xb(),c.prototype=b,c=new c,c.__proto__=b);"undefined"!==typeof a&&Object.defineProperties&&Object.defineProperties(c,a);return c};s.Ks=function(b,a){b.Ut=a;b.prototype=ja(a.prototype,{constructor:{value:b,enumerable:y,writable:t,
configurable:t}})};var A=/%[sdj%]/g;s.Ba=function(b){if("string"!==typeof b){for(var a=[],c=0;c<arguments.length;c++)a.push(s.lm(arguments[c]));return a.join(" ")}for(var c=1,d=arguments,f=d.length,a=String(b).replace(A,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case "%s":return String(d[c++]);case "%d":return Number(d[c++]);case "%j":return JSON.stringify(d[c++]);default:return a}}),g=d[c];c<f;g=d[++c])a=g===u||"object"!==typeof g?a+(" "+g):a+(" "+s.lm(g));return a}});
me.Jb("events",function(F,V,s,T,b,L){L.Zm||(L.Zm=Xb());F=s.Zm=L.Zm;var X="function"===typeof Array.isArray?Array.isArray:function(b){return"[object Array]"===Object.prototype.toString.call(b)};F.prototype.fx=function(b){if("error"===b&&(!this.Ja||!this.Ja.error||X(this.Ja.error)&&!this.Ja.error.length))arguments[1]instanceof Error&&sa(arguments[1]),sa(Error("Uncaught, unspecified 'error' event."));if(this.Ja){var s=this.Ja[b];if(s)if("function"==typeof s)switch(arguments.length){case 1:s.call(this);
break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:var A=Array.prototype.slice.call(arguments,1);s.apply(this,A)}else if(X(s))for(var A=Array.prototype.slice.call(arguments,1),s=s.slice(),B=0,a=s.length;B<a;B++)s[B].apply(this,A)}};F.prototype.addListener=function(b,s){"function"!==typeof s&&sa(Error("addListener only takes instances of Function"));this.Ja||(this.Ja={});this.fx("newListener",b,s);if(this.Ja[b])if(X(this.Ja[b])){if(!this.Ja[b].sB){var A;
if((A=this.Ja.My!==r?this.Ja.My:10)&&0<A&&this.Ja[b].length>A)this.Ja[b].sB=t,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.Ja[b].length),console.trace()}this.Ja[b].push(s)}else this.Ja[b]=[this.Ja[b],s];else this.Ja[b]=s;return this};F.prototype.cc=F.prototype.addListener;F.prototype.qt=function(b,s){var A=this;A.cc(b,function a(){A.removeListener(b,a);s.apply(this,arguments)});return this};F.prototype.removeListener=
function(b,s){"function"!==typeof s&&sa(Error("removeListener only takes instances of Function"));if(!this.Ja||!this.Ja[b])return this;var A=this.Ja[b];if(X(A)){var B;a:if(A.indexOf)B=A.indexOf(s);else{for(B=0;B<A.length;B++)if(s===A[B])break a;B=-1}if(0>B)return this;A.splice(B,1);0==A.length&&delete this.Ja[b]}else this.Ja[b]===s&&delete this.Ja[b];return this}});me.Jb("/framework/AssetManager.js",function(F,V){F("../client/vendor/Three");F("util");V.mc=function(){this.Hl=[]}});
me.Jb("/framework/GameObjectManager.js",function(F,V){function s(){this.Hl=[];this.kt=[]}var T=F("../client/vendor/Three"),b=F("util"),L=F("./gameobjects/GameObject");s.prototype.add=function(b,s){!s instanceof L&&sa(Error("Error on adding an invalid GameObject"));this.Hl.push(s);this.kt.push(b)};s.prototype.get=function(b){return this.Hl[game.gm.kt.indexOf(b)]};s.prototype.t=function(){this.Hl.forEach(function(b){b.update()});return this};s.prototype.ij=function(){this.add("__boilerplate_cube",new BoilerplateCube)};
V.mc=s;BoilerplateCube=function(){this.s=new T.Ym(200,200,200);this.z=new T.pb({color:16711680,Z:t});BoilerplateCube.Ut.call(this,this.s,this.z)};b.Ks(BoilerplateCube,L);BoilerplateCube.prototype.update=function(){this.rotation.x+=0.02;this.rotation.y+=0.02;this.rotation.a+=0.01}});me.Jb("/framework/gameobjects/GameObject.js",function(F,V){function s(b,F){s.Ut.call(this,b,F)}var T=F("../client/vendor/Three");F("util").Ks(s,T.ba);s.prototype.update=Yd(y);V.mc=s});
me.Jb("/client/vendor/jquery.js",function(F,V,s){function T(){function b(a){var b=Tb.createElement("div");try{return a(b)}catch(e){return y}finally{}}function s(){var a={},b=[];return F(function(e,c){b.push(e)>da.bo&&delete a[b.shift()];return a[e]=c},a)}function F(a,b){a[jb]=b||t;return a}function P(b,e,c,d,f){b=b.replace(cd,"$1");var h,j,k,l,m,n;m=a(b,e,f);n=e.nodeType;if(mc.POS.test(b)){h=m;var p,q,s,v,w,x,z;m=0;n=h.length;for(var A=mc.POS,C=RegExp("^"+A.source+"(?!"+Na+")","i"),B=function(){for(var a=
1,b=arguments.length-2;a<b;a++)arguments[a]===r&&(v[a]=r)};m<n;m++){b=h[m];p="";s=d;f=0;for(k=b.length;f<k;f++){q=b[f];l=q.we;if("PSEUDO"===q.dc){A.exec("");for(q=0;v=A.exec(l);){j=t;w=A.lastIndex=v.index+v[0].length;if(w>q){p+=l.slice(q,v.index);q=w;x=[e];dd.test(p)&&(s&&(x=s),s=d);if(z=oe.test(p))p=p.slice(0,-5).replace(dd,"$&*"),q++;1<v.length&&v[0].replace(C,B);w=v[1];var D=v[2],E=r,F=da.Dh[w.toLowerCase()];F||g.error(w);if(p||!(E=s))T(p||"*",x,E=[],s);s=0<E.length?F(E,D,z):[]}p=""}}j||(p+=l);
j=y}p?dd.test(p)?T(p,s||[e],c,d):g(p,e,c,d?d.concat(s):s):Cc.apply(c,s)}return 1===n?c:g.Tk(c)}if(d)h=Nb.call(d,0);else if(1===m.length){if(2<(k=Nb.call(m[0],0)).length&&"ID"===(l=k[0]).dc&&9===n&&!f&&da.Ne[k[1].dc]){e=da.find.ID(l.hf[0].replace(Y,""),e,f)[0];if(!e)return c;b=b.slice(k.shift().we.length)}j=(m=td.exec(k[0].we))&&!m.index&&e.parentNode||e;m="";for(d=k.length-1;0<=d;d--){l=k[d];n=l.dc;m=l.we+m;if(da.Ne[n])break;if(da.Hp.test(n)&&(h=da.find[n](l.hf[0].replace(Y,""),j,f),h!=u)){(b=b.slice(0,
b.length-m.length)+m.replace(mc[n],""))||Cc.apply(c,Nb.call(h,0));break}}}if(b){j=ud(b,e,f);bc=j.wo++;h==u&&(h=da.find.TAG("*",td.test(b)&&e.parentNode||e));for(d=0;e=h[d];d++)Yc=j.hq++,j(e)&&c.push(e)}return c}function T(a,b,e,c){for(var d=0,f=b.length;d<f;d++)g(a,b[d],e,c)}function A(a,b){return a?function(e){var c=b(e);return c&&a(c===t?e:c)}:b}function B(a,b,e,c){var d=b.dir,f=Gd++;a||(a=function(a){return a===e});return b.$g?function(b){for(;b=b[d];)if(1===b.nodeType)return a(b)&&b}:c?function(b){for(;b=
b[d];)if(1===b.nodeType&&a(b))return b}:function(b){for(var e,c=f+"."+bc,g=c+"."+Yc;b=b[d];)if(1===b.nodeType){if((e=b[jb])===g)return b.wd;if("string"===typeof e&&0===e.indexOf(c)){if(b.wd)return b}else{b[jb]=g;if(a(b))return b.wd=t,b;b.wd=y}}}}function a(a,b,e,c){var d,f,h,j,k,l,m,n,p,q=!e&&b!==Tb,s=(q?"<s>":"")+a.replace(cd,"$1<s>");if(k=Hd[jb][s])return c?0:Nb.call(k,0);k=a;l=[];n=da.Op;for(p=da.filter;k;){if(!d||(f=pe.exec(k)))f&&(k=k.slice(f[0].length),h.P=m),l.push(h=[]),m="",q&&(k=" "+k);
d=y;if(f=dd.exec(k))m+=f[0],k=k.slice(f[0].length),d=h.push({dc:f.pop().replace(cd," "),we:f[0],hf:f});for(j in p)if((f=mc[j].exec(k))&&(!n[j]||(f=n[j](f,b,e))))m+=f[0],k=k.slice(f[0].length),d=h.push({dc:j,we:f.shift(),hf:f});if(!d)break}m&&(h.P=m);return c?k.length:k?g.error(a):Nb.call(Hd(s,l),0)}function c(a,b,e){if(a===b)return e;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function d(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&
b.type===a}}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function g(a,b,e,c){e=e||[];b=b||Tb;var d,f,g,h,j=b.nodeType;if(1!==j&&9!==j)return[];if(!a||"string"!==typeof a)return e;g=ed(b);if(!g&&!c&&(d=qe.exec(a)))if(h=d[1])if(9===j)if((f=b.getElementById(h))&&f.parentNode){if(f.id===h)return e.push(f),e}else return e;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&Id(b,f)&&f.id===h)return e.push(f),e}else{if(d[2])return Cc.apply(e,Nb.call(b.getElementsByTagName(a),
0)),e;if((h=d[3])&&Jd&&b.getElementsByClassName)return Cc.apply(e,Nb.call(b.getElementsByClassName(h),0)),e}return P(a,b,e,c,g)}function h(a){return e.event.Qa.Ro?a:a.replace(pa,"mouseenter$1 mouseleave$1")}function j(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",j,y),e.Ha()):"complete"===R.readyState&&(R.detachEvent("onreadystatechange",j),e.Ha())}function l(a,b){return(b+"").toUpperCase()}function e(a,b){return new e.m.Ca(a,b,lb)}function m(a){return e.Gc(a)?a:9===a.nodeType?a.defaultView||
a.parentWindow:y}function n(a,b){var e,c={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)e=Pb[d],c["margin"+e]=c["padding"+e]=a;b&&(c.opacity=c.width=a);return c}function q(a,b,e,c,d){return new q.prototype.Ca(a,b,e,c,d)}function w(a,b,c){function d(){for(var b=Dc||x(),b=Math.max(0,k.startTime+k.duration-b),e=1-(b/k.duration||0),c=0,f=k.ye.length;c<f;c++)k.ye[c].tk(e);j.Bp(a,[k,e,b]);if(1>e&&f)return b;j.ud(a,[k]);return y}var f,g=0,h=Rc.length,j=e.Zc().zc(function(){delete d.I}),k=j.qa({I:a,ec:e.extend({},
b),la:e.extend(t,{Ok:{}},c),rz:b,qz:c,startTime:Dc||x(),duration:c.duration,ye:[],uj:function(b,c){var d=e.sn(a,k.la,b,c,k.la.Ok[b]||k.la.fe);k.ye.push(d);return d},stop:function(b){for(var e=0,c=b?k.ye.length:0;e<c;e++)k.ye[e].tk(1);b?j.ud(a,[k,b]):j.Xp(a,[k,b]);return this}});b=k.ec;c=k.la.Ok;var l,m,n,p;for(f in b)if(l=e.Dc(f),m=c[l],n=b[f],e.isArray(n)&&(m=n[1],n=b[f]=n[0]),f!==l&&(b[l]=n,delete b[f]),(p=e.La[l])&&"expand"in p)for(f in n=p.expand(n),delete b[l],n)f in b||(b[f]=n[f],c[f]=m);else c[l]=
m;for(;g<h;g++)if(f=Rc[g].call(k,a,b,k.la))return f;var q=k;e.k(b,function(a,b){for(var e=(xc[a]||[]).concat(xc["*"]),c=0,d=e.length;c<d&&!e[c].call(q,a,b);c++);});e.r(k.la.start)&&k.la.start.call(a,k);e.da.Eq(e.extend(d,{On:k,U:k.la.U,I:a}));return k.Ah(k.la.Ah).jb(k.la.jb,k.la.complete).he(k.la.he).zc(k.la.zc)}function x(){setTimeout(function(){Dc=I},0);return Dc=e.now()}function p(){try{return new J.XMLHttpRequest}catch(a){}}function v(a,b){var c,d,f=e.yc.Fo||{};for(c in b)b[c]!==I&&((f[c]?a:d||
(d={}))[c]=b[c]);d&&e.extend(t,a,d)}function z(a,b,e,c,d,f){d=d||b.ib[0];f=f||{};f[d]=t;var g;d=a[d];for(var h=0,j=d?d.length:0,k=a===G;h<j&&(k||!g);h++)g=d[h](b,e,c),"string"===typeof g&&(!k||f[g]?g=I:(b.ib.unshift(g),g=z(a,b,e,c,g,f)));if((k||!g)&&!f["*"])g=z(a,b,e,c,"*",f);return g}function Q(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d,f,g=b.toLowerCase().split(za),h=0,j=g.length;if(e.r(c))for(;h<j;h++)d=g[h],(f=/^\+/.test(d))&&(d=d.substr(1)||"*"),d=a[d]=a[d]||[],d[f?"unshift":
"push"](c)}}function V(a,b,c,d){var f;if(e.isArray(b))e.k(b,function(b,e){c||Db.test(a)?d(a,e):V(a+"["+("object"===typeof e?b:"")+"]",e,c,d)});else if(!c&&"object"===e.type(b))for(f in b)V(a+"["+f+"]",b[f],c,d);else d(a,b)}function Vb(a){if(Ia[a])return Ia[a];var b=e("<"+a+">").Rn(R.body),c=b.J("display");b.remove();if("none"===c||""===c){Kb=R.body.appendChild(Kb||e.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!cc||!Kb.createElement)cc=(Kb.contentWindow||Kb.contentDocument).document,
cc.write("<!doctype html><html><body>"),cc.close();b=cc.body.appendChild(cc.createElement(a));c=Ja(b,"display");R.body.removeChild(Kb)}return Ia[a]=c}function W(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,f=t,g=e.n.boxSizing&&"border-box"===e.J(a,"boxSizing");if(0>=d||d==u){d=Ja(a,b);if(0>d||d==u)d=a.style[b];if(Zb.test(d))return d;f=g&&(e.n.kj||d===a.style[b]);d=parseFloat(d)||0}return d+fd(a,b,c||(g?"border":"content"),f)+"px"}function fd(a,b,c,d){b=c===(d?"border":"content")?4:"width"===
b?1:0;for(var f=0;4>b;b+=2)"margin"===c&&(f+=e.J(a,c+Pb[b],t)),d?("content"===c&&(f-=parseFloat(Ja(a,"padding"+Pb[b]))||0),"margin"!==c&&(f-=parseFloat(Ja(a,"border"+Pb[b]+"Width"))||0)):(f+=parseFloat(Ja(a,"padding"+Pb[b]))||0,"padding"!==c&&(f+=parseFloat(Ja(a,"border"+Pb[b]+"Width"))||0));return f}function K(a,b,e){return(a=re.exec(b))?Math.max(0,a[1]-(e||0))+(a[2]||"px"):b}function ma(a,b){for(var c,d,f=[],g=0,h=a.length;g<h;g++)c=a[g],c.style&&(f[g]=e.F(c,"olddisplay"),b?(!f[g]&&"none"===c.style.display&&
(c.style.display=""),""===c.style.display&&N(c)&&(f[g]=e.F(c,"olddisplay",Vb(c.nodeName)))):(d=Ja(c,"display"),!f[g]&&"none"!==d&&e.F(c,"olddisplay",d)));for(g=0;g<h;g++)if(c=a[g],c.style&&(!b||"none"===c.style.display||""===c.style.display))c.style.display=b?f[g]||"":"none";return a}function N(a,b){a=b||a;return"none"===e.J(a,"display")||!e.contains(a.ownerDocument,a)}function M(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,d=Kd.length;d--;)if(b=Kd[d]+c,b in a)return b;
return e}function Sa(a){Ld.test(a.type)&&(a.defaultChecked=a.checked)}function D(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function Jc(a,b){var c;1===b.nodeType&&(b.jo&&b.jo(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),e.n.jh&&(a.innerHTML&&!e.trim(b.innerHTML))&&(b.innerHTML=a.innerHTML)):"input"===c&&Ld.test(a.type)?
(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(e.expando))}function S(a,b){if(1===b.nodeType&&e.Pj(a)){var c,d,f;d=e.F(a);var g=e.F(b,d),h=d.Ub;if(h)for(c in delete g.handle,g.Ub={},h){d=0;for(f=h[c].length;d<f;d++)e.event.add(b,c,h[c][d])}g.data&&(g.data=e.extend({},g.data))}}function qc(a){var b=Md.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function U(a,b,c){b=b||0;if(e.r(b))return e.Fc(a,function(a,e){return!!b.call(a,e,a)===c});if(b.nodeType)return e.Fc(a,function(a){return a===b===c});if("string"===typeof b){var d=e.Fc(a,function(a){return 1===a.nodeType});if(se.test(b))return e.filter(b,d,!c);b=e.filter(b,d)}return e.Fc(a,function(a){return 0<=e.Yb(a,b)===c})}function ga(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function nb(a){return!a||
!a.parentNode||11===a.parentNode.nodeType}function Ea(){return t}function Aa(){return y}function Ra(a){for(var b in a)if(!("data"===b&&e.nf(a[b]))&&"toJSON"!==b)return y;return t}function Va(a,b,c){if(c===I&&1===a.nodeType)if(c="data-"+b.replace(k,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?t:"false"===c?y:"null"===c?u:+c+""===c?+c:pd.test(c)?e.kk(c):c}catch(d){}e.data(a,b,c)}else c=I;return c}var J=window,I=r,lb,db,R=J.document,va=J.location,Wa=J.navigator,Da=J.sf,
$a=J.qg,Z=Array.prototype.push,wa=Array.prototype.slice,Ka=Array.prototype.indexOf,ic=Object.prototype.toString,Xa=Object.prototype.hasOwnProperty,qb=String.prototype.trim,ia=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,xa=/\S/,za=/\s+/,Oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ca=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ab=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,$b=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,dc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
pb=/^-ms-/,eb=/-([\da-z])/gi,fb={};e.m=e.prototype={constructor:e,Ca:function(a,b,c){var d;if(!a)return this;if(a.nodeType)return this.na=this[0]=a,this.length=1,this;if("string"===typeof a){if((d="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[u,a,u]:Ca.exec(a))&&(d[1]||!b)){if(d[1])return a=(b=b instanceof e?b[0]:b)&&b.nodeType?b.ownerDocument||b:R,a=e.Kp(d[1],a,t),ab.test(d[1])&&e.pf(b)&&this.zb.call(a,b,t),e.ta(this,a);if((b=R.getElementById(d[2]))&&b.parentNode){if(b.id!==d[2])return c.find(a);
this.length=1;this[0]=b}this.na=R;this.P=a;return this}return!b||b.tf?(b||c).find(a):this.constructor(b).find(a)}if(e.r(a))return c.Ha(a);a.P!==I&&(this.P=a.P,this.na=a.na);return e.qd(a,this)},P:"",tf:"1.8.1",length:0,size:function(){return this.length},Fq:function(){return wa.call(this)},get:function(a){return a==u?this.Fq():0>a?this[this.length+a]:this[a]},Oa:function(a,b,c){a=e.ta(this.constructor(),a);a.zh=this;a.na=this.na;"find"===b?a.P=this.P+(this.P?" ":"")+c:b&&(a.P=this.P+"."+b+"("+c+")");
return a},k:function(a,b){return e.k(this,a,b)},Ha:function(a){e.Ha.qa().jb(a);return this},Bj:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},$g:function(){return this.Bj(0)},slice:function(){return this.Oa(wa.apply(this,arguments),"slice",wa.call(arguments).join(","))},map:function(a){return this.Oa(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.zh||this.constructor(u)},push:Z,sort:[].sort,splice:[].splice};e.m.Ca.prototype=e.m;e.extend=e.m.extend=function(){var a,
b,c,d,f,g=arguments[0]||{},h=1,j=arguments.length,k=y;"boolean"===typeof g&&(k=g,g=arguments[1]||{},h=2);"object"!==typeof g&&!e.r(g)&&(g={});j===h&&(g=this,--h);for(;h<j;h++)if((a=arguments[h])!=u)for(b in a)c=g[b],d=a[b],g!==d&&(k&&d&&(e.pf(d)||(f=e.isArray(d)))?(f?(f=y,c=c&&e.isArray(c)?c:[]):c=c&&e.pf(c)?c:{},g[b]=e.extend(k,c,d)):d!==I&&(g[b]=d));return g};e.extend({$y:function(a){J.qg===e&&(J.qg=$a);a&&J.sf===e&&(J.sf=Da);return e},nh:y,Bh:1,Yx:function(a){a?e.Bh++:e.Ha(t)},Ha:function(a){if(!(a===
t?--e.Bh:e.nh)){if(!R.body)return setTimeout(e.Ha,1);e.nh=t;a!==t&&0<--e.Bh||(db.ud(R,[e]),e.m.ra&&e(R).ra("ready").Db("ready"))}},r:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},Gc:function(a){return a!=u&&a==a.window},Vj:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==u?String(a):fb[ic.call(a)]||"object"},pf:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.Gc(a))return y;try{if(a.constructor&&!Xa.call(a,
"constructor")&&!Xa.call(a.constructor.prototype,"isPrototypeOf"))return y}catch(b){return y}for(var c in a);return c===I||Xa.call(a,c)},nf:function(a){for(var b in a)return y;return t},error:function(a){sa(Error(a))},Kp:function(a,b,c){var d;if(!a||"string"!==typeof a)return u;"boolean"===typeof b&&(c=b,b=0);b=b||R;if(d=ab.exec(a))return[b.createElement(d[1])];d=e.lj([a],b,c?u:[]);return e.ta([],(d.mj?e.d(d.eh):d.eh).childNodes)},kk:function(a){if(!a||"string"!==typeof a)return u;a=e.trim(a);if(J.JSON&&
J.JSON.parse)return J.JSON.parse(a);if(vb.test(a.replace($b,"@").replace(dc,"]").replace(gb,"")))return(new Function("return "+a))();e.error("Invalid JSON: "+a)},Lp:function(a){var b,c;if(!a||"string"!==typeof a)return u;try{J.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(d){b=I}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+a);return b},fk:Xb(),Mj:function(a){a&&
xa.test(a)&&(J.execScript||function(a){J.eval.call(J,a)})(a)},Dc:function(a){return a.replace(pb,"ms-").replace(eb,l)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},k:function(a,b,c){var d,f=0,g=a.length,h=g===I||e.r(a);if(c)if(h)for(d in a){if(b.apply(a[d],c)===y)break}else for(;f<g&&b.apply(a[f++],c)!==y;);else if(h)for(d in a){if(b.call(a[d],d,a[d])===y)break}else for(;f<g&&b.call(a[f],f,a[f++])!==y;);return a},trim:qb&&!qb.call("\ufeff\u00a0")?function(a){return a==
u?"":qb.call(a)}:function(a){return a==u?"":a.toString().replace(Oa,"")},qd:function(a,b){var c,d=b||[];a!=u&&(c=e.type(a),a.length==u||"string"===c||"function"===c||"regexp"===c||e.Gc(a)?Z.call(d,a):e.ta(d,a));return d},Yb:function(a,b,c){var e;if(b){if(Ka)return Ka.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},ta:function(a,b){var c=b.length,e=a.length,d=0;if("number"===typeof c)for(;d<c;d++)a[e++]=b[d];else for(;b[d]!==I;)a[e++]=b[d++];a.length=
e;return a},Fc:function(a,b,c){var e,d=[],f=0,g=a.length;for(c=!!c;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var d,f,g=[],h=0,j=a.length;if(a instanceof e||j!==I&&"number"===typeof j&&(0<j&&a[0]&&a[j-1]||0===j||e.isArray(a)))for(;h<j;h++)d=b(a[h],h,c),d!=u&&(g[g.length]=d);else for(f in a)d=b(a[f],f,c),d!=u&&(g[g.length]=d);return g.concat.apply([],g)},K:1,Hz:function(a,b){var c,d;"string"===typeof b&&(c=a[b],b=a,a=c);if(!e.r(a))return I;d=wa.call(arguments,2);c=function(){return a.apply(b,
d.concat(wa.call(arguments)))};c.K=a.K=a.K||c.K||e.K++;return c},yb:function(a,b,c,d,f,g,h){var j,k=c==u,l=0,m=a.length;if(c&&"object"===typeof c){for(l in c)e.yb(a,b,l,c[l],1,g,d);f=1}else if(d!==I){j=h===I&&e.r(d);k&&(j?(j=b,b=function(a,b,c){return j.call(e(a),c)}):(b.call(a,d),b=u));if(b)for(;l<m;l++)b(a[l],c,j?d.call(a[l],l,b(a[l],c)):d,h);f=1}return f?a:k?b.call(a):m?b(a[0],c):g},now:function(){return(new Date).getTime()}});e.Ha.qa=function(a){if(!db)if(db=e.Zc(),"complete"===R.readyState)setTimeout(e.Ha,
1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",j,y),J.addEventListener("load",e.Ha,y);else{R.attachEvent("onreadystatechange",j);J.attachEvent("onload",e.Ha);var b=y;try{b=J.frameElement==u&&R.documentElement}catch(c){}b&&b.doScroll&&function Ma(){if(!e.nh){try{b.doScroll("left")}catch(a){return setTimeout(Ma,50)}e.Ha()}}()}return db.qa(a)};e.k("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){fb["[object "+b+"]"]=b.toLowerCase()});lb=e(R);var rc=
{};e.Vd=function(a){function b(c){f=a.memory&&c;g=t;l=j||0;j=0;k=m.length;for(h=t;m&&l<k;l++)if(m[l].apply(c[0],c[1])===y&&a.NA){f=y;break}h=y;m&&(n?n.length&&b(n.shift()):f?m=[]:p.disable())}var c;if("string"===typeof a){if(!(c=rc[a])){c=a;var d=rc[c]={};e.k(c.split(za),function(a,b){d[b]=t});c=d}}else c=e.extend({},a);a=c;var f,g,h,j,k,l,m=[],n=!a.qt&&[],p={add:function(){if(m){var c=m.length;(function od(b){e.k(b,function(b,c){var d=e.type(c);"function"===d&&(!a.unique||!p.Oj(c))?m.push(c):c&&
(c.length&&"string"!==d)&&od(c)})})(arguments);h?k=m.length:f&&(j=c,b(f))}return this},remove:function(){m&&e.k(arguments,function(a,b){for(var c;-1<(c=e.Yb(b,m,c));)m.splice(c,1),h&&(c<=k&&k--,c<=l&&l--)});return this},Oj:function(a){return-1<e.Yb(a,m)},empty:function(){m=[];return this},disable:function(){m=n=f=I;return this},disabled:function(){return!m},ip:function(){n=I;f||p.disable();return this},xy:function(){return!n},Zg:function(a,c){c=c||[];c=[a,c.slice?c.slice():c];if(m&&(!g||n))h?n.push(c):
b(c);return this},ie:function(){p.Zg(this,arguments);return this},ux:function(){return!!g}};return p};e.extend({Zc:function(a){var b=[["resolve","done",e.Vd("once memory"),"resolved"],["reject","fail",e.Vd("once memory"),"rejected"],["notify","progress",e.Vd("memory")]],c="pending",d={state:function(){return c},zc:function(){f.jb(arguments).he(arguments);return this},Bq:function(){var a=arguments;return e.Zc(function(c){e.k(b,function(b,d){var g=d[0],h=a[b];f[d[1]](e.r(h)?function(){var a=h.apply(this,
arguments);if(a&&e.r(a.qa))a.qa().jb(c.Nb).he(c.Wp).Ah(c.ez);else c[g+"With"](this===f?c:this,[a])}:c[g])});a=u}).qa()},qa:function(a){return"object"===typeof a?e.extend(a,d):d}},f={};d.xz=d.Bq;e.k(b,function(a,e){var g=e[2],h=e[3];d[e[1]]=g.add;h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].ip);f[e[0]]=g.ie;f[e[0]+"With"]=g.Zg});d.qa(f);a&&a.call(f,f);return f},tB:function(a){function b(a,c,e){return function(b){c[a]=this;e[a]=1<arguments.length?wa.call(arguments):b;e===j?h.Bp(c,e):--g||h.ud(c,
e)}}var c=0,d=wa.call(arguments),f=d.length,g=1!==f||a&&e.r(a.qa)?f:0,h=1===g?a:e.Zc(),j,k,l;if(1<f){j=Array(f);k=Array(f);for(l=Array(f);c<f;c++)d[c]&&e.r(d[c].qa)?d[c].qa().jb(b(c,l,d)).he(h.Wp).Ah(b(c,k,j)):--g}g||h.ud(l,d);return h.qa()}});var Lb=e,Eb;var qa,wb,cb,rb,Qb,Ba,hb,xb,ec,nc,Kc,ha=R.createElement("div");ha.setAttribute("className","t");ha.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";wb=ha.getElementsByTagName("*");cb=ha.getElementsByTagName("a")[0];
cb.style.cssText="top:1px;float:left;opacity:.5";if(!wb||!wb.length||!cb)Eb={};else{rb=R.createElement("select");Qb=rb.appendChild(R.createElement("option"));Ba=ha.getElementsByTagName("input")[0];qa={Zj:3===ha.firstChild.nodeType,Sk:!ha.getElementsByTagName("tbody").length,Rj:!!ha.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),So:"/a"===cb.getAttribute("href"),opacity:/^0.5/.test(cb.style.opacity),cssFloat:!!cb.style.cssFloat,io:"on"===Ba.value,Gp:Qb.selected,Mo:"t"!==
ha.className,enctype:!!R.createElement("form").enctype,jh:"<:nav></:nav>"!==R.createElement("nav").cloneNode(t).outerHTML,xw:"CSS1Compat"===R.compatMode,yq:t,ho:t,Ho:y,Sg:t,ek:t,Tj:y,Kk:y,qk:t,kj:t,lk:y};Ba.checked=t;qa.zp=Ba.cloneNode(t).checked;rb.disabled=t;qa.Fp=!Qb.disabled;try{delete ha.test}catch(Lc){qa.Sg=y}!ha.addEventListener&&(ha.attachEvent&&ha.fireEvent)&&(ha.attachEvent("onclick",Kc=function(){qa.ek=y}),ha.cloneNode(t).fireEvent("onclick"),ha.detachEvent("onclick",Kc));Ba=R.createElement("input");
Ba.value="t";Ba.setAttribute("type","radio");qa.Up="t"===Ba.value;Ba.setAttribute("checked","checked");Ba.setAttribute("name","t");ha.appendChild(Ba);hb=R.createDocumentFragment();hb.appendChild(ha.lastChild);qa.pj=hb.cloneNode(t).cloneNode(t).lastChild.checked;qa.Qn=Ba.checked;hb.removeChild(Ba);hb.appendChild(ha);if(ha.attachEvent)for(ec in{submit:t,fo:t,xx:t})xb="on"+ec,nc=xb in ha,nc||(ha.setAttribute(xb,"return;"),nc="function"===typeof ha[xb]),qa[ec+"Bubbles"]=nc;e(function(){var a,b,c,e=R.getElementsByTagName("body")[0];
e&&(a=R.createElement("div"),a.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",e.insertBefore(a,e.firstChild),b=R.createElement("div"),a.appendChild(b),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=b.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",nc=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",qa.Yp=nc&&0===c[0].offsetHeight,b.innerHTML="",b.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
qa.boxSizing=4===b.offsetWidth,qa.yo=1!==e.offsetTop,J.getComputedStyle&&(qa.lk="1%"!==(J.getComputedStyle(b,u)||{}).top,qa.kj="4px"===(J.getComputedStyle(b,u)||{width:"4px"}).width,c=R.createElement("div"),c.style.cssText=b.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",c.style.marginRight=c.style.width="0",b.style.width="1px",b.appendChild(c),qa.qk=!parseFloat((J.getComputedStyle(c,u)||{}).marginRight)),"undefined"!==typeof b.style.zoom&&(b.innerHTML="",b.style.cssText=
"padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",qa.Tj=3===b.offsetWidth,b.style.display="block",b.style.overflow="visible",b.innerHTML="<div></div>",b.firstChild.style.width="5px",qa.Kk=3!==b.offsetWidth,a.style.zoom=1),e.removeChild(a))});hb.removeChild(ha);wb=cb=rb=Qb=Ba=hb=ha=u;Eb=qa}Lb.n=Eb;var pd=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,k=/([A-Z])/g;e.extend({Va:{},xj:[],Oq:0,expando:"jQuery"+(e.m.tf+Math.random()).replace(/\D/g,""),Ap:{embed:t,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:t},Pj:function(a){a=a.nodeType?e.Va[a[e.expando]]:a[e.expando];return!!a&&!Ra(a)},data:function(a,b,c,d){if(e.Yd(a)){var f=e.expando,g="string"===typeof b,h=a.nodeType,j=h?e.Va:a,k=h?a[f]:a[f]&&f;if(k&&j[k]&&(d||j[k].data)||!(g&&c===I)){k||(h?a[f]=k=e.xj.pop()||++e.Oq:k=f);j[k]||(j[k]={},h||(j[k].toJSON=e.fk));if("object"===typeof b||"function"===typeof b)d?j[k]=e.extend(j[k],b):j[k].data=e.extend(j[k].data,b);a=j[k];d||(a.data||(a.data={}),a=a.data);c!==I&&(a[e.Dc(b)]=c);g?(c=a[b],c==u&&(c=
a[e.Dc(b)])):c=a;return c}}},td:function(a,b,c){if(e.Yd(a)){var d,f,g,h=a.nodeType,j=h?e.Va:a,k=h?a[e.expando]:e.expando;if(j[k]){if(b&&(d=c?j[k]:j[k].data)){e.isArray(b)||(b in d?b=[b]:(b=e.Dc(b),b=b in d?[b]:b.split(" ")));f=0;for(g=b.length;f<g;f++)delete d[b[f]];if(!(c?Ra:e.nf)(d))return}if(!c&&(delete j[k].data,!Ra(j[k])))return;h?e.Zd([a],t):e.n.Sg||j!=j.window?delete j[k]:j[k]=u}}},F:function(a,b,c){return e.data(a,b,c,t)},Yd:function(a){var b=a.nodeName&&e.Ap[a.nodeName.toLowerCase()];return!b||
b!==t&&a.getAttribute("classid")===b}});e.m.extend({data:function(a,b){var c,d,f,g,h,j=this[0],k=0,l=u;if(a===I){if(this.length&&(l=e.data(j),1===j.nodeType&&!e.F(j,"parsedAttrs"))){f=j.attributes;for(h=f.length;k<h;k++)g=f[k].name,0===g.indexOf("data-")&&(g=e.Dc(g.substring(5)),Va(j,g,l[g]));e.F(j,"parsedAttrs",t)}return l}if("object"===typeof a)return this.k(function(){e.data(this,a)});c=a.split(".",2);c[1]=c[1]?"."+c[1]:"";d=c[1]+"!";return e.yb(this,function(b){if(b===I)return l=this.Jh("getData"+
d,[c[0]]),l===I&&j&&(l=e.data(j,a),l=Va(j,a,l)),l===I&&c[1]?this.data(c[0]):l;c[1]=b;this.k(function(){var f=e(this);f.Jh("setData"+d,c);e.data(this,a,b);f.Jh("changeData"+d,c)})},u,b,1<arguments.length,u,y)},td:function(a){return this.k(function(){e.td(this,a)})}});e.extend({U:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=e.F(a,b),c&&(!d||e.isArray(c)?d=e.F(a,b,e.qd(c)):d.push(c)),d||[]},md:function(a,b){function c(){e.md(a,b)}b=b||"fx";var d=e.U(a,b),f=d.length,g=d.shift(),h=e.Eg(a,b);
"inprogress"===g&&(g=d.shift(),f--);g&&("fx"===b&&d.unshift("inprogress"),delete h.stop,g.call(a,c,h));!f&&h&&h.empty.ie()},Eg:function(a,b){var c=b+"queueHooks";return e.F(a,c)||e.F(a,c,{empty:e.Vd("once memory").add(function(){e.td(a,b+"queue",t);e.td(a,c,t)})})}});e.m.extend({U:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?e.U(this[0],a):b===I?this:this.k(function(){var c=e.U(this,a,b);e.Eg(this,a);"fx"===a&&"inprogress"!==c[0]&&e.md(this,a)})},md:function(a){return this.k(function(){e.md(this,
a)})},Zw:function(a,b){a=e.da?e.da.zf[a]||a:a;return this.U(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},Gw:function(a){return this.U(a||"fx",[])},qa:function(a,b){function c(){--f||g.ud(h,[h])}var d,f=1,g=e.Zc(),h=this,j=this.length;"string"!==typeof a&&(b=a,a=I);for(a=a||"fx";j--;)if((d=e.F(h[j],a+"queueHooks"))&&d.empty)f++,d.empty.add(c);c();return g.qa(b)}});var yb,Mc,fc,Hb=/[\t\r\n]/g,Sc=/\r/g,Tc=/^(?:button|input)$/i,Uc=/^(?:button|input|object|select|textarea)$/i,
Nc=/^a(?:rea|)$/i,wc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ea=e.n.Mo;e.m.extend({zb:function(a,b){return e.yb(this,e.zb,a,b,1<arguments.length)},vf:function(a){return this.k(function(){e.vf(this,a)})},ea:function(a,b){return e.yb(this,e.ea,a,b,1<arguments.length)},Nz:function(a){a=e.pe[a]||a;return this.k(function(){try{this[a]=I,delete this[a]}catch(b){}})},Kn:function(a){var b,c,d,f,g,h,j;if(e.r(a))return this.k(function(b){e(this).Kn(a.call(this,
b,this.className))});if(a&&"string"===typeof a){b=a.split(za);c=0;for(d=this.length;c<d;c++)if(f=this[c],1===f.nodeType)if(!f.className&&1===b.length)f.className=a;else{g=" "+f.className+" ";h=0;for(j=b.length;h<j;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");f.className=e.trim(g)}}return this},Zp:function(a){var b,c,d,f,g,h,j;if(e.r(a))return this.k(function(b){e(this).Zp(a.call(this,b,this.className))});if(a&&"string"===typeof a||a===I){b=(a||"").split(za);h=0;for(j=this.length;h<j;h++)if(d=this[h],
1===d.nodeType&&d.className){c=(" "+d.className+" ").replace(Hb," ");f=0;for(g=b.length;f<g;f++)for(;-1<c.indexOf(" "+b[f]+" ");)c=c.replace(" "+b[f]+" "," ");d.className=a?e.trim(c):""}}return this},Hq:function(a,b){var c=typeof a,d="boolean"===typeof b;return e.r(a)?this.k(function(c){e(this).Hq(a.call(this,c,this.className,b),b)}):this.k(function(){if("string"===c)for(var f,g=0,h=e(this),j=b,k=a.split(za);f=k[g++];)j=d?j:!h.Qo(f),h[j?"addClass":"removeClass"](f);else if("undefined"===c||"boolean"===
c)this.className&&e.F(this,"__className__",this.className),this.className=this.className||a===y?"":e.F(this,"__className__")||""})},Qo:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(Hb," ").indexOf(a))return t;return y},zd:function(a){var b,c,d,f=this[0];if(arguments.length)return d=e.r(a),this.k(function(c){var f=e(this);if(1===this.nodeType&&(c=d?a.call(this,c,f.zd()):a,c==u?c="":"number"===typeof c?c+="":e.isArray(c)&&(c=
e.map(c,function(a){return a==u?"":a+""})),b=e.gc[this.type]||e.gc[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,c,"value")===I))this.value=c});if(f){if((b=e.gc[f.type]||e.gc[f.nodeName.toLowerCase()])&&"get"in b&&(c=b.get(f,"value"))!==I)return c;c=f.value;return"string"===typeof c?c.replace(Sc,""):c==u?"":c}}});e.extend({gc:{ik:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,f=[],g=a.options,h="select-one"===
a.type;if(0>d)return u;a=h?d:0;for(c=h?d+1:g.length;a<c;a++)if(b=g[a],b.selected&&(e.n.Fp?!b.disabled:b.getAttribute("disabled")===u)&&(!b.parentNode.disabled||!e.nodeName(b.parentNode,"optgroup"))){b=e(b).zd();if(h)return b;f.push(b)}return h&&!f.length&&g.length?e(g[d]).zd():f},set:function(a,b){var c=e.qd(b);e(a).find("option").k(function(){this.selected=0<=e.Yb(e(this).zd(),c)});c.length||(a.selectedIndex=-1);return c}}},fw:{},zb:function(a,b,c,d){var f,g,h=a.nodeType;if(a&&!(3===h||8===h||2===
h)){if(d&&e.r(e.m[b]))return e(a)[b](c);if("undefined"===typeof a.getAttribute)return e.ea(a,b,c);if(d=1!==h||!e.rf(a))b=b.toLowerCase(),g=e.Ac[b]||(wc.test(b)?Mc:yb);if(c!==I)if(c===u)e.vf(a,b);else{if(g&&"set"in g&&d&&(f=g.set(a,c,b))!==I)return f;a.setAttribute(b,""+c);return c}else{if(g&&"get"in g&&d&&(f=g.get(a,b))!==u)return f;f=a.getAttribute(b);return f===u?I:f}}},vf:function(a,b){var c,d,f,g,h=0;if(b&&1===a.nodeType)for(d=b.split(za);h<d.length;h++)if(f=d[h])c=e.pe[f]||f,(g=wc.test(f))||
e.zb(a,f,""),a.removeAttribute(ea?f:c),g&&c in a&&(a[c]=y)},Ac:{type:{set:function(a,b){if(Tc.test(a.nodeName)&&a.parentNode)e.error("type property can't be changed");else if(!e.n.Up&&"radio"===b&&e.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return yb&&e.nodeName(a,"button")?yb.get(a,b):b in a?a.value:u},set:function(a,b,c){if(yb&&e.nodeName(a,"button"))return yb.set(a,b,c);a.value=b}}},pe:{SA:"tabIndex",Lz:"readOnly","for":"htmlFor",
"class":"className",Oy:"maxLength",Cw:"cellSpacing",Bw:"cellPadding",Wz:"rowSpan",Nw:"colSpan",oB:"useMap",zx:"frameBorder",mo:"contentEditable"},ea:function(a,b,c){var d,f,g;g=a.nodeType;if(a&&!(3===g||8===g||2===g)){if(g=1!==g||!e.rf(a))b=e.pe[b]||b,f=e.nb[b];return c!==I?f&&"set"in f&&(d=f.set(a,c,b))!==I?d:a[b]=c:f&&"get"in f&&(d=f.get(a,b))!==u?d:a[b]}},nb:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Uc.test(a.nodeName)||Nc.test(a.nodeName)&&
a.href?0:I}}}});Mc={get:function(a,b){var c,d=e.ea(a,b);return d===t||"boolean"!==typeof d&&(c=a.getAttributeNode(b))&&c.nodeValue!==y?b.toLowerCase():I},set:function(a,b,c){b===y?e.vf(a,c):(b=e.pe[c]||c,b in a&&(a[b]=t),a.setAttribute(c,c.toLowerCase()));return c}};ea||(fc={name:t,id:t,coords:t},yb=e.gc.button={get:function(a,b){var c;return(c=a.getAttributeNode(b))&&(fc[b]?""!==c.value:c.specified)?c.value:I},set:function(a,b,c){var d=a.getAttributeNode(c);d||(d=R.createAttribute(c),a.setAttributeNode(d));
return d.value=b+""}},e.k(["width","height"],function(a,b){e.Ac[b]=e.extend(e.Ac[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),e.Ac.mo={get:yb.get,set:function(a,b,c){""===b&&(b="false");yb.set(a,b,c)}});e.n.So||e.k(["href","src","width","height"],function(a,b){e.Ac[b]=e.extend(e.Ac[b],{get:function(a){a=a.getAttribute(b,2);return a===u?I:a}})});e.n.style||(e.Ac.style={get:function(a){return a.style.cssText.toLowerCase()||I},set:function(a,b){return a.style.cssText=""+b}});
e.n.Gp||(e.nb.selected=e.extend(e.nb.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return u}}));e.n.enctype||(e.pe.enctype="encoding");e.n.io||e.k(["radio","checkbox"],function(){e.gc[this]={get:function(a){return a.getAttribute("value")===u?"on":a.value}}});e.k(["radio","checkbox"],function(){e.gc[this]=e.extend(e.gc[this],{set:function(a,b){if(e.isArray(b))return a.checked=0<=e.Yb(e(a).zd(),b)}})});var E=/^(?:textarea|input|select)$/i,na=/^([^\.]*|)(?:\.(.+)|)$/,
pa=/(?:^|\s)hover(\.\S+|)\b/,ib=/^key/,Rb=/^(?:mouse|contextmenu)|click/,gc=/^(?:focusinfocus|focusoutblur)$/;e.event={add:function(a,b,c,d,f){var g,j,k,l,m,n,p,q,s;if(!(3===a.nodeType||8===a.nodeType||!b||!c||!(g=e.F(a)))){c.Xb&&(p=c,c=p.Xb,f=p.P);c.K||(c.K=e.K++);k=g.Ub;k||(g.Ub=k={});j=g.handle;j||(g.handle=j=function(a){return"undefined"!==typeof e&&(!a||e.event.Kh!==a.type)?e.event.Tg.apply(j.I,arguments):I},j.I=a);b=e.trim(h(b)).split(" ");for(g=0;g<b.length;g++){l=na.exec(b[g])||[];m=l[1];
n=(l[2]||"").split(".").sort();s=e.event.Qa[m]||{};m=(f?s.de:s.Kg)||m;s=e.event.Qa[m]||{};l=e.extend({type:m,me:l[1],data:d,Xb:c,K:c.K,P:f,Cb:n.join(".")},p);q=k[m];if(!q&&(q=k[m]=[],q.Rg=0,!s.ve||s.ve.call(a,d,n,j)===y))a.addEventListener?a.addEventListener(m,j,y):a.attachEvent&&a.attachEvent("on"+m,j);s.add&&(s.add.call(a,l),l.Xb.K||(l.Xb.K=c.K));f?q.splice(q.Rg++,0,l):q.push(l);e.event.global[m]=t}a=u}},global:{},remove:function(a,b,c,d,f){var g,j,k,l,m,n,p,q,s,v,w=e.Pj(a)&&e.F(a);if(w&&(p=w.Ub)){b=
e.trim(h(b||"")).split(" ");for(g=0;g<b.length;g++)if(j=na.exec(b[g])||[],k=l=j[1],j=j[2],k){q=e.event.Qa[k]||{};k=(d?q.de:q.Kg)||k;s=p[k]||[];m=s.length;j=j?RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):u;for(n=0;n<s.length;n++)if(v=s[n],(f||l===v.me)&&(!c||c.K===v.K)&&(!j||j.test(v.Cb))&&(!d||d===v.P||"**"===d&&v.P))s.splice(n--,1),v.P&&s.Rg--,q.remove&&q.remove.call(a,v);0===s.length&&m!==s.length&&((!q.xe||q.xe.call(a,j,w.handle)===y)&&e.rk(a,k,w.handle),delete p[k])}else for(k in p)e.event.remove(a,
k+b[g],c,d,t);e.nf(p)&&(delete w.handle,e.td(a,"events",t))}},po:{getData:t,setData:t,changeData:t},ra:function(a,b,c,d){if(!c||!(3===c.nodeType||8===c.nodeType)){var f,g,h,j,k,l,m=a.type||a;h=[];if(!gc.test(m+e.event.Kh)&&(0<=m.indexOf("!")&&(m=m.slice(0,-1),f=t),0<=m.indexOf(".")&&(h=m.split("."),m=h.shift(),h.sort()),c&&!e.event.po[m]||e.event.global[m]))if(a="object"===typeof a?a[e.expando]?a:new e.uc(m,a):new e.uc(m),a.type=m,a.qf=t,a.Eo=f,a.Cb=h.join("."),a.dk=a.Cb?RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+
"(\\.|$)"):u,h=0>m.indexOf(":")?"on"+m:"",c){if(a.result=I,a.target||(a.target=c),b=b!=u?e.qd(b):[],b.unshift(a),j=e.event.Qa[m]||{},!(j.ra&&j.ra.apply(c,b)===y)){l=[[c,j.Kg||m]];if(!d&&!j.yp&&!e.Gc(c)){k=j.de||m;f=gc.test(k+m)?c:c.parentNode;for(g=c;f;f=f.parentNode)l.push([f,k]),g=f;if(g===(c.ownerDocument||R))l.push([g.defaultView||g.parentWindow||J,k])}for(g=0;g<l.length&&!a.mh();g++)f=l[g][0],a.type=l[g][1],(k=(e.F(f,"events")||{})[a.type]&&e.F(f,"handle"))&&k.apply(f,b),(k=h&&f[h])&&(e.Yd(f)&&
k.apply(f,b)===y)&&a.preventDefault();a.type=m;if(!d&&!a.mf()&&(!j.xb||j.xb.apply(c.ownerDocument,b)===y)&&!("click"===m&&e.nodeName(c,"a"))&&e.Yd(c))if(h&&c[m]&&("focus"!==m&&"blur"!==m||0!==a.target.offsetWidth)&&!e.Gc(c))(g=c[h])&&(c[h]=u),e.event.Kh=m,c[m](),e.event.Kh=I,g&&(c[h]=g);return a.result}}else for(g in c=e.Va,c)c[g].Ub&&c[g].Ub[m]&&e.event.ra(a,b,c[g].handle.I,t)}},Tg:function(a){a=e.event.Dj(a||J.event);var b,c,d,f,g,h,j=(e.F(this,"events")||{})[a.type]||[],k=j.Rg,l=[].slice.call(arguments),
m=!a.Eo&&!a.Cb,n=e.event.Qa[a.type]||{},p=[];l[0]=a;a.uo=this;if(!(n.Np&&n.Np.call(this,a)===y)){if(k&&!(a.button&&"click"===a.type))for(c=a.target;c!=this;c=c.parentNode||this)if(c.disabled!==t||"click"!==a.type){f={};g=[];for(b=0;b<k;b++)d=j[b],h=d.P,f[h]===I&&(f[h]=0<=e(h,this).index(c)),f[h]&&g.push(d);g.length&&p.push({I:c,matches:g})}j.length>k&&p.push({I:this,matches:j.slice(k)});for(b=0;b<p.length&&!a.mh();b++){f=p[b];a.currentTarget=f.I;for(c=0;c<f.matches.length&&!a.Xo();c++)if(d=f.matches[c],
m||!a.Cb&&!d.Cb||a.dk&&a.dk.test(d.Cb))a.data=d.data,a.lf=d,d=((e.event.Qa[d.me]||{}).handle||d.Xb).apply(f.I,l),d!==I&&(a.result=d,d===y&&(a.preventDefault(),a.stopPropagation()))}n.ok&&n.ok.call(this,a);return a.result}},ec:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),ah:{},$o:{ec:["char","charCode","key","keyCode"],filter:function(a,b){a.which==u&&(a.which=b.charCode!=
u?b.charCode:b.keyCode);return a}},tp:{ec:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e=b.button,f=b.fromElement;a.pageX==u&&b.clientX!=u&&(c=a.target.ownerDocument||R,d=c.documentElement,c=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0));!a.relatedTarget&&f&&(a.relatedTarget=
f===a.target?b.toElement:f);!a.which&&e!==I&&(a.which=e&1?1:e&2?3:e&4?2:0);return a}},Dj:function(a){if(a[e.expando])return a;var b,c,d=a,f=e.event.ah[a.type]||{},g=f.ec?this.ec.concat(f.ec):this.ec;a=e.uc(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];a.target||(a.target=d.srcElement||R);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return f.filter?f.filter(a,d):a},Qa:{load:{yp:t},focus:{de:"focusin"},blur:{de:"focusout"},tw:{ve:function(a,b,c){e.Gc(this)&&(this.onbeforeunload=
c)},xe:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=u)}}},yf:function(a,b,c,d){a=e.extend(new e.uc,c,{type:a,Xj:t,uf:{}});d?e.event.ra(a,u,b):e.event.Tg.call(b,a);a.mf()&&c.preventDefault()}};e.event.handle=e.event.Tg;e.rk=R.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,y)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=u),a.detachEvent(b,c))};e.uc=function(a,b){if(!(this instanceof e.uc))return new e.uc(a,b);a&&a.type?
(this.uf=a,this.type=a.type,this.mf=a.defaultPrevented||a.returnValue===y||a.Lo&&a.Lo()?Ea:Aa):this.type=a;b&&e.extend(this,b);this.timeStamp=a&&a.timeStamp||e.now();this[e.expando]=t};e.uc.prototype={preventDefault:function(){this.mf=Ea;var a=this.uf;a&&(a.preventDefault?a.preventDefault():a.returnValue=y)},stopPropagation:function(){this.mh=Ea;var a=this.uf;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=t)},mf:Aa,mh:Aa,Xo:Aa};e.k({up:"mouseover",vp:"mouseout"},function(a,b){e.event.Qa[a]=
{de:b,Kg:b,handle:function(a){var c,d=a.relatedTarget,f=a.lf;if(!d||d!==this&&!e.contains(this,d))a.type=f.me,c=f.Xb.apply(this,arguments),a.type=b;return c}}});e.n.yq||(e.event.Qa.submit={ve:function(){if(e.nodeName(this,"form"))return y;e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=e.nodeName(a,"input")||e.nodeName(a,"button")?a.form:I)&&!e.F(a,"_submit_attached"))e.event.add(a,"submit._submit",function(a){a.dj=t}),e.F(a,"_submit_attached",t)})},ok:function(a){a.dj&&
(delete a.dj,this.parentNode&&!a.qf&&e.event.yf("submit",this.parentNode,a,t))},xe:function(){if(e.nodeName(this,"form"))return y;e.event.remove(this,"._submit")}});e.n.ho||(e.event.Qa.fo={ve:function(){if(E.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)e.event.add(this,"propertychange._change",function(a){"checked"===a.uf.propertyName&&(this.cj=t)}),e.event.add(this,"click._change",function(a){this.cj&&!a.qf&&(this.cj=y);e.event.yf("change",this,a,t)});return y}e.event.add(this,
"beforeactivate._change",function(a){a=a.target;E.test(a.nodeName)&&!e.F(a,"_change_attached")&&(e.event.add(a,"change._change",function(a){this.parentNode&&(!a.Xj&&!a.qf)&&e.event.yf("change",this.parentNode,a,t)}),e.F(a,"_change_attached",t))})},handle:function(a){var b=a.target;if(this!==b||a.Xj||a.qf||"radio"!==b.type&&"checkbox"!==b.type)return a.lf.Xb.apply(this,arguments)},xe:function(){e.event.remove(this,"._change");return!E.test(this.nodeName)}});e.n.Ho||e.k({focus:"focusin",blur:"focusout"},
function(a,b){function c(a){e.event.yf(b,a.target,e.event.Dj(a),t)}var d=0;e.event.Qa[b]={ve:function(){0===d++&&R.addEventListener(a,c,t)},xe:function(){0===--d&&R.removeEventListener(a,c,t)}}});e.m.extend({cc:function(a,b,c,d,f){var g,h;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=I);for(h in a)this.cc(h,b,c,a[h],f);return this}c==u&&d==u?(d=b,c=b=I):d==u&&("string"===typeof b?(d=c,c=I):(d=c,c=b,b=I));if(d===y)d=Aa;else if(!d)return this;1===f&&(g=d,d=function(a){e().Db(a);return g.apply(this,
arguments)},d.K=g.K||(g.K=e.K++));return this.k(function(){e.event.add(this,a,d,c,b)})},nz:function(a,b,c,d){return this.cc(a,b,c,d,1)},Db:function(a,b,c){var d;if(a&&a.preventDefault&&a.lf)return d=a.lf,e(a.uo).Db(d.Cb?d.me+"."+d.Cb:d.me,d.P,d.Xb),this;if("object"===typeof a){for(d in a)this.Db(d,b,a[d]);return this}if(b===y||"function"===typeof b)c=b,b=I;c===y&&(c=Aa);return this.k(function(){e.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.cc(a,u,b,c)},hB:function(a,b){return this.Db(a,
u,b)},ry:function(a,b,c){e(this.na).cc(a,this.P,b,c);return this},ax:function(a,b){e(this.na).Db(a,this.P||"**",b);return this},$w:function(a,b,c,d){return this.cc(b,a,c,d)},iB:function(a,b,c){return 1==arguments.length?this.Db(a,"**"):this.Db(b,a||"**",c)},ra:function(a,b){return this.k(function(){e.event.ra(a,b,this)})},Jh:function(a,b){if(this[0])return e.event.ra(a,b,this[0],t)},toggle:function(a){function b(d){var g=(e.F(this,"lastToggle"+a.K)||0)%f;e.F(this,"lastToggle"+a.K,g+1);d.preventDefault();
return c[g].apply(this,arguments)||y}var c=arguments,d=a.K||e.K++,f=0;for(b.K=d;f<c.length;)c[f++].K=d;return this.click(b)},Ro:function(a,b){return this.up(a).vp(b||a)}});e.k("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){e.m[b]=function(a,c){c==u&&(c=a,a=u);return 0<arguments.length?this.cc(b,u,a,c):this.ra(b)};ib.test(b)&&
(e.event.ah[b]=e.event.$o);Rb.test(b)&&(e.event.ah[b]=e.event.tp)});var bc,Yc,Ec,da,gd,ed,Id,ud,vd,Vc,Nd=t,jb=("sizcache"+Math.random()).replace(".",""),Tb=J.document,Ib=Tb.documentElement,Gd=0,Nb=[].slice,Cc=[].push,Od=s(),Hd=s(),Pd=s(),Na="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#"),Qd="\\["+Na+"*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)"+Na+"*(?:([*^$|!~]?=)"+Na+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+te+")|)|)"+Na+"*\\]",Rd=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+
Qd+")|[^:]|\\\\.)*|.*))\\)|)",cd=RegExp("^"+Na+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Na+"+$","g"),pe=RegExp("^"+Na+"*,"+Na+"*"),dd=RegExp("^"+Na+"*([\\x20\\t\\r\\n\\f>+~])"+Na+"*"),ue=RegExp(Rd),qe=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,td=/[\x20\t\r\n\f]*[+~]/,oe=/:not\($/,ve=/h\d/i,we=/input|select|textarea|button/i,Y=/\\(?!\\)/g,mc={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w",
"w*")+")"),ATTR:RegExp("^"+Qd),PSEUDO:RegExp("^"+Rd),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+Na+"*(even|odd|(([+-]|)(\\d*)n|)"+Na+"*(?:([+-]|)"+Na+"*(\\d+)|))"+Na+"*\\)|)","i"),POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","ig"),needsContext:RegExp("^"+Na+"*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","i")},xe=b(function(a){a.appendChild(Tb.createComment(""));return!a.getElementsByTagName("*").length}),ye=b(function(a){a.innerHTML=
"<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),ze=b(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),Jd=b(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return y;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),Fa=
b(function(a){a.id=jb+0;a.innerHTML="<a name='"+jb+"'></a><div name='"+jb+"'></div>";Ib.insertBefore(a,Ib.firstChild);var b=Tb.getElementsByName&&Tb.getElementsByName(jb).length===2+Tb.getElementsByName(jb+0).length;Ec=!Tb.getElementById(jb);Ib.removeChild(a);return b});try{Nb.call(Ib.childNodes,0)[0].nodeType}catch(jf){Nb=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}g.matches=function(a,b){return g(a,u,u,b)};g.matchesSelector=function(a,b){return 0<g(b,u,u,[a]).length};gd=g.No=function(a){var b,
c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=gd(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d];d++)c+=gd(b);return c};ed=g.Yo=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:y};Id=g.contains=Ib.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(1===d.nodeType&&c.contains&&c.contains(d)))}:Ib.compareDocumentPosition?
function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return t;return y};g.zb=function(a,b){var c;(c=ed(a))||(b=b.toLowerCase());return da.hj[b]?da.hj[b](a):ze||c?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:u:c.specified?c.value:u:u};da=g.kq={bo:50,Tw:F,match:mc,Hp:RegExp("ID|TAG"+(Fa?"|NAME":"")+(Jd?"|CLASS":"")),hj:ye?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},
find:{ID:Ec?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a))?b.id===a||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").value===a?[b]:r:[]},TAG:xe?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===
d.nodeType&&e.push(d);return e}return c},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},Ne:{">":{dir:"parentNode",$g:t}," ":{dir:"parentNode"},"+":{dir:"previousSibling",$g:t},"~":{dir:"previousSibling"}},Op:{ATTR:function(a){a[1]=a[1].replace(Y,"");a[3]=(a[4]||a[5]||"").replace(Y,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},
CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||g.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&g.error(a[0]);return a},PSEUDO:function(b,c,d){var e,f;if(mc.CHILD.test(b[0]))return u;if(b[3])b[2]=b[3];else if(e=b[4]){if(ue.test(e)&&(f=a(e,c,d,t))&&(f=e.indexOf(")",e.length-f)-e.length))e=e.slice(0,f),b[0]=b[0].slice(0,f);b[2]=e}return b.slice(0,3)}},filter:{ID:Ec?function(a){a=a.replace(Y,"");return function(b){return b.getAttribute("id")===
a}}:function(a){a=a.replace(Y,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return Yd(t);a=a.replace(Y,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=Od[jb][a];b||(b=Od(a,RegExp("(^|"+Na+")"+a+"("+Na+"|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return!b?
function(b){return g.zb(b,a)!=u}:function(d){d=g.zb(d,a);var e=d+"";if(d==u)return"!="===b;switch(b){case "=":return e===c;case "!=":return e!==c;case "^=":return c&&0===e.indexOf(c);case "*=":return c&&-1<e.indexOf(c);case "$=":return c&&e.substr(e.length-c.length)===c;case "~=":return-1<(" "+e+" ").indexOf(c);case "|=":return e===c||e.substr(0,c.length+1)===c+"-"}}},CHILD:function(a,b,c,d){if("nth"===a){var e=Gd++;return function(a){var b,f=0,g=a;if(1===c&&0===d)return t;if((b=a.parentNode)&&(b[jb]!==
e||!a.wd)){for(g=b.firstChild;g&&!(1===g.nodeType&&(g.wd=++f,g===a));g=g.nextSibling);b[jb]=e}a=a.wd-d;return 0===c?0===a:0===a%c&&0<=a/c}}return function(b){var c=b;switch(a){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return y;if("first"===a)return t;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return y;return t}}},PSEUDO:function(a,b,c,d){var e,f=da.qe[a]||da.qe[a.toLowerCase()];f||g.error("unsupported pseudo: "+a);return!f[jb]?1<f.length?(e=[a,a,"",b],function(a){return f(a,
0,e)}):f:f(b,c,d)}},qe:{not:F(function(a,b,c){var d=ud(a.replace(cd,"$1"),b,c);return function(a){return!d(a)}}),enabled:function(a){return a.disabled===y},disabled:function(a){return a.disabled===t},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===t},parent:function(a){return!da.qe.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||
3===(b=a.nodeType)||4===b)return y;a=a.nextSibling}return t},contains:F(function(a){return function(b){return-1<(b.textContent||b.innerText||gd(b)).indexOf(a)}}),has:F(function(a){return function(b){return 0<g(a,b).length}}),header:function(a){return ve.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&((c=a.getAttribute("type"))==u||c.toLowerCase()===b)},radio:f("radio"),checkbox:f("checkbox"),file:f("file"),password:f("password"),image:f("image"),
submit:d("submit"),reset:d("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return we.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},Dh:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){b=a.pop();return c?a:[b]},even:function(a,b,c){b=[];c=c?1:0;for(var d=
a.length;c<d;c+=2)b.push(a[c]);return b},odd:function(a,b,c){b=[];c=c?0:1;for(var d=a.length;c<d;c+=2)b.push(a[c]);return b},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){b=a.splice(+b,1);return c?a:b}}};vd=Ib.compareDocumentPosition?function(a,b){return a===b?(Vc=t,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return Vc=
t,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,e,f=[],g=[];d=a.parentNode;e=b.parentNode;var h=d;if(d===e)return c(a,b);if(d){if(!e)return 1}else return-1;for(;h;)f.unshift(h),h=h.parentNode;for(h=e;h;)g.unshift(h),h=h.parentNode;d=f.length;e=g.length;for(h=0;h<d&&h<e;h++)if(f[h]!==g[h])return c(f[h],g[h]);return h===d?c(a,g[h],-1):c(f[h],b,1)};[0,0].sort(vd);Nd=!Vc;g.Tk=function(a){var b,c=1;Vc=Nd;a.sort(vd);if(Vc)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};
g.error=function(a){sa(Error("Syntax error, unrecognized expression: "+a))};ud=g.compile=function(b,c,d){var e,f,g;if((f=Pd[jb][b])&&f.na===c)return f;e=a(b,c,d);f=0;for(g=e.length;f<g;f++){for(var h=e,j=f,k=e[f],l=c,m=d,n=r,p=r,q=0;n=k[q];q++)p=da.Ne[n.dc]?B(p,da.Ne[n.dc],l,m):A(p,da.filter[n.dc].apply(u,n.hf.concat(l,m)));h[j]=p}f=Pd(b,function(a){for(var b,c=0;b=e[c];c++)if(b(a))return t;return y});f.na=c;f.hq=f.wo=0;return f};if(Tb.querySelectorAll){var Sd,Ae=P,Be=/'|\\/g,Ce=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
Ob=[],hd=[":active"],id=Ib.matchesSelector||Ib.mozMatchesSelector||Ib.webkitMatchesSelector||Ib.gz||Ib.msMatchesSelector;b(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||Ob.push("\\["+Na+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||Ob.push(":checked")});b(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&Ob.push("[*^$]="+Na+"*(?:\"\"|'')");a.innerHTML=
"<input type='hidden'/>";a.querySelectorAll(":enabled").length||Ob.push(":enabled",":disabled")});Ob=Ob.length&&RegExp(Ob.join("|"));P=function(b,c,d,e,f){if(!e&&!f&&(!Ob||!Ob.test(b)))if(9===c.nodeType)try{return Cc.apply(d,Nb.call(c.querySelectorAll(b),0)),d}catch(g){}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var h,j,k,l=c.getAttribute("id"),m=l||jb,n=td.test(b)&&c.parentNode||c;l?m=m.replace(Be,"\\$&"):c.setAttribute("id",m);h=a(b,c,f);m="[id='"+m+"']";j=0;for(k=h.length;j<k;j++)h[j]=
m+h[j].P;try{return Cc.apply(d,Nb.call(n.querySelectorAll(h.join(",")),0)),d}catch(p){}finally{l||c.removeAttribute("id")}}return Ae(b,c,d,e,f)};id&&(b(function(a){Sd=id.call(a,"div");try{id.call(a,"[test!='']:sizzle"),hd.push(mc.PSEUDO.source,mc.POS.source,"!=")}catch(b){}}),hd=RegExp(hd.join("|")),g.matchesSelector=function(a,b){b=b.replace(Ce,"='$1']");if(!ed(a)&&!hd.test(b)&&(!Ob||!Ob.test(b)))try{var c=id.call(a,b);if(c||Sd||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<g(b,
u,u,[a]).length})}da.Dh.nth=da.Dh.eq;da.filters=da.qe;g.zb=e.zb;e.find=g;e.Xa=g.kq;e.Xa[":"]=e.Xa.qe;e.unique=g.Tk;e.text=g.No;e.rf=g.Yo;e.contains=g.contains;var O=/Until$/,fa=/^(?:parents|prev(?:Until|All))/,se=/^.[^:#\[\.,]*$/,$=e.Xa.match.Wy,De={children:t,ae:t,next:t,Qp:t};e.m.extend({find:function(a){var b,c,d,f,g,h,j=this;if("string"!==typeof a)return e(a).filter(function(){b=0;for(c=j.length;b<c;b++)if(e.contains(j[b],this))return t});h=this.Oa("","find",a);b=0;for(c=this.length;b<c;b++)if(d=
h.length,e.find(a,this[b],h),0<b)for(f=d;f<h.length;f++)for(g=0;g<d;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},Oj:function(a){var b,c=e(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(e.contains(this,c[b]))return t})},dz:function(a){return this.Oa(U(this,a,y),"not",a)},filter:function(a){return this.Oa(U(this,a,t),"filter",a)},Wo:function(a){return!!a&&("string"===typeof a?$.test(a)?0<=e(a,this.na).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},Hw:function(a,
b){for(var c,d=0,f=this.length,g=[],h=$.test(a)||"string"!==typeof a?e(a,b||this.na):0;d<f;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(h?-1<h.index(c):e.find.matchesSelector(c,a)){g.push(c);break}c=c.parentNode}g=1<g.length?e.unique(g):g;return this.Oa(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.Rp().length:-1:"string"===typeof a?e.Yb(this[0],e(a)):e.Yb(a.tf?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?e(a,b):e.qd(a&&a.nodeType?[a]:
a),d=e.ta(this.get(),c);return this.Oa(nb(c[0])||nb(d[0])?d:e.unique(d))},Jn:function(a){return this.add(a==u?this.zh:this.zh.filter(a))}});e.m.cw=e.m.Jn;e.k({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:u},tz:function(a){return e.dir(a,"parentNode")},uz:function(a,b,c){return e.dir(a,"parentNode",c)},next:function(a){return ga(a,"nextSibling")},Qp:function(a){return ga(a,"previousSibling")},Yy:function(a){return e.dir(a,"nextSibling")},Rp:function(a){return e.dir(a,"previousSibling")},
Zy:function(a,b,c){return e.dir(a,"nextSibling",c)},Fz:function(a,b,c){return e.dir(a,"previousSibling",c)},tA:function(a){return e.Lk((a.parentNode||{}).firstChild,a)},children:function(a){return e.Lk(a.firstChild)},ae:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.ta([],a.childNodes)}},function(a,b){e.m[a]=function(c,d){var f=e.map(this,b,c);O.test(a)||(d=c);d&&"string"===typeof d&&(f=e.filter(d,f));f=1<this.length&&!De[a]?e.unique(f):f;1<this.length&&fa.test(a)&&
(f=f.reverse());return this.Oa(f,a,wa.call(arguments).join(","))}});e.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,b,c){var d=[];for(a=a[b];a&&9!==a.nodeType&&(c===I||1!==a.nodeType||!e(a).Wo(c));)1===a.nodeType&&d.push(a),a=a[b];return d},Lk:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Md="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
Ee=/ jQuery\d+="(?:null|\d+)"/g,wd=/^\s+/,Td=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ud=/<([\w:]+)/,Fe=/<tbody/i,aa=/<|&#?\w+;/,ba=/<(?:script|style|link)/i,ca=/<(?:script|object|embed|option|style)/i,ya=RegExp("<(?:"+Md+")[\\s/>]","i"),Ld=/^(?:checkbox|radio)$/,Vd=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/\/(java|ecma)script/i,He=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ya={ik:[1,"<select multiple='multiple'>","</select>"],hy:[1,"<fieldset>","</fieldset>"],Aq:[1,
"<table>","</table>"],$A:[2,"<table><tbody>","</tbody></table>"],zq:[3,"<table><tbody><tr>","</tr></tbody></table>"],Iw:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],Sf:[1,"<map>","</map>"],xb:[0,"",""]},Wd=qc(R),jc=Wd.appendChild(R.createElement("div"));Ya.oz=Ya.ik;Ya.Sk=Ya.VA=Ya.Jw=Ya.caption=Ya.Aq;Ya.WA=Ya.zq;e.n.Rj||(Ya.xb=[1,"X<div>","</div>"]);e.m.extend({text:function(a){return e.yb(this,function(a){return a===I?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
R).createTextNode(a))},u,a,arguments.length)},Ph:function(a){if(e.r(a))return this.k(function(b){e(this).Ph(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).Bj(0).d(t);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},Rq:function(a){return e.r(a)?this.k(function(b){e(this).Rq(a.call(this,b))}):this.k(function(){var b=e(this),c=b.ae();c.length?c.Ph(a):b.append(a)})},
Hi:function(a){var b=e.r(a);return this.k(function(c){e(this).Ph(b?a.call(this,c):a)})},kB:function(){return this.parent().k(function(){e.nodeName(this,"body")||e(this).sk(this.childNodes)}).end()},append:function(){return this.nd(arguments,t,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},Dz:function(){return this.nd(arguments,t,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},Un:function(){if(!nb(this[0]))return this.nd(arguments,
y,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=e.Og(arguments);return this.Oa(e.ta(a,this),"before",this.P)}},$v:function(){if(!nb(this[0]))return this.nd(arguments,y,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=e.Og(arguments);return this.Oa(e.ta(this,a),"after",this.P)}},remove:function(a,b){for(var c,d=0;(c=this[d])!=u;d++)if(!a||e.filter(a,[c]).length)!b&&1===c.nodeType&&(e.Zd(c.getElementsByTagName("*")),e.Zd([c])),
c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,b=0;(a=this[b])!=u;b++)for(1===a.nodeType&&e.Zd(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},d:function(a,b){a=a==u?y:a;b=b==u?a:b;return this.map(function(){return e.d(this,a,b)})},je:function(a){return e.yb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(a===I)return 1===b.nodeType?b.innerHTML.replace(Ee,""):I;if("string"===typeof a&&!ba.test(a)&&(e.n.Rj||!ya.test(a))&&
(e.n.Zj||!wd.test(a))&&!Ya[(Ud.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Td,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(e.Zd(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},u,a,arguments.length)},sk:function(a){if(!nb(this[0])){if(e.r(a))return this.k(function(b){var c=e(this),d=c.je();c.sk(a.call(this,b,d))});"string"!==typeof a&&(a=e(a).detach());return this.k(function(){var b=this.nextSibling,c=this.parentNode;e(this).remove();b?e(b).Un(a):
e(c).append(a)})}return this.length?this.Oa(e(e.r(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,t)},nd:function(a,b,c){a=[].concat.apply([],a);var d,f,g,h=0,j=a[0],k=[],l=this.length;if(!e.n.pj&&1<l&&"string"===typeof j&&Vd.test(j))return this.k(function(){e(this).nd(a,b,c)});if(e.r(j))return this.k(function(d){var f=e(this);a[0]=j.call(this,d,b?f.je():I);f.nd(a,b,c)});if(this[0]){d=e.lj(a,this,k);g=d.eh;f=g.firstChild;1===g.childNodes.length&&(g=f);if(f){b=b&&e.nodeName(f,
"tr");for(d=d.mj||l-1;h<l;h++)c.call(b&&e.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h],h===d?g:e.d(g,t,t))}g=f=u;k.length&&e.k(k,function(a,b){b.src?e.hd?e.hd({url:b.src,type:"GET",dataType:"script",async:y,global:y,"throws":t}):e.error("no ajax"):e.Mj((b.text||b.textContent||b.innerHTML||"").replace(He,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});e.lj=function(a,b,c){var d,f,g,h=a[0];
b=b||R;b=!b.nodeType&&b[0]||b;b=b.ownerDocument||b;if(1===a.length&&"string"===typeof h&&512>h.length&&b===R&&"<"===h.charAt(0)&&!ca.test(h)&&(e.n.pj||!Vd.test(h))&&(e.n.jh||!ya.test(h)))f=t,d=e.Gj[h],g=d!==I;d||(d=b.createDocumentFragment(),e.Og(a,b,d,c),f&&(e.Gj[h]=g&&d));return{eh:d,mj:f}};e.Gj={};e.k({Rn:"append",Ez:"prepend",insertBefore:"before",ey:"after",Pz:"replaceWith"},function(a,b){e.m[a]=function(c){var d,f=0,g=[];c=e(c);var h=c.length;d=1===this.length&&this[0].parentNode;if((d==u||
d&&11===d.nodeType&&1===d.childNodes.length)&&1===h)return c[b](this[0]),this;for(;f<h;f++)d=(0<f?this.d(t):this).get(),e(c[f])[b](d),g=g.concat(d);return this.Oa(g,a,c.P)}});e.extend({d:function(a,b,c){var d,f,g,h;e.n.jh||e.rf(a)||!ya.test("<"+a.nodeName+">")?h=a.cloneNode(t):(jc.innerHTML=a.outerHTML,jc.removeChild(h=jc.firstChild));if((!e.n.ek||!e.n.zp)&&(1===a.nodeType||11===a.nodeType)&&!e.rf(a)){Jc(a,h);d=D(a);f=D(h);for(g=0;d[g];++g)f[g]&&Jc(d[g],f[g])}if(b&&(S(a,h),c)){d=D(a);f=D(h);for(g=
0;d[g];++g)S(d[g],f[g])}return h},Og:function(a,b,c,d){var f,g,h,j,k,l,m=b===R&&Wd,n=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=R;for(f=0;(h=a[f])!=u;f++)if("number"===typeof h&&(h+=""),h){if("string"===typeof h)if(aa.test(h)){m=m||qc(b);l=b.createElement("div");m.appendChild(l);h=h.replace(Td,"<$1></$2>");g=(Ud.exec(h)||["",""])[1].toLowerCase();j=Ya[g]||Ya.xb;k=j[0];for(l.innerHTML=j[1]+h+j[2];k--;)l=l.lastChild;if(!e.n.Sk){k=Fe.test(h);j="table"===g&&!k?l.firstChild&&l.firstChild.childNodes:
"<table>"===j[1]&&!k?l.childNodes:[];for(g=j.length-1;0<=g;--g)e.nodeName(j[g],"tbody")&&!j[g].childNodes.length&&j[g].parentNode.removeChild(j[g])}!e.n.Zj&&wd.test(h)&&l.insertBefore(b.createTextNode(wd.exec(h)[0]),l.firstChild);h=l.childNodes;l.parentNode.removeChild(l)}else h=b.createTextNode(h);h.nodeType?n.push(h):e.ta(n,h)}l&&(h=l=m=u);if(!e.n.Qn)for(f=0;(h=n[f])!=u;f++)e.nodeName(h,"input")?Sa(h):"undefined"!==typeof h.getElementsByTagName&&e.Fc(h.getElementsByTagName("input"),Sa);if(c){a=
function(a){if(!a.type||Ge.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=n[f])!=u;f++)if(!e.nodeName(h,"script")||!a(h))c.appendChild(h),"undefined"!==typeof h.getElementsByTagName&&(h=e.Fc(e.ta([],h.getElementsByTagName("script")),a),n.splice.apply(n,[f+1,0].concat(h)),f+=h.length)}return n},Zd:function(a,b){for(var c,d,f,g,h=0,j=e.expando,k=e.Va,l=e.n.Sg,m=e.event.Qa;(f=a[h])!=u;h++)if(b||e.Yd(f))if(c=(d=f[j])&&k[d]){if(c.Ub)for(g in c.Ub)m[g]?
e.event.remove(f,g):e.rk(f,g,c.handle);k[d]&&(delete k[d],l?delete f[j]:f.removeAttribute?f.removeAttribute(j):f[j]=u,e.xj.push(d))}}});var jd,Bb;e.Kq=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{Uf:a[1]||"",version:a[2]||"0"}};jd=e.Kq(Wa.userAgent);Bb={};jd.Uf&&(Bb[jd.Uf]=t,Bb.version=jd.version);
Bb.Ew?Bb.Qq=t:Bb.Qq&&(Bb.Xz=t);e.Uf=Bb;e.sub=function(){function a(b,c){return new a.m.Ca(b,c)}e.extend(t,a,this);a.OA=this;a.m=a.prototype=this();a.m.constructor=a;a.sub=this.sub;a.m.Ca=function(c,d){d&&(d instanceof e&&!(d instanceof a))&&(d=a(d));return e.m.Ca.call(this,c,d,b)};a.m.Ca.prototype=a.m;var b=a(R);return a};var Ja,Kb,cc,kc=/alpha\([^)]*\)/i,Ie=/opacity=([^)]*)/,Je=/^(top|right|bottom|left)$/,Ke=/^(none|table(?!-c[ea]).+)/,sc=/^margin/,re=RegExp("^("+ia+")(.*)$","i"),Zb=RegExp("^("+
ia+")(?!px)[a-z%]+$","i"),Le=RegExp("^([-+])=("+ia+")","i"),Ia={},Me={position:"absolute",visibility:"hidden",display:"block"},yc={letterSpacing:0,fontWeight:400},Pb=["Top","Right","Bottom","Left"],Kd=["Webkit","O","Moz","ms"],Fb=e.m.toggle;e.m.extend({J:function(a,b){return e.yb(this,function(a,b,c){return c!==I?e.style(a,b,c):e.J(a,b)},a,b,1<arguments.length)},show:function(){return ma(this,t)},Qj:function(){return ma(this)},toggle:function(a,b){var c="boolean"===typeof a;return e.r(a)&&e.r(b)?
Fb.apply(this,arguments):this.k(function(){(c?a:N(this))?e(this).show():e(this).Qj()})}});e.extend({La:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},Pg:{fillOpacity:t,fontWeight:t,lineHeight:t,opacity:t,orphans:t,widows:t,zIndex:t,zoom:t},ce:{"float":e.n.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var f,g,h,j=e.Dc(b),k=a.style;b=e.ce[j]||(e.ce[j]=M(k,j));h=e.La[b]||e.La[j];if(c!==I){g=typeof c;if("string"===
g&&(f=Le.exec(c)))c=(f[1]+1)*f[2]+parseFloat(e.J(a,b)),g="number";if(!(c==u||"number"===g&&isNaN(c)))if("number"===g&&!e.Pg[j]&&(c+="px"),!h||!("set"in h)||(c=h.set(a,c,d))!==I)try{k[b]=c}catch(l){}}else return h&&"get"in h&&(f=h.get(a,y,d))!==I?f:k[b]}},J:function(a,b,c,d){var f,g;g=e.Dc(b);b=e.ce[g]||(e.ce[g]=M(a.style,g));(g=e.La[b]||e.La[g])&&"get"in g&&(f=g.get(a,t,d));f===I&&(f=Ja(a,b));"normal"===f&&b in yc&&(f=yc[b]);return c||d!==I?(a=parseFloat(f),c||e.Vj(a)?a||0:f):f},Rk:function(a,b,c){var d,
e={};for(d in b)e[d]=a.style[d],a.style[d]=b[d];c=c.call(a);for(d in b)a.style[d]=e[d];return c}});J.getComputedStyle?Ja=function(a,b){var c,d,f,g,h=J.getComputedStyle(a,u),j=a.style;h&&(c=h[b],""===c&&!e.contains(a.ownerDocument,a)&&(c=e.style(a,b)),Zb.test(c)&&sc.test(b)&&(d=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=c,c=h.width,j.width=d,j.minWidth=f,j.maxWidth=g));return c}:R.documentElement.currentStyle&&(Ja=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;
e==u&&(f&&f[b])&&(e=f[b]);if(Zb.test(e)&&!Je.test(b)){c=f.left;if(d=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":e;e=f.pixelLeft+"px";f.left=c;d&&(a.runtimeStyle.left=d)}return""===e?"auto":e});e.k(["height","width"],function(a,b){e.La[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&Ke.test(Ja(a,"display"))?e.Rk(a,Me,function(){return W(a,b,d)}):W(a,b,d)},set:function(a,c,d){return K(0,c,d?fd(a,b,d,e.n.boxSizing&&"border-box"===e.J(a,
"boxSizing")):0)}}});e.n.opacity||(e.La.opacity={get:function(a,b){return Ie.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,f=e.Vj(b)?"alpha(opacity="+100*b+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===e.trim(g.replace(kc,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),d&&!d.filter))return;c.filter=kc.test(g)?g.replace(kc,f):g+" "+f}});e(function(){e.n.qk||(e.La.marginRight=
{get:function(a,b){return e.Rk(a,{display:"inline-block"},function(){if(b)return Ja(a,"marginRight")})}});!e.n.lk&&e.m.position&&e.k(["top","left"],function(a,b){e.La[b]={get:function(a,c){if(c){var d=Ja(a,b);return Zb.test(d)?e(a).position()[b]+"px":d}}}})});e.Xa&&e.Xa.filters&&(e.Xa.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!e.n.Yp&&"none"===(a.style&&a.style.display||Ja(a,"display"))},e.Xa.filters.visible=function(a){return!e.Xa.filters.hidden(a)});e.k({margin:"",
padding:"",border:"Width"},function(a,b){e.La[a+b]={expand:function(c){var d="string"===typeof c?c.split(" "):[c],e={};for(c=0;4>c;c++)e[a+Pb[c]+b]=d[c]||d[c-2]||d[0];return e}};sc.test(a)||(e.La[a+b].set=K)});var Ne=/%20/g,Db=/\[\]$/,zb=/\r?\n/g,Oc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Fc=/^(?:select|textarea)/i;e.m.extend({Zz:function(){return e.jk(this.lq())},lq:function(){return this.map(function(){return this.elements?
e.qd(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Fc.test(this.nodeName)||Oc.test(this.type))}).map(function(a,b){var c=e(this).zd();return c==u?u:e.isArray(c)?e.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}});e.jk=function(a,b){function c(a,b){b=e.r(b)?b():b==u?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}var d,f=[];b===I&&(b=e.yc&&e.yc.Iq);if(e.isArray(a)||a.tf&&
!e.pf(a))e.k(a,function(){c(this.name,this.value)});else for(d in a)V(d,a[d],b,c);return f.join("&").replace(Ne,"+")};var Ga,Pa,Gc=/#.*$/,Hc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,oc=/^(?:GET|HEAD)$/,Mb=/^\/\//,Za=/\?/,Sb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,sb=/([?&])_=[^&]*/,ka=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ua=e.m.load,G={},Ta={},Cb=["*/"]+["*"];try{Ga=va.href}catch(kf){Ga=R.createElement("a"),Ga.href="",Ga=Ga.href}Pa=ka.exec(Ga.toLowerCase())||[];e.m.load=function(a,
b,c){if("string"!==typeof a&&ua)return ua.apply(this,arguments);if(!this.length)return this;var d,f,g,h=this,j=a.indexOf(" ");0<=j&&(d=a.slice(j,a.length),a=a.slice(0,j));e.r(b)?(c=b,b=I):b&&"object"===typeof b&&(f="POST");e.hd({url:a,type:f,dataType:"html",data:b,complete:function(a,b){c&&h.k(c,g||[a.responseText,b,a])}}).jb(function(a){g=arguments;h.je(d?e("<div>").append(a.replace(Sb,"")).find(d):a)});return this};e.k("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){e.m[b]=function(a){return this.cc(b,a)}});e.k(["get","post"],function(a,b){e[b]=function(a,c,d,f){e.r(c)&&(f=f||d,d=c,c=I);return e.hd({type:b,url:a,data:c,Qk:d,dataType:f})}});e.extend({Mx:function(a,b){return e.get(a,I,b,"script")},Hx:function(a,b,c){return e.get(a,b,c,"json")},Gg:function(a,b){b?v(a,e.yc):(b=a,a=e.yc);v(a,b);return a},yc:{url:Ga,Uj:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Pa[1]),global:t,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
Tp:t,async:t,df:{xml:"application/xml, text/xml",je:"text/html",text:"text/plain",Zo:"application/json, text/javascript","*":Cb},ae:{xml:/xml/,je:/html/,Zo:/json/},fq:{xml:"responseXML",text:"responseText"},be:{"* text":J.lv,"text html":t,"text json":e.kk,"text xml":e.Lp},Fo:{na:t,url:t}},ej:Q(G),fj:Q(Ta),hd:function(a,b){function c(a,b,g,k){var m,H,x,z,A=b;if(2!==C){C=2;j&&clearTimeout(j);h=I;f=k||"";B.readyState=0<a?4:0;if(g){z=n;k=B;var E,D,F,G,J=z.ae,K=z.ib,M=z.fq;for(D in M)D in g&&(k[M[D]]=
g[D]);for(;"*"===K[0];)K.shift(),E===I&&(E=z.sh||k.getResponseHeader("content-type"));if(E)for(D in J)if(J[D]&&J[D].test(E)){K.unshift(D);break}if(K[0]in g)F=K[0];else{for(D in g){if(!K[0]||z.be[D+" "+K[0]]){F=D;break}G||(G=D)}F=F||G}F?(F!==K[0]&&K.unshift(F),z=g[F]):z=r}if(200<=a&&300>a||304===a)if(n.To&&((g=B.getResponseHeader("Last-Modified"))&&(e.lastModified[d]=g),(g=B.getResponseHeader("Etag"))&&(e.Xg[d]=g)),304===a)A="notmodified",m=t;else{a:{H=n;x=z;var L,Qa,A=H.ib.slice();E=A[0];D={};F=0;
H.qo&&(x=H.qo(x,H.dataType));if(A[1])for(L in H.be)D[L.toLowerCase()]=H.be[L];for(;g=A[++F];)if("*"!==g){if("*"!==E&&E!==g){L=D[E+" "+g]||D["* "+g];if(!L)for(Qa in D)if(m=Qa.split(" "),m[1]===g&&(L=D[E+" "+m[0]]||D["* "+m[0]])){L===t?L=D[Qa]:D[Qa]!==t&&(g=m[0],A.splice(F--,0,g));break}if(L!==t)if(L&&H["throws"])x=L(x);else try{x=L(x)}catch(N){m={state:"parsererror",error:L?N:"No conversion from "+E+" to "+g};break a}}E=g}m={state:"success",data:x}}A=m.state;H=m.data;x=m.error;m=!x}else if(x=A,!A||
a)A="error",0>a&&(a=0);B.status=a;B.statusText=""+(b||A);m?s.ud(p,[H,A,B]):s.Xp(p,[B,A,x]);B.Pk(w);w=I;l&&q.ra("ajax"+(m?"Success":"Error"),[B,n,m?H:x]);v.Zg(p,[B,A]);l&&(q.ra("ajaxComplete",[B,n]),--e.gb||e.event.ra("ajaxStop"))}}"object"===typeof a&&(b=a,a=I);b=b||{};var d,f,g,h,j,k,l,m,n=e.Gg({},b),p=n.na||n,q=p!==n&&(p.nodeType||p instanceof e)?e(p):e.event,s=e.Zc(),v=e.Vd("once memory"),w=n.Pk||{},x={},A={},C=0,E="canceled",B={readyState:0,setRequestHeader:function(a,b){if(!C){var c=a.toLowerCase();
a=A[c]=A[c]||a;x[a]=b}return this},getAllResponseHeaders:function(){return 2===C?f:u},getResponseHeader:function(a){var b;if(2===C){if(!g)for(g={};b=Hc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return b===I?u:b},overrideMimeType:function(a){C||(n.sh=a);return this},abort:function(a){a=a||E;h&&h.abort(a);c(0,a);return this}};s.qa(B);B.Qk=B.jb;B.error=B.he;B.complete=v.add;B.Pk=function(a){if(a){var b;if(2>C)for(b in a)w[b]=[w[b],a[b]];else b=a[B.status],B.zc(b)}return this};n.url=((a||
n.url)+"").replace(Gc,"").replace(Mb,Pa[1]+"//");n.ib=e.trim(n.dataType||"*").toLowerCase().split(za);n.ld==u&&(k=ka.exec(n.url.toLowerCase()),n.ld=!(!k||!(k[1]!=Pa[1]||k[2]!=Pa[2]||(k[3]||("http:"===k[1]?80:443))!=(Pa[3]||("http:"===Pa[1]?80:443)))));n.data&&(n.Tp&&"string"!==typeof n.data)&&(n.data=e.jk(n.data,n.Iq));z(G,n,b,B);if(2===C)return B;l=n.global;n.type=n.type.toUpperCase();n.hh=!oc.test(n.type);l&&0===e.gb++&&e.event.ra("ajaxStart");if(!n.hh&&(n.data&&(n.url+=(Za.test(n.url)?"&":"?")+
n.data,delete n.data),d=n.url,n.Va===y)){k=e.now();var D=n.url.replace(sb,"$1_="+k);n.url=D+(D===n.url?(Za.test(n.url)?"&":"?")+"_="+k:"")}(n.data&&n.hh&&n.contentType!==y||b.contentType)&&B.setRequestHeader("Content-Type",n.contentType);n.To&&(d=d||n.url,e.lastModified[d]&&B.setRequestHeader("If-Modified-Since",e.lastModified[d]),e.Xg[d]&&B.setRequestHeader("If-None-Match",e.Xg[d]));B.setRequestHeader("Accept",n.ib[0]&&n.df[n.ib[0]]?n.df[n.ib[0]]+("*"!==n.ib[0]?", "+Cb+"; q=0.01":""):n.df["*"]);
for(m in n.headers)B.setRequestHeader(m,n.headers[m]);if(n.Vn&&(n.Vn.call(p,B,n)===y||2===C))return B.abort();E="abort";for(m in{Qk:1,error:1,complete:1})B[m](n[m]);if(h=z(Ta,n,b,B)){B.readyState=1;l&&q.ra("ajaxSend",[B,n]);n.async&&0<n.timeout&&(j=setTimeout(function(){B.abort("timeout")},n.timeout));try{C=1,h.send(x,c)}catch(F){2>C?c(-1,F):sa(F)}}else c(-1,"No Transport");return B},gb:0,lastModified:{},Xg:{}});var Wc=[],pc=/\?/,Ua=/(=)\?(?=&|$)|\?\?/,Gb=e.now();e.Gg({Yj:"callback",pd:function(){var a=
Wc.pop()||e.expando+"_"+Gb++;this[a]=t;return a}});e.ej("json jsonp",function(a,b,c){var d,f,g,h=a.data,j=a.url,k=a.Yj!==y,l=k&&Ua.test(j),m=k&&!l&&"string"===typeof h&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ua.test(h);if("jsonp"===a.ib[0]||l||m)return d=a.pd=e.r(a.pd)?a.pd():a.pd,f=J[d],l?a.url=j.replace(Ua,"$1"+d):m?a.data=h.replace(Ua,"$1"+d):k&&(a.url+=(pc.test(j)?"&":"?")+a.Yj+"="+d),a.be["script json"]=function(){g||e.error(d+" was not called");return g[0]},a.ib[0]=
"json",J[d]=function(){g=arguments},c.zc(function(){J[d]=f;a[d]&&(a.pd=b.pd,Wc.push(d));g&&e.r(f)&&f(g[0]);g=f=I}),"script"});e.Gg({df:{iq:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},ae:{iq:/javascript|ecmascript/},be:{"text script":function(a){e.Mj(a);return a}}});e.ej("script",function(a){a.Va===I&&(a.Va=y);a.ld&&(a.type="GET",a.global=y)});e.fj("script",function(a){if(a.ld){var b,c=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(d,
e){b=R.createElement("script");b.async="async";a.jq&&(b.charset=a.jq);b.src=a.url;b.onload=b.onreadystatechange=function(a,d){if(d||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=u,c&&b.parentNode&&c.removeChild(b),b=I,d||e(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var Ha,bb=J.ActiveXObject?function(){for(var a in Ha)Ha[a](0,1)}:y,Pe=0;e.yc.Wk=J.ActiveXObject?function(){var a;if(!(a=!this.Uj&&p()))a:{try{a=new J.ActiveXObject("Microsoft.XMLHTTP");
break a}catch(b){}a=r}return a}:p;var Xc=e.yc.Wk();e.extend(e.n,{hd:!!Xc,no:!!Xc&&"withCredentials"in Xc});e.n.hd&&e.fj(function(a){if(!a.ld||e.n.no){var b;return{send:function(c,d){var f,g,h=a.Wk();a.Nq?h.open(a.type,a.url,a.async,a.Nq,a.wz):h.open(a.type,a.url,a.async);if(a.Xk)for(g in a.Xk)h[g]=a.Xk[g];a.sh&&h.overrideMimeType&&h.overrideMimeType(a.sh);!a.ld&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");try{for(g in c)h.setRequestHeader(g,c[g])}catch(j){}h.send(a.hh&&a.data||
u);b=function(c,g){var j,k,l,m,n;try{if(b&&(g||4===h.readyState))if(b=I,f&&(h.onreadystatechange=e.fk,bb&&delete Ha[f]),g)4!==h.readyState&&h.abort();else{j=h.status;l=h.getAllResponseHeaders();m={};if((n=h.responseXML)&&n.documentElement)m.xml=n;try{m.text=h.responseText}catch(p){}try{k=h.statusText}catch(q){k=""}!j&&a.Uj&&!a.ld?j=m.text?200:404:1223===j&&(j=204)}}catch(s){g||d(-1,s)}m&&d(j,k,m,l)};a.async?4===h.readyState?setTimeout(b,0):(f=++Pe,bb&&(Ha||(Ha={},e(J).jB(bb)),Ha[f]=b),h.onreadystatechange=
b):b()},abort:function(){b&&b(0,1)}}}});var Dc,C,zc=/^(?:toggle|show|hide)$/,hc=RegExp("^(?:([-+])=|)("+ia+")([a-z%]*)$","i"),ac=/queueHooks$/,Rc=[function(a,b,c){var d,f,g,h,j,k,l=this,m=a.style,n={},p=[],q=a.nodeType&&N(a);c.U||(j=e.Eg(a,"fx"),j.Bf==u&&(j.Bf=0,k=j.empty.ie,j.empty.ie=function(){j.Bf||k()}),j.Bf++,l.zc(function(){l.zc(function(){j.Bf--;e.U(a,"fx").length||j.empty.ie()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===e.J(a,
"display")&&"none"===e.J(a,"float")&&(!e.n.Tj||"inline"===Vb(a.nodeName)?m.display="inline-block":m.zoom=1);c.overflow&&(m.overflow="hidden",e.n.Kk||l.jb(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(d in b)f=b[d],zc.exec(f)&&(delete b[d],f!==(q?"hide":"show")&&p.push(d));if(f=p.length){g=e.F(a,"fxshow")||e.F(a,"fxshow",{});q?e(a).show():l.jb(function(){e(a).Qj()});l.jb(function(){var b;e.td(a,"fxshow",t);for(b in n)e.style(a,b,n[b])});for(d=0;d<f;d++)b=
p[d],h=l.uj(b,q?g[b]:0),n[b]=g[b]||e.style(a,b),b in g||(g[b]=h.start,q&&(h.end=h.start,h.start="width"===b||"height"===b?1:0))}}],xc={"*":[function(a,b){var c,d,f,g=this.uj(a,b),h=hc.exec(b),j=g.Qg(),k=+j||0,l=1;if(h){c=+h[2];d=h[3]||(e.Pg[a]?"":"px");if("px"!==d&&k){k=e.J(g.I,a,t)||c||1;do f=l=l||".5",k/=l,e.style(g.I,a,k+d),l=g.Qg()/j;while(1!==l&&l!==f)}g.Uk=d;g.start=k;g.end=h[1]?k+(h[1]+1)*c:c}return g}]};e.Ve=e.extend(w,{cB:function(a,b){e.r(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,f=
a.length;d<f;d++)c=a[d],xc[c]=xc[c]||[],xc[c].unshift(b)},Cz:function(a,b){b?Rc.unshift(a):Rc.push(a)}});e.sn=q;q.prototype={constructor:q,Ca:function(a,b,c,d,f,g){this.I=a;this.ea=c;this.fe=f||"swing";this.options=b;this.start=this.now=this.Qg();this.end=d;this.Uk=g||(e.Pg[c]?"":"px")},Qg:function(){var a=q.nb[this.ea];return a&&a.get?a.get(this):q.nb.xb.get(this)},tk:function(a){var b,c=q.nb[this.ea];this.Cm=this.options.duration?b=e.fe[this.fe](a,this.options.duration*a,0,1,this.options.duration):
b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.I,this.now,this);c&&c.set?c.set(this):q.nb.xb.set(this);return this}};q.prototype.Ca.prototype=q.prototype;q.nb={xb:{get:function(a){if(a.I[a.ea]!=u&&(!a.I.style||a.I.style[a.ea]==u))return a.I[a.ea];a=e.J(a.I,a.ea,y,"");return!a||"auto"===a?0:a},set:function(a){if(e.da.step[a.ea])e.da.step[a.ea](a);else a.I.style&&(a.I.style[e.ce[a.ea]]!=u||e.La[a.ea])?e.style(a.I,a.ea,a.now+a.Uk):a.I[a.ea]=a.now}}};q.nb.scrollTop=
q.nb.scrollLeft={set:function(a){a.I.nodeType&&a.I.parentNode&&(a.I[a.ea]=a.now)}};e.k(["toggle","show","hide"],function(a,b){var c=e.m[b];e.m[b]=function(d,f,g){return d==u||"boolean"===typeof d||!a&&e.r(d)&&e.r(f)?c.apply(this,arguments):this.Hg(n(b,t),d,f,g)}});e.m.extend({rx:function(a,b,c,d){return this.filter(N).J("opacity",0).show().end().Hg({opacity:b},a,c,d)},Hg:function(a,b,c,d){function f(){var b=w(this,e.extend({},a),h);g&&b.stop(t)}var g=e.nf(a),h=e.speed(b,c,d);return g||h.U===y?this.k(f):
this.U(h.U,f)},stop:function(a,b,c){function d(a){var b=a.stop;delete a.stop;b(c)}"string"!==typeof a&&(c=b,b=a,a=I);b&&a!==y&&this.U(a||"fx",[]);return this.k(function(){var b=t,f=a!=u&&a+"queueHooks",g=e.Af,h=e.F(this);if(f)h[f]&&h[f].stop&&d(h[f]);else for(f in h)h[f]&&(h[f].stop&&ac.test(f))&&d(h[f]);for(f=g.length;f--;)if(g[f].I===this&&(a==u||g[f].U===a))g[f].On.stop(c),b=y,g.splice(f,1);(b||!c)&&e.md(this,a)})}});e.k({vA:n("show"),xA:n("hide"),wA:n("toggle"),px:{opacity:"show"},qx:{opacity:"hide"},
sx:{opacity:"toggle"}},function(a,b){e.m[a]=function(a,c,d){return this.Hg(b,a,c,d)}});e.speed=function(a,b,c){var d=a&&"object"===typeof a?e.extend({},a):{complete:c||!c&&b||e.r(a)&&a,duration:a,fe:c&&b||b&&!e.r(b)&&b};d.duration=e.da.Db?0:"number"===typeof d.duration?d.duration:d.duration in e.da.zf?e.da.zf[d.duration]:e.da.zf.xb;if(d.U==u||d.U===t)d.U="fx";d.hk=d.complete;d.complete=function(){e.r(d.hk)&&d.hk.call(this);d.U&&e.md(this,d.U)};return d};e.fe={qy:mb(),QA:function(a){return 0.5-Math.cos(a*
Math.PI)/2}};e.Af=[];e.da=q.prototype.Ca;e.da.Cq=function(){for(var a,b=e.Af,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||e.da.stop()};e.da.Eq=function(a){a()&&(e.Af.push(a)&&!C)&&(C=setInterval(e.da.Cq,e.da.Vo))};e.da.Vo=13;e.da.stop=function(){clearInterval(C);C=u};e.da.zf={yA:600,tx:200,xb:400};e.da.step={};e.Xa&&e.Xa.filters&&(e.Xa.filters.dw=function(a){return e.Fc(e.Af,function(b){return a===b.I}).length});var xd=/^(?:body|html)$/i;e.m.offset=function(a){if(arguments.length)return a===
I?this:this.k(function(b){e.offset.pq(this,a,b)});var b,c,d,f,g,h;if(g=(b=this[0])&&b.ownerDocument){if((d=g.body)===b)return e.offset.Zn(b);c=g.documentElement;if(!e.contains(c,b))return{top:0,left:0};b=b.getBoundingClientRect();f=m(g);g=c.clientTop||d.clientTop||0;d=c.clientLeft||d.clientLeft||0;h=f.pageYOffset||c.scrollTop;c=f.pageXOffset||c.scrollLeft;g=b.top+h-g;b=b.left+c-d;return{top:g,left:b}}};e.offset={Zn:function(a){var b=a.offsetTop,c=a.offsetLeft;e.n.yo&&(b+=parseFloat(e.J(a,"marginTop"))||
0,c+=parseFloat(e.J(a,"marginLeft"))||0);return{top:b,left:c}},pq:function(a,b,c){var d=e.J(a,"position");"static"===d&&(a.style.position="relative");var f=e(a),g=f.offset(),h=e.J(a,"top"),j=e.J(a,"left"),k={},l={};("absolute"===d||"fixed"===d)&&-1<e.Yb("auto",[h,j])?(l=f.position(),d=l.top,j=l.left):(d=parseFloat(h)||0,j=parseFloat(j)||0);e.r(b)&&(b=b.call(a,c,g));b.top!=u&&(k.top=b.top-g.top+d);b.left!=u&&(k.left=b.left-g.left+j);"using"in b?b.pB.call(a,k):f.J(k)}};e.m.extend({position:function(){if(this[0]){var a=
this[0],b=this.offsetParent(),c=this.offset(),d=xd.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(e.J(a,"marginTop"))||0;c.left-=parseFloat(e.J(a,"marginLeft"))||0;d.top+=parseFloat(e.J(b[0],"borderTopWidth"))||0;d.left+=parseFloat(e.J(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||R.body;a&&!xd.test(a.nodeName)&&"static"===e.J(a,"position");)a=a.offsetParent;return a||R.body})}});
e.k({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);e.m[a]=function(d){return e.yb(this,function(a,d,f){var g=m(a);if(f===I)return g?b in g?g[b]:g.document.documentElement[d]:a[d];g?g.scrollTo(!c?f:e(g).scrollLeft(),c?f:e(g).scrollTop()):a[d]=f},a,d,arguments.length,u)}});e.k({Mu:"height",zv:"width"},function(a,b){e.k({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){e.m[d]=function(d,f){var g=arguments.length&&(c||"boolean"!==typeof d),h=c||(d===t||f===t?
"margin":"border");return e.yb(this,function(b,c,d){return e.Gc(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):d===I?e.J(b,c,d,h):e.style(b,c,d,h)},b,g?d:I,g,u)}})});J.sf=J.qg=e;"function"===typeof define&&(define.gj&&define.gj.sf)&&define("jquery",[],function(){return e});return e}"object"===typeof s?V.mc=T():"function"===typeof define&&define.gj?define([],T):this.Rz=T()});
me.Jb("/client/main.js",function(F){var V=F("../framework/Game"),s=F("./vendor/jquery");THREE=F("../client/vendor/Three");jQuery(function(){game=new V({container:s("#canvas_container"),allowFullScreen:t});game.dy();game.ij().start()})});me("/client/main.js");
